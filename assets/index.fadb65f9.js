var Je=Object.defineProperty,Ye=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var le=(t,e,n)=>e in t?Je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||(e={}))se.call(e,n)&&le(t,n,e[n]);if(J)for(var n of J(e))re.call(e,n)&&le(t,n,e[n]);return t},de=(t,e)=>Ye(t,Fe(e));var pe=(t,e)=>{var n={};for(var a in t)se.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&J)for(var a of J(t))e.indexOf(a)<0&&re.call(t,a)&&(n[a]=t[a]);return n};import"./modulepreload-polyfill.b7f2da20.js";import{W as Y,w as Q,f as fe,S as me,i as he,s as ue,a as ve,c as He,e as w,b as j,d,g as E,h as b,u as Qe,j as Xe,k as et,t as M,l as I,m as T,n as A,o as F,p as K,q as be,r as tt,v as ge,x as P,y as _e,z as we,A as nt,B as at,C as it,D as X,E as ke,F as ee,G as ot,H as ct,I as ye,J as Ce,K as st,L as rt,M as Re,N as lt,O as dt,P as xe}from"./vendor.0047f732.js";async function pt(t){var e;try{return await((e=window.navigator.clipboard)==null?void 0:e.writeText(t))}catch{const n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();const a=document.execCommand("copy");return n.remove(),a?Promise.resolve():Promise.reject()}}const ft="modulepreload",Le={},mt="",x=function(e,n){return!n||n.length===0?e():Promise.all(n.map(a=>{if(a=`${mt}${a}`,a in Le)return;Le[a]=!0;const i=a.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":ft,i||(o.as="script",o.crossOrigin=""),o.href=a,document.head.appendChild(o),i)return new Promise((s,f)=>{o.addEventListener("load",s),o.addEventListener("error",f)})})).then(()=>e())},ht={kind:"Browser",src:()=>x(()=>import("./index.2e56faf9.js"),["assets/index.2e56faf9.js","assets/vendor.0047f732.js"]),options:{title:"Browser"},attributes:{url:"https://example.org/"}};var ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ht});const vt={kind:"Countdown",src:()=>x(()=>import("./index.7dc982e7.js"),[]),options:{title:"Countdown"}};var bt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vt});const D="DocsViewer",gt=[{kind:D,src:()=>x(()=>import("./index.1cc7cec6.js"),["assets/index.1cc7cec6.js","assets/lazyload.esm.0a4b6d46.js","assets/side-effect-manager.es.789c7667.js","assets/modulepreload-polyfill.b7f2da20.js","assets/vendor.0047f732.js"]),options:{scenePath:`/${D}/1`,title:"Static PDF",scenes:[{name:"1",ppt:{height:1010,src:"https://convertcdn.netless.link/staticConvert/18140800fe8a11eb8cb787b1c376634e/1.png",width:714}},{name:"2",ppt:{height:1010,src:"https://convertcdn.netless.link/staticConvert/18140800fe8a11eb8cb787b1c376634e/2.png",width:714}}]}},{kind:D,src:()=>x(()=>import("./index.1cc7cec6.js"),["assets/index.1cc7cec6.js","assets/lazyload.esm.0a4b6d46.js","assets/side-effect-manager.es.789c7667.js","assets/modulepreload-polyfill.b7f2da20.js","assets/vendor.0047f732.js"]),options:{scenePath:`/${D}/2`,title:"Dynamic PPT",scenes:[{name:"1",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/1.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/1.slide",width:1280}},{name:"2",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/2.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/2.slide",width:1280}},{name:"3",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/3.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/3.slide",width:1280}},{name:"4",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/4.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/4.slide",width:1280}},{name:"5",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/5.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/5.slide",width:1280}},{name:"6",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/6.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/6.slide",width:1280}},{name:"7",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/7.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/7.slide",width:1280}},{name:"8",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/8.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/8.slide",width:1280}},{name:"9",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/9.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/9.slide",width:1280}},{name:"10",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/10.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/10.slide",width:1280}},{name:"11",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/11.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/11.slide",width:1280}},{name:"12",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/12.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/12.slide",width:1280}},{name:"13",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/13.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/13.slide",width:1280}},{name:"14",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/14.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/14.slide",width:1280}},{name:"15",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/15.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/15.slide",width:1280}},{name:"16",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/16.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/16.slide",width:1280}},{name:"17",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/17.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/17.slide",width:1280}},{name:"18",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/18.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/18.slide",width:1280}},{name:"19",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/19.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/19.slide",width:1280}},{name:"20",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/20.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/20.slide",width:1280}},{name:"21",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/21.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/21.slide",width:1280}},{name:"22",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/22.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/22.slide",width:1280}},{name:"23",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/23.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/23.slide",width:1280}},{name:"24",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/24.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/24.slide",width:1280}},{name:"25",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/25.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/25.slide",width:1280}},{name:"26",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/26.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/26.slide",width:1280}},{name:"27",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/27.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/27.slide",width:1280}},{name:"28",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/28.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/28.slide",width:1280}},{name:"29",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/29.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/29.slide",width:1280}},{name:"30",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/preview/30.png",src:"pptx://cover.herewhite.com/dynamicConvert/0c275260fa5111ea8b9c074232aaccd4/30.slide",width:1280}}]}},{kind:D,src:()=>x(()=>import("./index.1cc7cec6.js"),["assets/index.1cc7cec6.js","assets/lazyload.esm.0a4b6d46.js","assets/side-effect-manager.es.789c7667.js","assets/modulepreload-polyfill.b7f2da20.js","assets/vendor.0047f732.js"]),options:{scenePath:`/${D}/7`,title:"Click PPT",scenes:[{name:"1",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/1.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/1.slide",width:960}},{name:"2",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/2.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/2.slide",width:960}},{name:"3",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/3.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/3.slide",width:960}},{name:"4",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/4.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/4.slide",width:960}},{name:"5",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/5.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/5.slide",width:960}},{name:"6",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/6.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/6.slide",width:960}},{name:"7",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/7.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/7.slide",width:960}},{name:"8",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/8.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/8.slide",width:960}},{name:"9",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/9.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/9.slide",width:960}},{name:"10",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/10.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/10.slide",width:960}},{name:"11",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/11.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/11.slide",width:960}},{name:"12",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/12.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/12.slide",width:960}},{name:"13",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/13.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/13.slide",width:960}},{name:"14",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/14.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/14.slide",width:960}},{name:"15",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/15.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/15.slide",width:960}},{name:"16",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/16.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/16.slide",width:960}},{name:"17",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/17.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/17.slide",width:960}},{name:"18",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/18.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/18.slide",width:960}},{name:"19",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/19.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/19.slide",width:960}},{name:"20",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/20.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/20.slide",width:960}},{name:"21",ppt:{height:720,previewURL:"https://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/preview/21.png",src:"pptx://convertcdn.netless.link/dynamicConvert/aaf14800057311ec8936c3bb220fc543/21.slide",width:960}}]}}];var _t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gt});const wt=[{title:"Scratch",src:"http://192.168.31.195:8601/"}],kt=[{kind:"EmbeddedPage",src:()=>x(()=>import("./index.59ed8eab.js"),["assets/index.59ed8eab.js","assets/side-effect-manager.es.789c7667.js","assets/ensure-attributes.2c659353.js","assets/randomColor.65e16996.js","assets/vendor.0047f732.js"]),options:{title:"demo",scenePath:"/demo"},attributes:{src:"/embed.html"}},...wt.map(({title:t,src:e})=>({kind:"EmbeddedPage",src:()=>x(()=>import("./index.59ed8eab.js"),["assets/index.59ed8eab.js","assets/side-effect-manager.es.789c7667.js","assets/ensure-attributes.2c659353.js","assets/randomColor.65e16996.js","assets/vendor.0047f732.js"]),options:{title:t},attributes:{src:e}}))];var yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kt});let te=sessionStorage.getItem("uid");te||(te=Math.random().toString(36).slice(2),sessionStorage.setItem("uid",te));const Ct={kind:"GeoGebra",src:()=>x(()=>import("./index.c355fb2f.js"),["assets/index.c355fb2f.js","assets/side-effect-manager.es.789c7667.js","assets/ensure-attributes.2c659353.js"]),options:{title:"GeoGebra"},appOptions:{HTML5Codebase:"https://flat-storage-cn-hz.whiteboard.agora.io/GeoGebra/HTML5/5.0/web3d"}};var Rt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ct});const ze={kind:"HelloWorld",setup(t){var n,a;t.getBox().mountStyles(`
      .netless-app-hello-world {
        display: block;
        width: 100%; height: 100%;
        overflow: hidden;
        border: 0; resize: none;
        background: #fafbfc;
        padding: .5em;
      }
      .telebox-color-scheme-dark .netless-app-hello-world {
        color-scheme: dark;
        background: #121212;
        color: #eee;
      }
   `);const e=document.createElement("textarea");e.classList.add("netless-app-hello-world"),e.value=(a=(n=t.getAttributes())==null?void 0:n.text)!=null?a:"Hello world!",t.getBox().mountContent(e),e.oninput=()=>{t.updateAttributes(["text"],e.value)},t.emitter.on("attributesUpdate",i=>{(i==null?void 0:i.text)&&(e.value=i.text)}),t.emitter.on("destroy",()=>{console.log("[HelloWorld]: destroy"),e.remove()})}},Ee={kind:"TwoRange",config:{minwidth:200,minheight:100},setup(t){t.getBox().mountStyles(`
      .netless-app-two-range {
        padding: 8px;
        display: flex;
        flex-flow: column nowrap;
        justify-content: center;
        gap: 8px;
        width: 100%; height: 100%;
        overflow: hidden;
        background: #fafbfc;
      }
      .telebox-color-scheme-dark .netless-app-two-range {
        color-scheme: dark;
        background: #121212;
        color: #eee;
      }
   `);const e=B({a:50,b:50},t.getAttributes()),n=document.createElement("div");n.classList.add("netless-app-two-range");const a={},i=c=>{const o=document.createElement("input");o.type="range",o.valueAsNumber=e[c],o.oninput=()=>{const s=o.valueAsNumber;t.updateAttributes([c],e[c]=s)},a[c]=o,n.append(o)};i("a"),i("b"),t.getBox().mountContent(n),t.emitter.on("attributesUpdate",c=>{if(!!c)for(const o in c)a[o].valueAsNumber=c[o]}),t.emitter.on("destroy",()=>{n.remove()})}},xt=[{kind:ze.kind,src:ze,options:{title:"Hello, world!"}},{kind:Ee.kind,src:Ee,options:{title:"2 range"}}];var Lt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xt});const zt=[{title:"vf-engine",src:"https://vf-cdn.yunkc.cn/platform/netless/v1/index.html?total=5&docKey=4821a83c-7d61-4e23-8f6f-c23391e19dc5"},{title:"cocos",src:"https://demo-edu.cocos.com/agora-demo/index.html"},{title:"chick",src:"https://demo-h5.netless.group/dist2020/"}],Et=[{kind:"IframeBridge",src:()=>x(()=>import("./index.b3f2d183.js"),["assets/index.b3f2d183.js","assets/side-effect-manager.es.789c7667.js","assets/ensure-attributes.2c659353.js"]),options:{title:"demo"},attributes:{src:"/h5.html"}},...zt.map(({title:t,src:e})=>({kind:"IframeBridge",src:()=>x(()=>import("./index.b3f2d183.js"),["assets/index.b3f2d183.js","assets/side-effect-manager.es.789c7667.js","assets/ensure-attributes.2c659353.js"]),options:{title:t,scenePath:`/h5/${t}`,scenes:[]},attributes:{src:e,displaySceneDir:`/h5/${t}`}}))];var Tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Et});const St=[{kind:"MediaPlayer",src:()=>x(()=>import("./index.b3dacb0e.js"),["assets/index.b3dacb0e.js","assets/vendor.0047f732.js"]),options:{title:"MP4"},attributes:{src:"https://beings.oss-cn-hangzhou.aliyuncs.com/test/aaa59a55-81ff-45e8-8185-fd72c695def4/1606277539701637%E7%9A%84%E5%89%AF%E6%9C%AC.mp4",type:"video/mp4"}},{kind:"MediaPlayer",src:()=>x(()=>import("./index.b3dacb0e.js"),["assets/index.b3dacb0e.js","assets/vendor.0047f732.js"]),options:{title:"MP3"},attributes:{src:"https://beings.oss-cn-hangzhou.aliyuncs.com/test/2a90e310-1904-4a9a-8a86-9d6f3f4f8a78/%E9%99%88%E7%BB%AE%E8%B4%9E%20-%20%E5%A4%A9%E5%A4%A9%E6%83%B3%E4%BD%A0.mp3",type:"audio/mp3"}},{kind:"MediaPlayer",src:()=>x(()=>import("./index.b3dacb0e.js"),["assets/index.b3dacb0e.js","assets/vendor.0047f732.js"]),options:{title:"M3U8"},attributes:{src:"https://flat-storage.oss-cn-hangzhou.aliyuncs.com/agoraCloudRecording/0e36cd1e110a45ee82f21fd4c5f5b3d3/534a5e19ff4e7a1807a540b386ad4162_0e36cd1e-110a-45ee-82f2-1fd4c5f5b3d3.m3u8"}}];var jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:St});const Ot="Monaco",At=[{kind:Ot,src:()=>x(()=>import("./index.7b0147ec.js"),["assets/index.7b0147ec.js","assets/side-effect-manager.es.789c7667.js","assets/randomColor.65e16996.js","assets/vendor.0047f732.js","assets/ensure-attributes.2c659353.js","assets/modulepreload-polyfill.b7f2da20.js"]),options:{title:"Monaco"}}];var Ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:At});const Mt={kind:"Paint",src:()=>x(()=>import("./index.fbe65e98.js"),["assets/index.fbe65e98.js","assets/side-effect-manager.es.789c7667.js","assets/ensure-attributes.2c659353.js"]),options:{title:"Paint"}};var Pt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mt});function wn(t,e,n){return Math.min(Math.max(t,e),n)}function Nt(t){return typeof t=="object"&&t!==null}function kn(t){return JSON.parse(JSON.stringify(t))}class qt{constructor(e){this.enable=e,this.apps={},this.level="debug",this._onMessage=n=>{Nt(n.data)&&(typeof n.data.slide=="boolean"?this.enable=n.data.slide:n.data.slide==="__instance"&&console.log(this))},window.addEventListener("message",this._onMessage)}log(...e){this.enable&&console.log(...e)}verbose(...e){this.enable&&this.level==="verbose"&&console.log(...e)}dispose(e){this.enable=!1,delete this.apps[e],window.removeEventListener("message",this._onMessage)}}const H=new qt(!1),Z=H.log.bind(H),yn=H.verbose.bind(H),It=2,Dt={map:new Map,queue:[],validateQueue(){for(Z("[Slide] freezer: validate",this.queue);this.queue.length>It;){const t=this.queue.pop(),e=this.map.get(t);e&&(Z("[Slide] freezer: validate-freeze",t,this.queue),e.freeze())}},set(t,e){Z("[Slide] freezer: add",t,this.queue),this.map.set(t,e),this.queue.includes(t)||this.queue.unshift(t),this.validateQueue()},delete(t){Z("[Slide] freezer: delete",t,this.queue),this.map.delete(t),this.queue=this.queue.filter(e=>e!==t)},focus(t){const e=this.map.get(t),n=this.queue.indexOf(t);n>-1&&this.queue.splice(n,1),this.queue.unshift(t),this.validateQueue(),Z("[Slide] freezer: focus",t,this.queue),e&&e.unfreeze()}},Vt=t=>{t.on("focus",({appId:e})=>{Dt.focus(e)})};function $t(t,e,n){return{kind:"Slide",src:()=>x(()=>import("./index.20244311.js"),["assets/index.20244311.js","assets/side-effect-manager.es.789c7667.js","assets/vendor.0047f732.js","assets/lazyload.esm.0a4b6d46.js","assets/ensure-attributes.2c659353.js","assets/modulepreload-polyfill.b7f2da20.js"]),options:{title:t,scenePath:`/Slide/${e}`},attributes:{taskId:e,url:n},addHooks:Vt}}const Bt=[$t("\u661F\u7A7A","9abed6605bbc11ec88a83b917638a00c")];var Kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bt});const Zt={kind:"Vote",src:()=>x(()=>import("./index.e3112cce.js"),["assets/index.e3112cce.js","assets/vendor.0047f732.js"]),options:{title:"Vote"}};var Wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zt});const ne=console.log.bind(console);console.debug.bind(console);const Gt={"../../app-browser/playground.ts":ut,"../../app-countdown/playground.ts":bt,"../../app-docs-viewer/playground.ts":_t,"../../app-embedded-page/playground.ts":yt,"../../app-geogebra/playground.ts":Rt,"../../app-hello-world/playground.ts":Lt,"../../app-iframe-bridge/playground.ts":Tt,"../../app-media-player/playground.ts":jt,"../../app-monaco/playground.ts":Ut,"../../app-paint/playground.ts":Pt,"../../app-slide/playground.ts":Kt,"../../app-vote/playground.ts":Wt};function Jt(){const t=new Set,e=(a,i,c,o)=>{const s=async()=>{if(typeof a=="function"){const l=await a();return"default"in l?l.default:l}else return a},f={kind:i,appOptions:B({debug:!0},c),src:s,addHooks:o};ne("[register]",f.kind,f.appOptions),Y.register(f)},n=Object.entries(Gt).map(([a,i])=>{const o=`https://github.com/netless-io/netless-app/tree/master/packages/${(/^(?:\.\.\/){2}([^/]+)/.exec(a)||["",""])[1]}`,s=Array.isArray(i.default)?i.default:[i.default],f=s[0].kind,l={kind:f,url:o,configs:[]};for(const g of s){const p=g,{kind:m,src:u,appOptions:k,addHooks:L}=p,y=pe(p,["kind","src","appOptions","addHooks"]);t.has(m)||(t.add(m),e(u,m,k,L)),l.configs.push(B({kind:m},y))}return f==="EmbeddedPage"&&(l.getAttributes=Yt),l});return window.apps=n,n}function Yt(){const t={src:""};return t.src=window.prompt("src?","https://example.org")||"",t}document.querySelector.bind(document);const Te=sessionStorage,ae=localStorage,V={VITE_APPID:"ss4WoMf_EeqfCXcv33LmiA/izfIC88inXYJKw",VITE_ROOM_TOKEN:"NETLESSROOM_YWs9VWtNUk92M1JIN2I2Z284dCZub25jZT0xNjMzNjc5NzE2NTMxMDAmcm9sZT0wJnNpZz1kNDA3ZjZjODc1Nzc2MjM0NjhhOTk2ZjczMmQ3MTRmODA5YzQ3NzhjZmVjMDQwZDA0ZDdhOGZiYmNjODZiZTZlJnV1aWQ9MTMyMWM5NzAyODBkMTFlYzliNjg3MTIxYTU4ZjQwYjE",VITE_ROOM_UUID:"1321c970280d11ec9b687121a58f40b1",VITE_JUDGE0_KEY:"c6bf0d946amsh8a74c4b74695c0cp1d3a6ejsnb53b0567a805",BASE_URL:"",MODE:"production",DEV:!1,PROD:!0},Se=(t,e)=>fetch(`https://api.netless.link/v5/${t}`,{method:"POST",headers:{token:V.VITE_TOKEN,region:"cn-hz","Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json());async function je(){const{uuid:t}=await Se("rooms",{limit:0,isRecord:!1});ne("uuid = %O",t);const e=await Se(`tokens/rooms/${t}`,{lifespan:0,role:"admin"});ne("roomToken = %O",e);const n=JSON.parse(ae.getItem("rooms")||"[]"),a={uuid:t,roomToken:e};return n.unshift(a),ae.setItem("rooms",JSON.stringify(n)),a}function Oe(t){return typeof t=="object"&&t!==null&&"uuid"in t&&(t=`uuid=${t.uuid}&roomToken=${t.roomToken}`),location.origin+location.pathname+"?"+t.toString()}function Ft(){Ae(location.origin+location.pathname)}function Ae(t){t||(t=location.origin+location.pathname),history.replaceState({url:t},"",t)}const Ht=new Q.WhiteWebSdk({appIdentifier:V.VITE_APPID,useMobXState:!0,deviceType:Q.DeviceType.Surface});async function Qt(){let t,e;const n=new URLSearchParams(location.search);if(n.has("uuid")&&n.has("roomToken")&&(t=n.get("uuid"),e=n.get("roomToken")),!t||!e){const a=JSON.parse(ae.getItem("rooms")||"[]");a[0]&&({uuid:t,roomToken:e}=a[0])}if((!t||!e)&&(t=V.VITE_ROOM_UUID,e=V.VITE_ROOM_TOKEN),(!t||!e)&&V.VITE_TOKEN&&window.confirm("Not found uuid/roomToken both in query and localStorage, create a new one?")&&({uuid:t,roomToken:e}=await je(),location.reload()),!(!t||!e))return{uuid:t,roomToken:e}}async function Xt(t){let e=sessionStorage.getItem("uid");e||(e=fe.datatype.uuid(),sessionStorage.setItem("uid",e));const n=await Ht.joinRoom(de(B({},t),{uid:e,invisiblePlugins:[Y],useMultiViews:!0,disableNewPencil:!1,disableMagixEventDispatchLimit:!0,floatBar:!0,userPayload:{uid:e,nickName:fe.name.firstName()}}));window.room=n;const a=Te.getItem("currentApplianceName");return a&&n.setMemberState({currentApplianceName:a}),Ft(),n}async function en({manager:t=window.manager,room:e=window.room,clearScreen:n=!1,reload:a=!1}={}){await Promise.all(Object.keys(t.apps||{}).map(i=>t.closeApp(i))),Object.keys(t.attributes).forEach(i=>{/-[-_a-zA-Z0-9]{8}$/.test(i)?t.updateAttributes([i],void 0):i==="apps"&&t.updateAttributes([i],{})}),t.mainView.moveCamera({centerX:0,centerY:0,scale:1}),n&&e.cleanCurrentScene(),a&&location.reload()}function tn(t){Y.mount({room,container:t,chessboard:!1,cursor:!0,debug:!0,prefersColorScheme:"auto"}),window.manager=room.getInvisiblePlugin(Y.kind),manager.switchMainViewToWriter()}const Ue=Object.values(Q.ApplianceNames);var Me="assets/app.afee3946.svg",nn="assets/category.9be61e39.svg";function an(t){ve(t,"svelte-kr7sze",".page-loading.svelte-kr7sze.svelte-kr7sze{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:rgb(51, 51, 51);background:rgb(246, 249, 252)}.la-square-jelly-box.svelte-kr7sze.svelte-kr7sze{width:150px;height:150px;margin-bottom:25px}.la-square-jelly-box.svelte-kr7sze.svelte-kr7sze,.la-square-jelly-box.svelte-kr7sze>div.svelte-kr7sze{position:relative;box-sizing:border-box}.la-square-jelly-box.svelte-kr7sze.svelte-kr7sze{display:block;font-size:0;color:#fff}.la-square-jelly-box.svelte-kr7sze>div.svelte-kr7sze{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-square-jelly-box.svelte-kr7sze>div.svelte-kr7sze:nth-child(1),.la-square-jelly-box.svelte-kr7sze>div.svelte-kr7sze:nth-child(2){position:absolute;left:0;width:100%}.la-square-jelly-box.svelte-kr7sze>div.svelte-kr7sze:nth-child(1){top:-25%;z-index:1;height:100%;border-radius:10%;animation:svelte-kr7sze-square-jelly-box-animate 0.6s -0.1s linear infinite}.la-square-jelly-box.svelte-kr7sze>div.svelte-kr7sze:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:0.2;animation:svelte-kr7sze-square-jelly-box-shadow 0.6s -0.1s linear infinite}@keyframes svelte-kr7sze-square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scale(1, 0.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}100%{transform:translateY(0) rotate(90deg)}}@keyframes svelte-kr7sze-square-jelly-box-shadow{50%{transform:scale(1.25, 1)}}@media(prefers-color-scheme: dark){.page-loading.svelte-kr7sze.svelte-kr7sze{color:#eee;background-color:#111}.la-square-jelly-box.svelte-kr7sze.svelte-kr7sze{color:#333}.la-square-jelly-box.svelte-kr7sze>div.svelte-kr7sze:nth-child(2){background:#222}}")}function on(t){let e;return{c(){e=A("Loading...")},m(n,a){E(n,e,a)},d(n){n&&T(e)}}}function cn(t){let e,n,a,i,c;const o=t[1].default,s=He(o,t,t[0],null),f=s||on();return{c(){e=w("div"),n=w("div"),n.innerHTML=`<div class="svelte-kr7sze"></div> 
    <div class="svelte-kr7sze"></div>`,a=j(),i=w("p"),f&&f.c(),d(n,"class","la-square-jelly-box svelte-kr7sze"),d(e,"class","page-loading svelte-kr7sze")},m(l,g){E(l,e,g),b(e,n),b(e,a),b(e,i),f&&f.m(i,null),c=!0},p(l,[g]){s&&s.p&&(!c||g&1)&&Qe(s,o,l,l[0],c?et(o,l[0],g,null):Xe(l[0]),null)},i(l){c||(M(f,l),c=!0)},o(l){I(f,l),c=!1},d(l){l&&T(e),f&&f.d(l)}}}function sn(t,e,n){let{$$slots:a={},$$scope:i}=e;return t.$$set=c=>{"$$scope"in c&&n(0,i=c.$$scope)},[i,a]}class rn extends me{constructor(e){super();he(this,e,sn,cn,ue,{},an)}}const{window:Pe}=at;function ln(t){ve(t,"svelte-1bz8qyk",`.tip.svelte-1bz8qyk.svelte-1bz8qyk{position:fixed;bottom:1em;right:1em;color:#fff;background-color:#0074d9;padding:1em;border-radius:4px;box-shadow:0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12),
      0 2px 4px -1px rgba(0, 0, 0, 0.2);z-index:9999;font-family:Arial, sans-serif;font-size:small}.tip.error.svelte-1bz8qyk.svelte-1bz8qyk{background-color:#ff4136}.app-list-open.svelte-1bz8qyk .svelte-1bz8qyk{pointer-events:none}`)}function Ne(t,e,n){const a=t.slice();return a[15]=e[n],a}function qe(t,e,n){const a=t.slice();return a[18]=e[n].kind,a[19]=e[n].configs,a[20]=e[n].url,a[21]=e[n].getAttributes,a}function Ie(t,e,n){const a=t.slice();return a[24]=e[n],a[26]=n,a}function dn(t){let e,n,a=[],i=new Map,c,o,s,f,l,g=[],p=new Map,m,u,k,L=t[3].split("-").map(We).join(" ")+"",y,R,r,h,v,z,O,$,U,N,q,W=t[1];const oe=_=>_[18];for(let _=0;_<W.length;_+=1){let C=qe(t,W,_),S=oe(C);i.set(S,a[_]=$e(S,C))}let G=Ue;const ce=_=>_[15];for(let _=0;_<G.length;_+=1){let C=Ne(t,G,_),S=ce(C);p.set(S,g[_]=Be(S,C))}return{c(){e=w("div"),n=w("div");for(let _=0;_<a.length;_+=1)a[_].c();c=j(),o=w("div"),s=w("div"),f=w("div"),l=w("div");for(let _=0;_<g.length;_+=1)g[_].c();m=j(),u=w("div"),k=w("button"),y=A(L),R=j(),r=w("button"),r.textContent="RESET",h=j(),v=w("a"),v.textContent="GITHUB",z=j(),O=w("button"),$=j(),U=w("div"),d(n,"id","actions"),d(n,"class","app-list"),d(l,"class","nav-bar-tools"),d(f,"class","nav-bar-tools-cursor-hider"),d(k,"class","new-page-btn"),d(k,"title",`copy share url to clipboard
    press ctrl/meta to clear address bar
    press shift to create new room (only available with sdk token)`),d(r,"class","reset-btn"),d(r,"title",`remove all apps, reset camera
    press ctrl/meta to reload page
    press shift to clear screen`),d(v,"class","github-btn"),d(v,"href","https://github.com/netless-io/netless-app"),d(v,"target","_blank"),d(v,"title","View my source"),d(O,"class","dark-mode-btn"),d(u,"class","nav-bar-btns"),d(s,"class","nav-bar"),d(U,"id","whiteboard"),d(o,"class","right-side"),d(e,"class","two-side")},m(_,C){E(_,e,C),b(e,n);for(let S=0;S<a.length;S+=1)a[S].m(n,null);b(e,c),b(e,o),b(o,s),b(s,f),b(f,l);for(let S=0;S<g.length;S+=1)g[S].m(l,null);b(s,m),b(s,u),b(u,k),b(k,y),b(u,R),b(u,r),b(u,h),b(u,v),b(u,z),b(u,O),b(o,$),b(o,U),N||(q=[P(n,"click",t[7]),P(k,"click",t[10]),P(r,"click",hn),P(O,"click",t[11]),P(s,"click",t[6]),ct(tn.call(null,U))],N=!0)},p(_,C){C&2&&(W=_[1],a=ye(a,C,oe,1,_,W,i,n,xe,$e,null,qe)),C&4&&(G=Ue,g=ye(g,C,ce,1,_,G,p,l,xe,Be,null,Ne)),C&8&&L!==(L=_[3].split("-").map(We).join(" ")+"")&&K(y,L)},i:Ce,o:Ce,d(_){_&&T(e);for(let C=0;C<a.length;C+=1)a[C].d();for(let C=0;C<g.length;C+=1)g[C].d();N=!1,we(q)}}}function pn(t){let e,n,a,i;return n=new rn({props:{$$slots:{default:[fn]},$$scope:{ctx:t}}}),{c(){e=w("div"),st(n.$$.fragment),d(e,"class","page-loading-wrap")},m(c,o){E(c,e,o),rt(n,e,null),i=!0},p(c,o){const s={};o&134217760&&(s.$$scope={dirty:o,ctx:c}),n.$set(s)},i(c){i||(M(n.$$.fragment,c),be(()=>{a||(a=Re(e,X,{},!0)),a.run(1)}),i=!0)},o(c){I(n.$$.fragment,c),a||(a=Re(e,X,{},!1)),a.run(0),i=!1},d(c){c&&T(e),lt(n),c&&a&&a.end()}}}function De(t){var g;let e,n,a,i,c,o=(((g=t[24].options)==null?void 0:g.title)||`${t[24].kind} ${t[26]+1}`)+"",s,f,l;return{c(){var p;e=w("button"),n=w("img"),c=j(),s=A(o),d(n,"class","app-list-open-icon svelte-1bz8qyk"),ee(n.src,a=Me)||d(n,"src",a),d(n,"alt",i=(p=t[24].options)==null?void 0:p.title),d(e,"class","app-list-open svelte-1bz8qyk"),d(e,"data-app-kind",f=t[18]),d(e,"data-app-index",l=t[26])},m(p,m){E(p,e,m),b(e,n),b(e,c),b(e,s)},p(p,m){var u,k;m&2&&i!==(i=(u=p[24].options)==null?void 0:u.title)&&d(n,"alt",i),m&2&&o!==(o=(((k=p[24].options)==null?void 0:k.title)||`${p[24].kind} ${p[26]+1}`)+"")&&K(s,o),m&2&&f!==(f=p[18])&&d(e,"data-app-kind",f)},d(p){p&&T(e)}}}function Ve(t){let e,n,a,i,c;return{c(){e=w("button"),n=w("img"),i=A(`
            Custom
          `),d(n,"class","app-list-open-icon svelte-1bz8qyk"),ee(n.src,a=Me)||d(n,"src",a),d(n,"alt","[custom]"),d(e,"class","app-list-open svelte-1bz8qyk"),d(e,"data-app-kind",c=t[18]),d(e,"data-app-index",-1)},m(o,s){E(o,e,s),b(e,n),b(e,i)},p(o,s){s&2&&c!==(c=o[18])&&d(e,"data-app-kind",c)},d(o){o&&T(e)}}}function $e(t,e){let n,a,i,c,o,s,f,l=e[18]+"",g,p,m,u,k,L=e[19],y=[];for(let r=0;r<L.length;r+=1)y[r]=De(Ie(e,L,r));let R=e[21]&&Ve(e);return{key:t,first:null,c(){n=w("h2"),a=w("a"),i=w("img"),s=j(),f=w("span"),g=A(l),m=j();for(let r=0;r<y.length;r+=1)y[r].c();u=j(),R&&R.c(),k=ge(),d(i,"class","app-list-kind-icon"),ee(i.src,c=nn)||d(i,"src",c),d(i,"alt",o=e[18]),d(a,"class","app-list-kind-link"),d(a,"href",p=e[20]),d(a,"target","_blank"),d(n,"class","app-list-kind"),this.first=n},m(r,h){E(r,n,h),b(n,a),b(a,i),b(a,s),b(a,f),b(f,g),E(r,m,h);for(let v=0;v<y.length;v+=1)y[v].m(r,h);E(r,u,h),R&&R.m(r,h),E(r,k,h)},p(r,h){if(e=r,h&2&&o!==(o=e[18])&&d(i,"alt",o),h&2&&l!==(l=e[18]+"")&&K(g,l),h&2&&p!==(p=e[20])&&d(a,"href",p),h&2){L=e[19];let v;for(v=0;v<L.length;v+=1){const z=Ie(e,L,v);y[v]?y[v].p(z,h):(y[v]=De(z),y[v].c(),y[v].m(u.parentNode,u))}for(;v<y.length;v+=1)y[v].d(1);y.length=L.length}e[21]?R?R.p(e,h):(R=Ve(e),R.c(),R.m(k.parentNode,k)):R&&(R.d(1),R=null)},d(r){r&&T(n),r&&T(m),ot(y,r),r&&T(u),R&&R.d(r),r&&T(k)}}}function Be(t,e){let n,a=e[15]+"",i,c;return{key:t,first:null,c(){n=w("button"),i=A(a),d(n,"data-tool",c=e[15]),F(n,"active",e[15]===e[2]),this.first=n},m(o,s){E(o,n,s),b(n,i)},p(o,s){e=o,s&4&&F(n,"active",e[15]===e[2])},d(o){o&&T(n)}}}function fn(t){let e;return{c(){e=A(t[5])},m(n,a){E(n,e,a)},p(n,a){a&32&&K(e,n[5])},d(n){n&&T(e)}}}function Ke(t){let e,n,a,i,c;return{c(){e=w("div"),n=A(t[4]),d(e,"class","tip svelte-1bz8qyk"),F(e,"error",t[4].includes("Failed"))},m(o,s){E(o,e,s),b(e,n),c=!0},p(o,s){(!c||s&16)&&K(n,o[4]),s&16&&F(e,"error",o[4].includes("Failed"))},i(o){c||(be(()=>{i&&i.end(1),a=it(e,dt,{x:200}),a.start()}),c=!0)},o(o){a&&a.invalidate(),i=tt(e,X,{}),c=!1},d(o){o&&T(e),o&&i&&i.end()}}}function mn(t){let e,n,a,i,c,o,s;const f=[pn,dn],l=[];function g(m,u){return m[0]!=="main"?0:1}e=g(t),n=l[e]=f[e](t);let p=t[4]&&Ke(t);return{c(){n.c(),a=j(),p&&p.c(),i=ge()},m(m,u){l[e].m(m,u),E(m,a,u),p&&p.m(m,u),E(m,i,u),c=!0,o||(s=[P(Pe,"keydown",t[8]),P(Pe,"keyup",t[9])],o=!0)},p(m,[u]){let k=e;e=g(m),e===k?l[e].p(m,u):(ke(),I(l[k],1,1,()=>{l[k]=null}),_e(),n=l[e],n?n.p(m,u):(n=l[e]=f[e](m),n.c()),M(n,1),n.m(a.parentNode,a)),m[4]?p?(p.p(m,u),u&16&&M(p,1)):(p=Ke(m),p.c(),M(p,1),p.m(i.parentNode,i)):p&&(ke(),I(p,1,1,()=>{p=null}),_e())},i(m){c||(M(n),M(p),c=!0)},o(m){I(n),I(p),c=!1},d(m){l[e].d(m),m&&T(a),p&&p.d(m),m&&T(i),o=!1,we(s)}}}let ie=0,Ze=window.matchMedia("(prefers-color-scheme: dark)");function hn(t){en({clearScreen:t.shiftKey,reload:t.ctrlKey||t.metaKey})}const We=t=>t.toUpperCase();function un(t,e,n){let a,i="prepare",c,o,s,f="share",l="",g=Ze.matches;nt(async()=>{Ze.addEventListener("change",h=>{n(12,g=h.matches)});const r=await Qt();if(!r){n(0,i="404");return}n(1,c=Jt()),n(0,i="join-room"),o=await Xt(r),n(2,s=o.state.memberState.currentApplianceName),o.callbacks.on("onRoomStateChanged",h=>{h.memberState&&n(2,s=h.memberState.currentApplianceName)}),n(0,i="main")});function p(r){var v;const h=r.target;if((v=h==null?void 0:h.dataset)==null?void 0:v.tool){const z=h.dataset.tool;o.setMemberState({currentApplianceName:z}),Te.setItem("currentApplianceName",z)}}function m(r){var v,z;const h=r.target;if(((v=h==null?void 0:h.dataset)==null?void 0:v.appKind)&&((z=h==null?void 0:h.dataset)==null?void 0:z.appIndex)){const O=h.dataset.appKind,$=+h.dataset.appIndex,{configs:U,getAttributes:N}=c.find(q=>q.kind===O);if($>=0)window.manager.addApp(U[$]);else if(N){const q=N();window.manager.addApp({kind:O,attributes:q,options:{title:"Custom"},src:U[0].src})}}}function u(r){r.key==="Shift"&&r.shiftKey&&V.VITE_TOKEN&&n(3,f="new-room")}function k(r){r.key==="Shift"&&!r.shiftKey&&n(3,f="share")}async function L(r){if(f==="share"){const{uuid:h,roomToken:v}=o,z=new URLSearchParams;z.set("uuid",h),z.set("roomToken",v);const O=Oe(z);Ae(r.ctrlKey||r.metaKey?"":O);try{await pt(O),y("Copied share url.")}catch{y("Failed to write clipboard.")}}if(f==="new-room"){const h=await je(),v=Oe(h);window.open(v,"_blank"),n(3,f="share")}}function y(r){n(4,l=r),clearTimeout(ie),ie=window.setTimeout(()=>{ie=0,n(4,l="")},3e3)}function R(){n(12,g=!g)}return t.$$.update=()=>{t.$$.dirty&4096&&(window.manager&&window.manager.setPrefersColorScheme(g?"dark":"light"),document.documentElement.className=g?"netless-color-scheme-dark":"netless-color-scheme-light"),t.$$.dirty&1&&n(5,a=i==="prepare"?"Preparing...":i==="404"?"404 Room Not Found.":i==="join-room"?"Joining Room...":"Loading...")},[i,c,s,f,l,a,p,m,u,k,L,R,g]}class vn extends me{constructor(e){super();he(this,e,un,mn,ue,{},ln)}}window.app=new vn({target:document.querySelector("#app")});var Ge;(Ge=navigator.serviceWorker)==null||Ge.getRegistrations().then(t=>{for(const e of t)e.unregister()}).catch(()=>{});export{It as F,Ot as a,H as b,wn as c,kn as d,Dt as e,Vt as f,Nt as i,D as k,Z as l,yn as v};
