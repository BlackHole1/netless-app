var Tt=Object.defineProperty;var G=Object.getOwnPropertySymbols;var Ht=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,ne=Reflect.get,re=Reflect.set;var X=(t,e,o)=>e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,Z=(t,e)=>{for(var o in e||(e={}))Ht.call(e,o)&&X(t,o,e[o]);if(G)for(var o of G(e))Mt.call(e,o)&&X(t,o,e[o]);return t};var D,a,J,E,K,Q,T={},Y=[],Nt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function S(t,e){for(var o in e)t[o]=e[o];return t}function tt(t){var e=t.parentNode;e&&e.removeChild(t)}function h(t,e,o){var n,_,r,l={};for(r in e)r=="key"?n=e[r]:r=="ref"?_=e[r]:l[r]=e[r];if(arguments.length>2&&(l.children=arguments.length>3?D.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)l[r]===void 0&&(l[r]=t.defaultProps[r]);return H(t,l,n,_,null)}function H(t,e,o,n,_){var r={type:t,props:e,key:o,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_==null?++J:_};return _==null&&a.vnode!=null&&a.vnode(r),r}function C(t){return t.children}function x(t,e){this.props=t,this.context=e}function A(t,e){if(e==null)return t.__?A(t.__,t.__.__k.indexOf(t)+1):null;for(var o;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?A(t):null}function et(t){var e,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return et(t)}}function ot(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!M.__r++||Q!==a.debounceRendering)&&((Q=a.debounceRendering)||K)(M)}function M(){for(var t;M.__r=E.length;)t=E.sort(function(e,o){return e.__v.__b-o.__v.__b}),E=[],t.some(function(e){var o,n,_,r,l,s;e.__d&&(l=(r=(o=e).__v).__e,(s=o.__P)&&(n=[],(_=S({},r)).__v=r.__v+1,I(s,r,_,o.__n,s.ownerSVGElement!==void 0,r.__h!=null?[l]:null,n,l==null?A(r):l,r.__h),at(n,r),r.__e!=l&&et(r)))})}function nt(t,e,o,n,_,r,l,s,d,p){var i,m,f,c,u,k,v,b=n&&n.__k||Y,w=b.length;for(o.__k=[],i=0;i<e.length;i++)if((c=o.__k[i]=(c=e[i])==null||typeof c=="boolean"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?H(null,c,null,null,c):Array.isArray(c)?H(C,{children:c},null,null,null):c.__b>0?H(c.type,c.props,c.key,null,c.__v):c)!=null){if(c.__=o,c.__b=o.__b+1,(f=b[i])===null||f&&c.key==f.key&&c.type===f.type)b[i]=void 0;else for(m=0;m<w;m++){if((f=b[m])&&c.key==f.key&&c.type===f.type){b[m]=void 0;break}f=null}I(t,c,f=f||T,_,r,l,s,d,p),u=c.__e,(m=c.ref)&&f.ref!=m&&(v||(v=[]),f.ref&&v.push(f.ref,null,c),v.push(m,c.__c||u,c)),u!=null?(k==null&&(k=u),typeof c.type=="function"&&c.__k===f.__k?c.__d=d=rt(c,d,t):d=it(t,c,f,b,u,d),typeof o.type=="function"&&(o.__d=d)):d&&f.__e==d&&d.parentNode!=t&&(d=A(f))}for(o.__e=k,i=w;i--;)b[i]!=null&&(typeof o.type=="function"&&b[i].__e!=null&&b[i].__e==o.__d&&(o.__d=A(n,i+1)),ft(b[i],b[i]));if(v)for(i=0;i<v.length;i++)ct(v[i],v[++i],v[++i])}function rt(t,e,o){for(var n,_=t.__k,r=0;_&&r<_.length;r++)(n=_[r])&&(n.__=t,e=typeof n.type=="function"?rt(n,e,o):it(o,n,n,_,n.__e,e));return e}function N(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(o){N(o,e)}):e.push(t)),e}function it(t,e,o,n,_,r){var l,s,d;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(o==null||_!=r||_.parentNode==null)t:if(r==null||r.parentNode!==t)t.appendChild(_),l=null;else{for(s=r,d=0;(s=s.nextSibling)&&d<n.length;d+=2)if(s==_)break t;t.insertBefore(_,r),l=r}return l!==void 0?l:_.nextSibling}function Rt(t,e,o,n,_){var r;for(r in o)r==="children"||r==="key"||r in e||R(t,r,null,o[r],n);for(r in e)_&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||o[r]===e[r]||R(t,r,e[r],o[r],n)}function _t(t,e,o){e[0]==="-"?t.setProperty(e,o):t[e]=o==null?"":typeof o!="number"||Nt.test(e)?o:o+"px"}function R(t,e,o,n,_){var r;t:if(e==="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)o&&e in o||_t(t.style,e,"");if(o)for(e in o)n&&o[e]===n[e]||_t(t.style,e,o[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=o,o?n||t.addEventListener(e,r?st:lt,r):t.removeEventListener(e,r?st:lt,r);else if(e!=="dangerouslySetInnerHTML"){if(_)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=o==null?"":o;break t}catch{}typeof o=="function"||(o!=null&&(o!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,o):t.removeAttribute(e))}}function lt(t){this.l[t.type+!1](a.event?a.event(t):t)}function st(t){this.l[t.type+!0](a.event?a.event(t):t)}function I(t,e,o,n,_,r,l,s,d){var p,i,m,f,c,u,k,v,b,w,$,y=e.type;if(e.constructor!==void 0)return null;o.__h!=null&&(d=o.__h,s=e.__e=o.__e,e.__h=null,r=[s]),(p=a.__b)&&p(e);try{t:if(typeof y=="function"){if(v=e.props,b=(p=y.contextType)&&n[p.__c],w=p?b?b.props.value:p.__:n,o.__c?k=(i=e.__c=o.__c).__=i.__E:("prototype"in y&&y.prototype.render?e.__c=i=new y(v,w):(e.__c=i=new x(v,w),i.constructor=y,i.render=Lt),b&&b.sub(i),i.props=v,i.state||(i.state={}),i.context=w,i.__n=n,m=i.__d=!0,i.__h=[]),i.__s==null&&(i.__s=i.state),y.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=S({},i.__s)),S(i.__s,y.getDerivedStateFromProps(v,i.__s))),f=i.props,c=i.state,m)y.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(y.getDerivedStateFromProps==null&&v!==f&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(v,w),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(v,i.__s,w)===!1||e.__v===o.__v){i.props=v,i.state=i.__s,e.__v!==o.__v&&(i.__d=!1),i.__v=e,e.__e=o.__e,e.__k=o.__k,e.__k.forEach(function(P){P&&(P.__=e)}),i.__h.length&&l.push(i);break t}i.componentWillUpdate!=null&&i.componentWillUpdate(v,i.__s,w),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(f,c,u)})}i.context=w,i.props=v,i.state=i.__s,(p=a.__r)&&p(e),i.__d=!1,i.__v=e,i.__P=t,p=i.render(i.props,i.state,i.context),i.state=i.__s,i.getChildContext!=null&&(n=S(S({},n),i.getChildContext())),m||i.getSnapshotBeforeUpdate==null||(u=i.getSnapshotBeforeUpdate(f,c)),$=p!=null&&p.type===C&&p.key==null?p.props.children:p,nt(t,Array.isArray($)?$:[$],e,o,n,_,r,l,s,d),i.base=e.__e,e.__h=null,i.__h.length&&l.push(i),k&&(i.__E=i.__=null),i.__e=!1}else r==null&&e.__v===o.__v?(e.__k=o.__k,e.__e=o.__e):e.__e=Ut(o.__e,e,o,n,_,r,l,d);(p=a.diffed)&&p(e)}catch(P){e.__v=null,(d||r!=null)&&(e.__e=s,e.__h=!!d,r[r.indexOf(s)]=null),a.__e(P,e,o)}}function at(t,e){a.__c&&a.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(n){n.call(o)})}catch(n){a.__e(n,o.__v)}})}function Ut(t,e,o,n,_,r,l,s){var d,p,i,m=o.props,f=e.props,c=e.type,u=0;if(c==="svg"&&(_=!0),r!=null){for(;u<r.length;u++)if((d=r[u])&&(d===t||(c?d.localName==c:d.nodeType==3))){t=d,r[u]=null;break}}if(t==null){if(c===null)return document.createTextNode(f);t=_?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,f.is&&f),r=null,s=!1}if(c===null)m===f||s&&t.data===f||(t.data=f);else{if(r=r&&D.call(t.childNodes),p=(m=o.props||T).dangerouslySetInnerHTML,i=f.dangerouslySetInnerHTML,!s){if(r!=null)for(m={},u=0;u<t.attributes.length;u++)m[t.attributes[u].name]=t.attributes[u].value;(i||p)&&(i&&(p&&i.__html==p.__html||i.__html===t.innerHTML)||(t.innerHTML=i&&i.__html||""))}if(Rt(t,f,m,_,s),i)e.__k=[];else if(u=e.props.children,nt(t,Array.isArray(u)?u:[u],e,o,n,_&&c!=="foreignObject",r,l,r?r[0]:o.__k&&A(o,0),s),r!=null)for(u=r.length;u--;)r[u]!=null&&tt(r[u]);s||("value"in f&&(u=f.value)!==void 0&&(u!==t.value||c==="progress"&&!u)&&R(t,"value",u,m.value,!1),"checked"in f&&(u=f.checked)!==void 0&&u!==t.checked&&R(t,"checked",u,m.checked,!1))}return t}function ct(t,e,o){try{typeof t=="function"?t(e):t.current=e}catch(n){a.__e(n,o)}}function ft(t,e,o){var n,_;if(a.unmount&&a.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||ct(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(r){a.__e(r,e)}n.base=n.__P=null}if(n=t.__k)for(_=0;_<n.length;_++)n[_]&&ft(n[_],e,typeof t.type!="function");o||t.__e==null||tt(t.__e),t.__e=t.__d=void 0}function Lt(t,e,o){return this.constructor(t,o)}function pt(t,e,o){var n,_,r;a.__&&a.__(t,e),_=(n=typeof o=="function")?null:o&&o.__k||e.__k,r=[],I(e,t=(!n&&o||e).__k=h(C,null,[t]),_||T,T,e.ownerSVGElement!==void 0,!n&&o?[o]:_?null:e.firstChild?D.call(e.childNodes):null,r,!n&&o?o:_?_.__e:e.firstChild,n),at(r,t)}D=Y.slice,a={__e:function(t,e){for(var o,n,_;e=e.__;)if((o=e.__c)&&!o.__)try{if((n=o.constructor)&&n.getDerivedStateFromError!=null&&(o.setState(n.getDerivedStateFromError(t)),_=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t),_=o.__d),_)return o.__E=o}catch(r){t=r}throw t}},J=0,x.prototype.setState=function(t,e){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=S({},this.state),typeof t=="function"&&(t=t(S({},o),this.props)),t&&S(o,t),t!=null&&this.__v&&(e&&this.__h.push(e),ot(this))},x.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ot(this))},x.prototype.render=C,E=[],K=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,M.__r=0;var O,g,dt,W=0,j=[],ut=a.__b,ht=a.__r,mt=a.diffed,vt=a.__c,bt=a.unmount;function gt(t,e){a.__h&&a.__h(g,t,W||e),W=0;var o=g.__H||(g.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function V(t){return W=1,Ft(yt,t)}function Ft(t,e,o){var n=gt(O++,2);return n.t=t,n.__c||(n.__=[o?o(e):yt(void 0,e),function(_){var r=n.t(n.__[0],_);n.__[0]!==r&&(n.__=[r,n.__[1]],n.__c.setState({}))}],n.__c=g),n.__}function It(t,e){var o=gt(O++,3);!a.__s&&Wt(o.__H,e)&&(o.__=t,o.__H=e,g.__H.__h.push(o))}function Ot(){j.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(U),t.__H.__h.forEach(z),t.__H.__h=[]}catch(e){t.__H.__h=[],a.__e(e,t.__v)}}),j=[]}a.__b=function(t){g=null,ut&&ut(t)},a.__r=function(t){ht&&ht(t),O=0;var e=(g=t.__c).__H;e&&(e.__h.forEach(U),e.__h.forEach(z),e.__h=[])},a.diffed=function(t){mt&&mt(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(j.push(e)!==1&&dt===a.requestAnimationFrame||((dt=a.requestAnimationFrame)||function(o){var n,_=function(){clearTimeout(r),wt&&cancelAnimationFrame(n),setTimeout(o)},r=setTimeout(_,100);wt&&(n=requestAnimationFrame(_))})(Ot)),g=null},a.__c=function(t,e){e.some(function(o){try{o.__h.forEach(U),o.__h=o.__h.filter(function(n){return!n.__||z(n)})}catch(n){e.some(function(_){_.__h&&(_.__h=[])}),e=[],a.__e(n,o.__v)}}),vt&&vt(t,e)},a.unmount=function(t){bt&&bt(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(U)}catch(o){a.__e(o,e.__v)}};var wt=typeof requestAnimationFrame=="function";function U(t){var e=g;typeof t.__c=="function"&&t.__c(),g=e}function z(t){var e=g;t.__c=t.__(),g=e}function Wt(t,e){return!t||t.length!==e.length||e.some(function(o,n){return o!==t[n]})}function yt(t,e){return typeof e=="function"?e(t):e}function jt(t,e){for(var o in e)t[o]=e[o];return t}function xt(t,e){for(var o in t)if(o!=="__source"&&!(o in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function B(t){this.props=t}(B.prototype=new x).isPureReactComponent=!0,B.prototype.shouldComponentUpdate=function(t,e){return xt(this.props,t)||xt(this.state,e)};var kt=a.__b;a.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),kt&&kt(t)};var Vt=a.__e;a.__e=function(t,e,o){if(t.then){for(var n,_=e;_=_.__;)if((n=_.__c)&&n.__c)return e.__e==null&&(e.__e=o.__e,e.__k=o.__k),n.__c(t,e)}Vt(t,e,o)};var St=a.unmount;function q(){this.__u=0,this.t=null,this.__b=null}function Ct(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function L(){this.u=null,this.o=null}a.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),St&&St(t)},(q.prototype=new x).__c=function(t,e){var o=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(o);var _=Ct(n.__v),r=!1,l=function(){r||(r=!0,o.__R=null,_?_(s):s())};o.__R=l;var s=function(){if(!--n.__u){if(n.state.__e){var p=n.state.__e;n.__v.__k[0]=function m(f,c,u){return f&&(f.__v=null,f.__k=f.__k&&f.__k.map(function(k){return m(k,c,u)}),f.__c&&f.__c.__P===c&&(f.__e&&u.insertBefore(f.__e,f.__d),f.__c.__e=!0,f.__c.__P=u)),f}(p,p.__c.__P,p.__c.__O)}var i;for(n.setState({__e:n.__b=null});i=n.t.pop();)i.forceUpdate()}},d=e.__h===!0;n.__u++||d||n.setState({__e:n.__b=n.__v.__k[0]}),t.then(l,l)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function r(l,s,d){return l&&(l.__c&&l.__c.__H&&(l.__c.__H.__.forEach(function(p){typeof p.__c=="function"&&p.__c()}),l.__c.__H=null),(l=jt({},l)).__c!=null&&(l.__c.__P===d&&(l.__c.__P=s),l.__c=null),l.__k=l.__k&&l.__k.map(function(p){return r(p,s,d)})),l}(this.__b,o,n.__O=n.__P)}this.__b=null}var _=e.__e&&h(C,null,t.fallback);return _&&(_.__h=null),[h(C,null,e.__e?null:t.children),_]};var At=function(t,e,o){if(++o[1]===o[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(o=t.u;o;){for(;o.length>3;)o.pop()();if(o[1]<o[0])break;t.u=o=o[2]}};(L.prototype=new x).__e=function(t){var e=this,o=Ct(e.__v),n=e.o.get(t);return n[0]++,function(_){var r=function(){e.props.revealOrder?(n.push(_),At(e,t,n)):_()};o?o(r):r()}},L.prototype.render=function(t){this.u=null,this.o=new Map;var e=N(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var o=e.length;o--;)this.o.set(e[o],this.u=[1,0,this.u]);return t.children},L.prototype.componentDidUpdate=L.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,o){At(t,o,e)})};var zt=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Bt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,qt=typeof document!="undefined",Gt=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(x.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Et=a.event;function Xt(){}function Zt(){return this.cancelBubble}function Jt(){return this.defaultPrevented}a.event=function(t){return Et&&(t=Et(t)),t.persist=Xt,t.isPropagationStopped=Zt,t.isDefaultPrevented=Jt,t.nativeEvent=t};var $t={configurable:!0,get:function(){return this.class}},Pt=a.vnode;a.vnode=function(t){var e=t.type,o=t.props,n=o;if(typeof e=="string"){var _=e.indexOf("-")===-1;for(var r in n={},o){var l=o[r];qt&&r==="children"&&e==="noscript"||r==="value"&&"defaultValue"in o&&l==null||(r==="defaultValue"&&"value"in o&&o.value==null?r="value":r==="download"&&l===!0?l="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!Gt(o.type)?r="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(r)?r=r.toLowerCase():_&&Bt.test(r)?r=r.replace(/[A-Z0-9]/,"-$&").toLowerCase():l===null&&(l=void 0),n[r]=l)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=N(o.children).forEach(function(s){s.props.selected=n.value.indexOf(s.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=N(o.children).forEach(function(s){s.props.selected=n.multiple?n.defaultValue.indexOf(s.props.value)!=-1:n.defaultValue==s.props.value})),t.props=n}e&&o.class!=o.className&&($t.enumerable="className"in o,o.className!=null&&(n.class=o.className),Object.defineProperty(n,"className",$t)),t.$$typeof=zt,Pt&&Pt(t)};var Dt=a.__r;a.__r=function(t){Dt&&Dt(t)};class Kt extends x{constructor(e){super(e);this.raf=0,this.start=()=>{const{context:o,room:n}=this.props,{start:_,pause:r,total:l}=this.attributes.state,s=n.calibrationTimestamp;r?o.updateAttributes(["state"],{start:s-(r-_),pause:0,total:l}):o.updateAttributes(["state","pause"],s)},this.reset=()=>{const{context:o}=this.props;o.updateAttributes(["state"],{start:0,pause:0,total:0}),this.setState({isDone:!1})},this.init=o=>{const{context:n,room:_}=this.props;n.updateAttributes(["state"],{start:_.calibrationTimestamp,pause:0,total:o||0})},this.update=()=>{this.raf=requestAnimationFrame(this.update);const{context:o,room:n}=this.props;this.attributes=o.getAttributes();const{start:_,pause:r,total:l}=this.attributes.state,s=_===0,d=s||r!==0;let p=0;_&&(r?p=(r-_)/1e3|0:p=(n.calibrationTimestamp-_)/1e3|0),l&&(p>l&&(!r&&this.start(),this.setState({isDone:!0})),p=Math.max(l-p,0)),this.setState({isInit:s,stopped:d,seconds:p})},this.raf=requestAnimationFrame(this.update),this.attributes=e.context.getAttributes(),this.state={isInit:!0,isDone:!1,seconds:0,stopped:!0,start:this.start,reset:this.reset,init:this.init}}componentWillUnmount(){console.log("[Countdown]: unmount"),cancelAnimationFrame(this.raf)}render(){return h(Qt,Z({},this.state))}}class Qt extends B{constructor(e){super(e);this.correctValueFormat=o=>({left:Math.floor(o/10),right:o%10}),this.transformTime=()=>{if(this.props.isInit){const{total:s}=this.state;return{minutes_left:s[0],minutes_right:s[1],seconds_left:s[2],seconds_right:s[3]}}const o=this.props.seconds,n=Math.floor(o%(60*60)/60),_=Math.floor(o%60),r=this.correctValueFormat(n),l=this.correctValueFormat(_);return{minutes_left:r.left,minutes_right:r.right,seconds_left:l.left,seconds_right:l.right}},this.handleInit=()=>{const[o,n,_,r]=this.state.total;this.props.init((o*10+n)*60+(_*10+r))},this.handleReset=()=>{this.props.reset(),this.setState({total:[0,0,0,0]})},this.handleInc=o=>()=>{const n=this.state.total.map((_,r)=>r===o?(_+1)%10:_);o===2&&n[o]>5&&(n[o]=0),this.setState({total:n})},this.incMinutesLeft=this.handleInc(0),this.incMinutesRight=this.handleInc(1),this.incSecondsLeft=this.handleInc(2),this.incSecondsRight=this.handleInc(3),this.handleDec=o=>()=>{const n=this.state.total.map((_,r)=>r===o?(_+9)%10:_);o===2&&n[o]>5&&(n[o]=5),this.setState({total:n})},this.decMinutesLeft=this.handleDec(0),this.decMinutesRight=this.handleDec(1),this.decSecondsLeft=this.handleDec(2),this.decSecondsRight=this.handleDec(3),this.state={total:[0,0,0,0]}}render(){const{isInit:e,isDone:o,stopped:n,start:_}=this.props,{seconds_left:r,seconds_right:l,minutes_right:s,minutes_left:d}=this.transformTime(),p=o?"flipdown flipdown__theme-light":"flipdown flipdown__theme-dark";return h("div",{class:"flipdown-box"},!e&&h("div",{class:"flipdown-mask"},n?h("div",{class:"flipdown-mask-mid"},h("button",{onClick:this.handleReset,class:"flipdown-mask-btn"},"\u91CD\u7F6E"),!o&&h("button",{onClick:_,class:"flipdown-mask-btn"},"\u7EE7\u7EED")):h("div",{class:"flipdown-mask-mid"},h("button",{onClick:_,class:"flipdown-mask-btn"},"\u6682\u505C"))),h("div",{class:p},h("div",{class:"flipdown-mid-box"},h(F,{style:{marginRight:8},disabled:!e,time:d,onUp:this.incMinutesLeft,onDown:this.decMinutesLeft}),h(F,{time:s,disabled:!e,onUp:this.incMinutesRight,onDown:this.decMinutesRight})),h("div",{class:"flipdown-point-box"},h("div",{style:"margin-bottom: 12px"}),h("div",null)),h("div",{class:"flipdown-mid-box"},h(F,{style:{marginRight:8},disabled:!e,time:r,onUp:this.incSecondsLeft,onDown:this.decSecondsLeft}),h(F,{time:l,disabled:!e,onUp:this.incSecondsRight,onDown:this.decSecondsRight}))),e&&h("div",{class:"flipdown-buttons"},h("button",{onClick:this.handleInit,class:"flipdown-button"},"\u5F00\u59CB")))}}const F=({time:t,style:e,disabled:o,onUp:n,onDown:_})=>{const[r,l]=V("rotor-leaf"),[s,d]=V(0),[p,i]=V(0);return It(()=>{o||p?(i(1),l("rotor-leaf flipped"),setTimeout(()=>{l("rotor-leaf"),d(t)},500),!o&&i(0)):d(t)},[t,o]),h("div",{class:o?"flipdown-digit disabled":"flipdown-digit",style:e},h("div",{class:"flipdown-up",onClick:o?void 0:n}),h("div",{class:"rotor"},h("div",{class:r},h("figure",{class:"rotor-leaf-rear"},t),h("figure",{class:"rotor-leaf-front"},s)),h("div",{class:"rotor-top"},t),h("div",{class:"rotor-bottom"},s)),h("div",{class:"flipdown-down",onClick:o?void 0:_}))};var Yt=`.netless-app-flipdown-container{height:100%}.flipdown-box{height:100%;position:relative;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center}.flipdown-mask{width:100%;height:100%;position:absolute;z-index:2;background-color:#0000004d;display:flex;justify-items:center;align-items:center;flex-direction:row;opacity:0}.flipdown-mask:hover{opacity:1}.flipdown-mask-btn{width:90px;height:28px;background-color:#3380ff;margin-left:auto;margin-right:auto;border:0;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer}.flipdown-mask-mid{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.flipdown-buttons{display:flex;flex-flow:column nowrap;gap:4px;padding-bottom:20px}.flipdown-button{width:180px;height:36px;border:0;background-color:#3380ff;margin-left:auto;margin-right:auto;border-radius:4px;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer}.flipdown{display:flex;flex-direction:row;align-items:center;justify-content:center;transform-origin:center}.flipdown-digit{display:flex;flex-flow:column nowrap;align-items:center}.flipdown-digit.disabled .flipdown-up:before,.flipdown-digit.disabled .flipdown-down:after{border-top-color:#0000000d;border-bottom-color:#0000000d}.flipdown-up:before,.flipdown-down:after{content:"";display:inline-block;width:0;height:0;border-top:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #151515;cursor:pointer}.flipdown-down:after{border-top:12px solid #151515;border-bottom:0}.flipdown-mid-box{display:flex;flex-direction:row;padding-top:20px;padding-bottom:8px}.flipdown-point-box{display:flex;flex-direction:column;justify-content:center;padding:20px 6px 8px}.flipdown-point-box div{width:8px;height:8px;background-color:#000;border-radius:50%}.flipdown.flipdown__theme-dark{font-family:sans-serif;font-weight:bold}.flipdown.flipdown__theme-dark .rotor,.flipdown.flipdown__theme-dark .rotor-top,.flipdown.flipdown__theme-dark .rotor-leaf-front{color:#fff;background-color:#151515}.flipdown.flipdown__theme-dark .rotor-bottom,.flipdown.flipdown__theme-dark .rotor-leaf-rear{color:#efefef;background-color:#202020}.flipdown.flipdown__theme-dark .rotor:after{border-top:solid 1px #151515}.flipdown.flipdown__theme-light{font-family:sans-serif;font-weight:bold}.flipdown.flipdown__theme-light .rotor,.flipdown.flipdown__theme-light .rotor-top,.flipdown.flipdown__theme-light .rotor-leaf-front{color:#222;background-color:#ddd}.flipdown.flipdown__theme-light .rotor-bottom,.flipdown.flipdown__theme-light .rotor-leaf-rear{color:#333;background-color:#eee}.flipdown.flipdown__theme-light .rotor:after{border-top:solid 1px #222222}.flipdown .rotor-group{position:relative}.flipdown .rotor{position:relative;width:36px;height:64px;border-radius:4px;font-size:48px;text-align:center;perspective:200px}.flipdown .rotor-top,.flipdown .rotor-bottom{overflow:hidden;position:absolute;width:36px;height:32px}.flipdown .rotor-leaf{z-index:1;position:absolute;width:36px;height:64px;transform-style:preserve-3d;transition:transform 0s}.flipdown .rotor-leaf.flipped{transform:rotateX(-180deg);transition:all .5s ease-in-out}.flipdown .rotor-leaf-front,.flipdown .rotor-leaf-rear{overflow:hidden;position:absolute;width:36px;height:32px;margin:0;transform:rotateX(0);backface-visibility:hidden;-webkit-backface-visibility:hidden}.flipdown .rotor-leaf-front{line-height:64px;border-radius:4px 4px 0 0}.flipdown .rotor-leaf-rear{line-height:0px;border-radius:0 0 4px 4px;transform:rotateX(-180deg)}.flipdown .rotor-top{line-height:64px;border-radius:4px 4px 0 0}.flipdown .rotor-bottom{bottom:0;line-height:0px;border-radius:0 0 4px 4px}.flipdown .rotor:after{content:"";z-index:2;position:absolute;bottom:0px;left:0px;width:36px;height:32px;border-radius:0 0 4px 4px}
`;const te=()=>null,ee=208,oe=216,_e={kind:"Countdown",config:{minwidth:ee,minheight:oe},setup(t){let e=t.getAttributes();if((e==null?void 0:e.state)||(t.setAttributes({state:{start:0,pause:0,total:0}}),e=t.getAttributes()),!e)throw new Error("[Countdown]: No attributes");const o=t.getRoom();if(!o)throw new Error("[Countdown]: No room");const n=t.getBox(),_=document.createElement("div");_.classList.add("netless-app-flipdown-container"),n.mountStyles(Yt),n.mountContent(_),pt(h(Kt,{context:t,room:o}),_),t.emitter.on("destroy",()=>{console.log("[Countdown]: destroy"),pt(h(te,null),_),_.remove()})}};export{_e as default};
