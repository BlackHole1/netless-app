import{S as e,i as s,s as t,e as a,t as r,m as l,b as n,c as o,F as p,d as u,g as i,G as d,o as c,h as b,D as w,l as g,u as f,H as x}from"./vendor.9fbfd044.js";function m(e){let s,t,x,m,y,$,h,v,k,R,A,B,L;return{c(){s=a("div"),t=a("div"),x=a("span"),m=r(e[2]),y=l(),$=a("input"),h=l(),v=a("button"),v.textContent="GO",k=l(),R=a("iframe"),n(x,"class","netless-app-browser-status"),o(x,"loading","Loading"===e[2]),o(x,"ready","Ready"===e[2]),n($,"class","netless-app-browser-url"),n($,"autocomplete","off"),n($,"spellcheck","false"),n(v,"class","netless-app-browser-go"),n(t,"class","netless-app-browser-omnibox"),n(R,"title","Netless App Browser"),n(R,"class","netless-app-browser-content"),n(R,"frameborder","0"),p(R.src,A=e[0])||n(R,"src",A),n(s,"class","netless-app-browser"),n(s,"data-kind","browser")},m(a,r){u(a,s,r),i(s,t),i(t,x),i(x,m),i(t,y),i(t,$),d($,e[1]),i(t,h),i(t,v),i(s,k),i(s,R),B||(L=[c($,"input",e[5]),c(v,"click",e[4]),c(R,"load",e[3])],B=!0)},p(e,[s]){4&s&&b(m,e[2]),4&s&&o(x,"loading","Loading"===e[2]),4&s&&o(x,"ready","Ready"===e[2]),2&s&&$.value!==e[1]&&d($,e[1]),1&s&&!p(R.src,A=e[0])&&n(R,"src",A)},i:w,o:w,d(e){e&&g(s),B=!1,f(L)}}}function y(e,s,t){const a=x();let{url:r="about:blank"}=s,l=r,n="Ready";return e.$$set=e=>{"url"in e&&t(0,r=e.url)},e.$$.update=()=>{1&e.$$.dirty&&a("update",r)},[r,l,n,function(){t(2,n="Ready")},function(){t(0,r=l),t(2,n="Loading")},function(){l=this.value,t(1,l)}]}class $ extends e{constructor(e){super(),s(this,e,y,m,t,{url:0})}}const h={kind:"Browser",setup(e){var s;const t=e.getBox();t.mountStyles(".netless-app-browser{width:100%;height:100%;display:flex;flex-flow:column nowrap}.netless-app-browser-omnibox{padding:2px 4px;display:flex;align-items:center;gap:4px}.netless-app-browser-status{width:5em;font-size:x-small;text-align:center}.netless-app-browser-status.loading{color:gray}.netless-app-browser-status.ready{color:green}.netless-app-browser-url{flex-grow:1}.netless-app-browser-go{padding:1px 12px}.netless-app-browser-content{flex-grow:1}\n");let a=(null==(s=e.getAttributes())?void 0:s.url)||"about:blank";const r=new $({target:t.$content,props:{url:a}});r.$on("update",(({detail:s})=>{e.updateAttributes(["url"],s)})),e.emitter.on("attributesUpdate",(s=>{if(!e.getIsWritable())return r.$set({url:a});null!=(null==s?void 0:s.url)&&(a=s.url,r.$set({url:a}))}))}};export{h as default};
