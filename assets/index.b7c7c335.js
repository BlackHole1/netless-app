var t=Object.defineProperty,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(e,o,n)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,r=(t,r)=>{for(var s in r||(r={}))o.call(r,s)&&i(t,s,r[s]);if(e)for(var s of e(r))n.call(r,s)&&i(t,s,r[s]);return t};"undefined"!=typeof require&&require;import{s}from"./side-effect-manager.es.3578cf95.js";import{k as a}from"./playground.698cddbf.js";import{K as c}from"./vendor.11e371e9.js";import"./index.b9fb3ef6.js";function l(t,e){let o=t.getAttributes();if(o||(t.setAttributes(e),o=t.getAttributes()),!o)throw new Error("[NetlessAppMonaco] No attributes");var n;return null==(n=e)||"object"!=typeof n||Array.isArray(n)||Object.keys(e).forEach((n=>{Object.prototype.hasOwnProperty.call(o,n)||t.updateAttributes([n],e[n])})),o}const d=()=>new Map,h=t=>{const e=d();return t.forEach(((t,o)=>{e.set(o,t)})),e},u=(t,e,o)=>{let n=t.get(e);return void 0===n&&t.set(e,n=o()),n},p=()=>new Set,g=t=>t[t.length-1],m=(t,e)=>{for(let o=0;o<e.length;o++)t.push(e[o])},f=Array.from;class b{constructor(){this._observers=d()}on(t,e){u(this._observers,t,p).add(e)}once(t,e){const o=(...n)=>{this.off(t,o),e(...n)};this.on(t,o)}off(t,e){const o=this._observers.get(t);void 0!==o&&(o.delete(e),0===o.size&&this._observers.delete(t))}emit(t,e){return f((this._observers.get(t)||d()).values()).forEach((t=>t(...e)))}destroy(){this._observers=d()}}const w=Math.floor,x=Math.abs,y=(t,e)=>t<e?t:e,v=(t,e)=>t>e?t:e,k=t=>0!==t?t<0:1/t<0,A=/^\s*/g,D=/([A-Z])/g,M=(t,e)=>(t=>t.replace(A,""))(t.replace(D,(t=>`${e}${(t=>t.toLowerCase())(t)}`)));"undefined"!=typeof TextEncoder&&new TextEncoder;let C="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});C&&1===C.decode(new Uint8Array).length&&(C=null);const _=t=>void 0===t?null:t;let E=new class{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}},N=!0;try{"undefined"!=typeof localStorage&&(E=localStorage,N=!1)}catch(rr){}const S=E,I="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name);let z;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var j;(t=>(()=>{if(void 0===z)if(I){z=d();const t=process.argv;let e=null;for(let o=0;o<t.length;o++){const n=t[o];"-"===n[0]?(null!==e&&z.set(e,""),e=n):null!==e&&(z.set(e,n),e=null)}null!==e&&z.set(e,"")}else"object"==typeof location?(z=d(),(location.search||"?").slice(1).split("&").forEach((t=>{if(0!==t.length){const[e,o]=t.split("=");z.set(`--${M(e,"-")}`,o),z.set(`-${M(e,"-")}`,o)}}))):z=d();return z})().has(t))("--"+(j="production"))||(t=>{_(I?process.env[t.toUpperCase()]:S.getItem(t))})(j);class O{constructor(t){this.arr=t,this.pos=0}}const L=t=>new O(t),T=t=>((t,e)=>{const o=J(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,o})(t,q(t)),R=t=>t.arr[t.pos++],q=t=>{let e=0,o=0;for(;;){const n=t.arr[t.pos++];if(e|=(127&n)<<o,o+=7,n<128)return e>>>0;if(o>35)throw new Error("Integer out of range!")}},U=t=>{let e=t.arr[t.pos++],o=63&e,n=6;const i=(64&e)>0?-1:1;if(0==(128&e))return i*o;for(;;){if(e=t.arr[t.pos++],o|=(127&e)<<n,n+=7,e<128)return i*(o>>>0);if(n>41)throw new Error("Integer out of range!")}},P=t=>{let e=q(t);if(0===e)return"";{let o=String.fromCodePoint(R(t));if(--e<100)for(;e--;)o+=String.fromCodePoint(R(t));else for(;e>0;){const n=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,o+=String.fromCodePoint.apply(null,i),e-=n}return decodeURIComponent(escape(o))}},B=(t,e)=>{const o=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,o},V=[t=>{},t=>null,U,t=>B(t,4).getFloat32(0,!1),t=>B(t,8).getFloat64(0,!1),t=>B(t,8).getBigInt64(0,!1),t=>!1,t=>!0,P,t=>{const e=q(t),o={};for(let n=0;n<e;n++){o[P(t)]=Q(t)}return o},t=>{const e=q(t),o=[];for(let n=0;n<e;n++)o.push(Q(t));return o},T],Q=t=>V[127-R(t)](t);class F extends O{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){var t;return 0===this.count&&(this.s=this.reader(this),(t=this).pos!==t.arr.length?this.count=q(this)+1:this.count=-1),this.count--,this.s}}class Y extends O{constructor(t){super(t),this.s=0,this.count=0}read(){if(0===this.count){this.s=U(this);const t=k(this.s);this.count=1,t&&(this.s=-this.s,this.count=q(this)+2)}return this.count--,this.s}}class G extends O{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const t=U(this),e=1&t;this.diff=t>>1,this.count=1,e&&(this.count=q(this)+2)}return this.s+=this.diff,this.count--,this.s}}class W{constructor(t){this.decoder=new Y(t),this.str=P(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}const J=(t,e,o)=>new Uint8Array(t,e,o),Z=t=>{const e=(o=t.byteLength,new Uint8Array(o));var o;return e.set(t),e},$=Number.isInteger||(t=>"number"==typeof t&&isFinite(t)&&w(t)===t);class H{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const X=()=>new H,K=t=>{const e=new Uint8Array((t=>{let e=t.cpos;for(let o=0;o<t.bufs.length;o++)e+=t.bufs[o].length;return e})(t));let o=0;for(let n=0;n<t.bufs.length;n++){const i=t.bufs[n];e.set(i,o),o+=i.length}return e.set(J(t.cbuf.buffer,0,t.cpos),o),e},tt=(t,e)=>{const o=t.cbuf.length;t.cpos===o&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(2*o),t.cpos=0),t.cbuf[t.cpos++]=e},et=tt,ot=(t,e)=>{for(;e>127;)tt(t,128|127&e),e>>>=7;tt(t,127&e)},nt=(t,e)=>{const o=k(e);for(o&&(e=-e),tt(t,(e>63?128:0)|(o?64:0)|63&e),e>>>=6;e>0;)tt(t,(e>127?128:0)|127&e),e>>>=7},it=(t,e)=>{const o=unescape(encodeURIComponent(e)),n=o.length;ot(t,n);for(let i=0;i<n;i++)tt(t,o.codePointAt(i))},rt=(t,e)=>{const o=t.cbuf.length,n=t.cpos,i=y(o-n,e.length),r=e.length-i;t.cbuf.set(e.subarray(0,i),n),t.cpos+=i,r>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(v(2*o,r)),t.cbuf.set(e.subarray(i)),t.cpos=r)},st=(t,e)=>{ot(t,e.byteLength),rt(t,e)},at=(t,e)=>{((t,e)=>{const o=t.cbuf.length;o-t.cpos<e&&(t.bufs.push(J(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(2*v(o,e)),t.cpos=0)})(t,e);const o=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,o},ct=new DataView(new ArrayBuffer(4)),lt=(t,e)=>{switch(typeof e){case"string":tt(t,119),it(t,e);break;case"number":$(e)&&e<=2147483647?(tt(t,125),nt(t,e)):(o=e,ct.setFloat32(0,o),ct.getFloat32(0)===o?(tt(t,124),((t,e)=>{at(t,4).setFloat32(0,e,!1)})(t,e)):(tt(t,123),((t,e)=>{at(t,8).setFloat64(0,e,!1)})(t,e)));break;case"bigint":tt(t,122),((t,e)=>{at(t,8).setBigInt64(0,e,!1)})(t,e);break;case"object":if(null===e)tt(t,126);else if(e instanceof Array){tt(t,117),ot(t,e.length);for(let o=0;o<e.length;o++)lt(t,e[o])}else if(e instanceof Uint8Array)tt(t,116),st(t,e);else{tt(t,118);const o=Object.keys(e);ot(t,o.length);for(let n=0;n<o.length;n++){const i=o[n];it(t,i),lt(t,e[i])}}break;case"boolean":tt(t,e?120:121);break;default:tt(t,127)}var o};class dt extends H{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&ot(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const ht=t=>{t.count>0&&(nt(t.encoder,1===t.count?t.s:-t.s),t.count>1&&ot(t.encoder,t.count-2))};class ut{constructor(){this.encoder=new H,this.s=0,this.count=0}write(t){this.s===t?this.count++:(ht(this),this.count=1,this.s=t)}toUint8Array(){return ht(this),K(this.encoder)}}const pt=t=>{if(t.count>0){const e=t.diff<<1|(1===t.count?0:1);nt(t.encoder,e),t.count>1&&ot(t.encoder,t.count-2)}};class gt{constructor(){this.encoder=new H,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(pt(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return pt(this),K(this.encoder)}}class mt{constructor(){this.sarr=[],this.s="",this.lensE=new ut}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new H;return this.sarr.push(this.s),this.s="",it(t,this.sarr.join("")),rt(t,this.lensE.toUint8Array()),K(t)}}const ft="undefined"==typeof crypto?null:crypto,bt=null!==ft?t=>{const e=new ArrayBuffer(t),o=new Uint8Array(e);return ft.getRandomValues(o),e}:t=>{const e=new ArrayBuffer(t),o=new Uint8Array(e);for(let n=0;n<t;n++)o[n]=Math.ceil(4294967295*Math.random()>>>0);return e},wt=()=>new Uint32Array(bt(4))[0],xt=[1e7]+-1e3+-4e3+-8e3+-1e11,yt=()=>xt.replace(/[018]/g,(t=>(t^wt()&15>>t/4).toString(16))),vt=t=>new Error(t),kt=()=>{throw vt("Method unimplemented")},At=()=>{throw vt("Unexpected case")},Dt=Object.keys,Mt=t=>Dt(t).length,Ct=(t,e)=>t===e||Mt(t)===Mt(e)&&((t,e)=>{for(const o in t)if(!e(t[o],o))return!1;return!0})(t,((t,o)=>(void 0!==t||((t,e)=>Object.prototype.hasOwnProperty.call(t,e))(e,o))&&e[o]===t)),_t=(t,e,o=0)=>{try{for(;o<t.length;o++)t[o](...e)}finally{o<t.length&&_t(t,e,o+1)}},Et=Symbol;class Nt{constructor(t,e){this.left=t,this.right=e}}const St=(t,e)=>new Nt(t,e),It="undefined"!=typeof document?document:{};"undefined"!=typeof DOMParser&&new DOMParser;It.ELEMENT_NODE,It.TEXT_NODE,It.CDATA_SECTION_NODE,It.COMMENT_NODE,It.DOCUMENT_NODE,It.DOCUMENT_TYPE_NODE,It.DOCUMENT_FRAGMENT_NODE;Date.now;const zt=Et(),jt=Et(),Ot=Et(),Lt=Et(),Tt=Et(),Rt=Et(),qt=Et(),Ut=Et(),Pt=Et(),Bt={[zt]:St("font-weight","bold"),[jt]:St("font-weight","normal"),[Ot]:St("color","blue"),[Tt]:St("color","green"),[Lt]:St("color","grey"),[Rt]:St("color","red"),[qt]:St("color","purple"),[Ut]:St("color","orange"),[Pt]:St("color","black")},Vt={[zt]:"[1m",[jt]:"[2m",[Ot]:"[34m",[Tt]:"[32m",[Lt]:"[37m",[Rt]:"[31m",[qt]:"[35m",[Ut]:"[38;5;208m",[Pt]:"[0m"},Qt=I?t=>{const e=[],o=[];let n=0;for(;n<t.length;n++){const o=t[n],i=Vt[o];if(void 0!==i)e.push(i);else{if(o.constructor!==String&&o.constructor!==Number)break;e.push(o)}}for(n>0&&(e.push("[0m"),o.push(e.join("")));n<t.length;n++){const e=t[n];e instanceof Symbol||o.push(e)}return o}:t=>{const e=[],o=[],n=d();let i=[],r=0;for(;r<t.length;r++){const i=t[r],s=Bt[i];if(void 0!==s)n.set(s.left,s.right);else{if(i.constructor!==String&&i.constructor!==Number)break;{const t=((t,e)=>{const o=[];for(const[n,i]of t)o.push(e(i,n));return o})(n,((t,e)=>`${e}:${t};`)).join("");r>0||t.length>0?(e.push("%c"+i),o.push(t)):e.push(i)}}}for(r>0&&(i=o,i.unshift(e.join("")));r<t.length;r++){const e=t[r];e instanceof Symbol||i.push(e)}return i},Ft=new Set,Yt=t=>({[Symbol.iterator](){return this},next:t}),Gt=(t,e)=>Yt((()=>{const{done:o,value:n}=t.next();return{done:o,value:o?void 0:e(n)}}));class Wt{constructor(t,e){this.clock=t,this.len=e}}class Jt{constructor(){this.clients=new Map}}const Zt=(t,e,o)=>e.clients.forEach(((e,n)=>{const i=t.doc.store.clients.get(n);for(let r=0;r<e.length;r++){const n=e[r];We(t,i,n.clock,n.len,o)}})),$t=(t,e)=>{const o=t.clients.get(e.client);return void 0!==o&&null!==((t,e)=>{let o=0,n=t.length-1;for(;o<=n;){const i=w((o+n)/2),r=t[i],s=r.clock;if(s<=e){if(e<s+r.len)return i;o=i+1}else n=i-1}return null})(o,e.clock)},Ht=t=>{t.clients.forEach((t=>{let e,o;for(t.sort(((t,e)=>t.clock-e.clock)),e=1,o=1;e<t.length;e++){const n=t[o-1],i=t[e];n.clock+n.len>=i.clock?n.len=v(n.len,i.clock+i.len-n.clock):(o<e&&(t[o]=i),o++)}t.length=o}))},Xt=t=>{const e=new Jt;for(let o=0;o<t.length;o++)t[o].clients.forEach(((n,i)=>{if(!e.clients.has(i)){const r=n.slice();for(let e=o+1;e<t.length;e++)m(r,t[e].clients.get(i)||[]);e.clients.set(i,r)}}));return Ht(e),e},Kt=(t,e,o,n)=>{u(t.clients,e,(()=>[])).push(new Wt(o,n))},te=()=>new Jt,ee=(t,e)=>{ot(t.restEncoder,e.clients.size),e.clients.forEach(((e,o)=>{t.resetDsCurVal(),ot(t.restEncoder,o);const n=e.length;ot(t.restEncoder,n);for(let i=0;i<n;i++){const o=e[i];t.writeDsClock(o.clock),t.writeDsLen(o.len)}}))},oe=t=>{const e=new Jt,o=q(t.restDecoder);for(let n=0;n<o;n++){t.resetDsCurVal();const o=q(t.restDecoder),n=q(t.restDecoder);if(n>0){const i=u(e.clients,o,(()=>[]));for(let e=0;e<n;e++)i.push(new Wt(t.readDsClock(),t.readDsLen()))}}return e},ne=(t,e,o)=>{const n=new Jt,i=q(t.restDecoder);for(let r=0;r<i;r++){t.resetDsCurVal();const i=q(t.restDecoder),r=q(t.restDecoder),s=o.clients.get(i)||[],a=Pe(o,i);for(let o=0;o<r;o++){const o=t.readDsClock(),r=o+t.readDsLen();if(o<a){a<r&&Kt(n,i,a,r-a);let t=Ve(s,o),c=s[t];for(!c.deleted&&c.id.clock<o&&(s.splice(t+1,0,_n(e,c,o-c.id.clock)),t++);t<s.length&&(c=s[t++],c.id.clock<r);)c.deleted||(r<c.id.clock+c.length&&s.splice(t,0,_n(e,c,r-c.id.clock)),c.delete(e))}else Kt(n,i,o,r-o)}}if(n.clients.size>0){const t=new de;return ot(t.restEncoder,0),ee(t,n),t.toUint8Array()}return null},ie=wt;class re extends b{constructor({guid:t=yt(),gc:e=!0,gcFilter:o=(()=>!0),meta:n=null,autoLoad:i=!1}={}){super(),this.gc=e,this.gcFilter=o,this.clientID=ie(),this.guid=t,this.share=new Map,this.store=new qe,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=i,this.autoLoad=i,this.meta=n}load(){const t=this._item;null===t||this.shouldLoad||Ke(t.parent.doc,(t=>{t.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map((t=>t.guid)))}transact(t,e=null){Ke(this,t,e)}get(t,e=xo){const o=u(this.share,t,(()=>{const t=new e;return t._integrate(this,null),t})),n=o.constructor;if(e!==xo&&n!==e){if(n===xo){const n=new e;n._map=o._map,o._map.forEach((t=>{for(;null!==t;t=t.left)t.parent=n})),n._start=o._start;for(let t=n._start;null!==t;t=t.right)t.parent=n;return n._length=o._length,this.share.set(t,n),n._integrate(this,null),n}throw new Error(`Type with the name ${t} has already been defined with a different constructor`)}return o}getArray(t=""){return this.get(t,Ro)}getText(t=""){return this.get(t,Ko)}getMap(t=""){return this.get(t,Uo)}getXmlFragment(t=""){return this.get(t,en)}toJSON(){const t={};return this.share.forEach(((e,o)=>{t[o]=e.toJSON()})),t}destroy(){f(this.subdocs).forEach((t=>t.destroy()));const t=this._item;if(null!==t){this._item=null;const e=t.content;t.deleted?e.doc=null:(e.doc=new re(r({guid:this.guid},e.opts)),e.doc._item=t),Ke(t.parent.doc,(o=>{t.deleted||o.subdocsAdded.add(e.doc),o.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}}class se{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return q(this.restDecoder)}readDsLen(){return q(this.restDecoder)}}class ae extends se{readLeftID(){return Me(q(this.restDecoder),q(this.restDecoder))}readRightID(){return Me(q(this.restDecoder),q(this.restDecoder))}readClient(){return q(this.restDecoder)}readInfo(){return R(this.restDecoder)}readString(){return P(this.restDecoder)}readParentInfo(){return 1===q(this.restDecoder)}readTypeRef(){return q(this.restDecoder)}readLen(){return q(this.restDecoder)}readAny(){return Q(this.restDecoder)}readBuf(){return Z(T(this.restDecoder))}readJSON(){return JSON.parse(P(this.restDecoder))}readKey(){return P(this.restDecoder)}}class ce extends class{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=q(this.restDecoder),this.dsCurrVal}readDsLen(){const t=q(this.restDecoder)+1;return this.dsCurrVal+=t,t}}{constructor(t){super(t),this.keys=[],q(t),this.keyClockDecoder=new G(T(t)),this.clientDecoder=new Y(T(t)),this.leftClockDecoder=new G(T(t)),this.rightClockDecoder=new G(T(t)),this.infoDecoder=new F(T(t),R),this.stringDecoder=new W(T(t)),this.parentInfoDecoder=new F(T(t),R),this.typeRefDecoder=new Y(T(t)),this.lenDecoder=new Y(T(t))}readLeftID(){return new Ae(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ae(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Q(this.restDecoder)}readBuf(){return T(this.restDecoder)}readJSON(){return Q(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const t=this.stringDecoder.read();return this.keys.push(t),t}}}class le extends class{constructor(){this.restEncoder=X()}toUint8Array(){return K(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){ot(this.restEncoder,t)}writeDsLen(t){ot(this.restEncoder,t)}}{writeLeftID(t){ot(this.restEncoder,t.client),ot(this.restEncoder,t.clock)}writeRightID(t){ot(this.restEncoder,t.client),ot(this.restEncoder,t.clock)}writeClient(t){ot(this.restEncoder,t)}writeInfo(t){et(this.restEncoder,t)}writeString(t){it(this.restEncoder,t)}writeParentInfo(t){ot(this.restEncoder,t?1:0)}writeTypeRef(t){ot(this.restEncoder,t)}writeLen(t){ot(this.restEncoder,t)}writeAny(t){lt(this.restEncoder,t)}writeBuf(t){st(this.restEncoder,t)}writeJSON(t){it(this.restEncoder,JSON.stringify(t))}writeKey(t){it(this.restEncoder,t)}}class de extends class{constructor(){this.restEncoder=X(),this.dsCurrVal=0}toUint8Array(){return K(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const e=t-this.dsCurrVal;this.dsCurrVal=t,ot(this.restEncoder,e)}writeDsLen(t){0===t&&At(),ot(this.restEncoder,t-1),this.dsCurrVal+=t}}{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new gt,this.clientEncoder=new ut,this.leftClockEncoder=new gt,this.rightClockEncoder=new gt,this.infoEncoder=new dt(et),this.stringEncoder=new mt,this.parentInfoEncoder=new dt(et),this.typeRefEncoder=new ut,this.lenEncoder=new ut}toUint8Array(){const t=X();return ot(t,0),st(t,this.keyClockEncoder.toUint8Array()),st(t,this.clientEncoder.toUint8Array()),st(t,this.leftClockEncoder.toUint8Array()),st(t,this.rightClockEncoder.toUint8Array()),st(t,K(this.infoEncoder)),st(t,this.stringEncoder.toUint8Array()),st(t,K(this.parentInfoEncoder)),st(t,this.typeRefEncoder.toUint8Array()),st(t,this.lenEncoder.toUint8Array()),rt(t,K(this.restEncoder)),K(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){lt(this.restEncoder,t)}writeBuf(t){st(this.restEncoder,t)}writeJSON(t){lt(this.restEncoder,t)}writeKey(t){void 0===this.keyMap.get(t)?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(this.keyClock++)}}const he=(t,e,o)=>{const n=new Map;o.forEach(((t,o)=>{Pe(e,o)>t&&n.set(o,t)})),Ue(e).forEach(((t,e)=>{o.has(e)||n.set(e,0)})),ot(t.restEncoder,n.size),Array.from(n.entries()).sort(((t,e)=>e[0]-t[0])).forEach((([o,n])=>{((t,e,o,n)=>{n=v(n,e[0].id.clock);const i=Ve(e,n);ot(t.restEncoder,e.length-i),t.writeClient(o),ot(t.restEncoder,n);const r=e[i];r.write(t,n-r.id.clock);for(let s=i+1;s<e.length;s++)e[s].write(t,0)})(t,e.clients.get(o),o,n)}))},ue=(t,e,o,n=new ce(t))=>Ke(e,(t=>{t.local=!1;let e=!1;const o=t.doc,i=o.store,r=((t,e,o)=>{const n=[];let i=Array.from(o.keys()).sort(((t,e)=>t-e));if(0===i.length)return null;const r=()=>{if(0===i.length)return null;let t=o.get(i[i.length-1]);for(;t.refs.length===t.i;){if(i.pop(),!(i.length>0))return null;t=o.get(i[i.length-1])}return t};let s=r();if(null===s&&0===n.length)return null;const a=new qe,c=new Map,l=(t,e)=>{const o=c.get(t);(null==o||o>e)&&c.set(t,e)};let d=s.refs[s.i++];const h=new Map,p=()=>{for(const t of n){const e=t.id.client,n=o.get(e);n?(n.i--,a.clients.set(e,n.refs.slice(n.i)),o.delete(e),n.i=0,n.refs=[]):a.clients.set(e,[t]),i=i.filter((t=>t!==e))}n.length=0};for(;;){if(d.constructor!==In){const i=u(h,d.id.client,(()=>Pe(e,d.id.client)))-d.id.clock;if(i<0)n.push(d),l(d.id.client,d.id.clock-1),p();else{const r=d.getMissing(t,e);if(null!==r){n.push(d);const t=o.get(r)||{refs:[],i:0};if(t.refs.length!==t.i){d=t.refs[t.i++];continue}l(r,Pe(e,r)),p()}else(0===i||i<d.length)&&(d.integrate(t,i),h.set(d.id.client,d.id.clock+d.length))}}if(n.length>0)d=n.pop();else if(null!==s&&s.i<s.refs.length)d=s.refs[s.i++];else{if(s=r(),null===s)break;d=s.refs[s.i++]}}if(a.clients.size>0){const t=new de;return he(t,a,new Map),ot(t.restEncoder,0),{missing:c,update:t.toUint8Array()}}return null})(t,i,((t,e)=>{const o=d(),n=q(t.restDecoder);for(let i=0;i<n;i++){const n=q(t.restDecoder),i=new Array(n),r=t.readClient();let s=q(t.restDecoder);o.set(r,{i:0,refs:i});for(let o=0;o<n;o++){const n=t.readInfo();switch(31&n){case 0:{const e=t.readLen();i[o]=new cn(Me(r,s),e),s+=e;break}case 10:{const e=q(t.restDecoder);i[o]=new In(Me(r,s),e),s+=e;break}default:{const a=0==(192&n),c=new En(Me(r,s),null,128==(128&n)?t.readLeftID():null,null,64==(64&n)?t.readRightID():null,a?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,a&&32==(32&n)?t.readString():null,Nn(t,n));i[o]=c,s+=c.length}}}}return o})(n,o)),s=i.pendingStructs;if(s){for(const[t,o]of s.missing)if(o<Pe(i,t)){e=!0;break}if(r){for(const[t,e]of r.missing){const o=s.missing.get(t);(null==o||o>e)&&s.missing.set(t,e)}s.update=io([s.update,r.update])}}else i.pendingStructs=r;const a=ne(n,t,i);if(i.pendingDs){const e=new ce(L(i.pendingDs));q(e.restDecoder);const o=ne(e,t,i);i.pendingDs=a&&o?io([a,o]):a||o}else i.pendingDs=a;if(e){const e=i.pendingStructs.update;i.pendingStructs=null,pe(t.doc,e)}}),o,!1),pe=(t,e,o,n=ce)=>{const i=L(e);ue(i,t,o,new n(i))},ge=(t,e,o)=>pe(t,e,o,ae),me=(t,e,o=new Map)=>{he(t,e.store,o),ee(t,(t=>{const e=te();return t.clients.forEach(((t,o)=>{const n=[];for(let e=0;e<t.length;e++){const o=t[e];if(o.deleted){const i=o.id.clock;let r=o.length;if(e+1<t.length)for(let o=t[e+1];e+1<t.length&&o.deleted;o=t[1+ ++e])r+=o.length;n.push(new Wt(i,r))}}n.length>0&&e.clients.set(o,n)})),e})(e.store))},fe=(t,e)=>((t,e=new Uint8Array([0]),o=new de)=>{const n=be(e);me(o,t,n);const i=[o.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(ro(t.store.pendingStructs.update,e)),i.length>1){if(o.constructor===le)return oo(i.map(((t,e)=>0===e?t:lo(t))));if(o.constructor===de)return io(i)}return i[0]})(t,e,new le),be=t=>(t=>{const e=new Map,o=q(t.restDecoder);for(let n=0;n<o;n++){const o=q(t.restDecoder),n=q(t.restDecoder);e.set(o,n)}return e})(new se(L(t)));class we{constructor(){this.l=[]}}const xe=()=>new we,ye=(t,e)=>t.l.push(e),ve=(t,e)=>{const o=t.l,n=o.length;t.l=o.filter((t=>e!==t)),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},ke=(t,e,o)=>_t(t.l,[e,o]);class Ae{constructor(t,e){this.client=t,this.clock=e}}const De=(t,e)=>t===e||null!==t&&null!==e&&t.client===e.client&&t.clock===e.clock,Me=(t,e)=>new Ae(t,e),Ce=t=>{for(const[e,o]of t.doc.share.entries())if(o===t)return e;throw At()};class _e{constructor(t,e,o,n=0){this.type=t,this.tname=e,this.item=o,this.assoc=n}}const Ee=t=>new _e(null==t.type?null:Me(t.type.client,t.type.clock),t.tname||null,null==t.item?null:Me(t.item.client,t.item.clock),null==t.assoc?0:t.assoc);class Ne{constructor(t,e,o=0){this.type=t,this.index=e,this.assoc=o}}const Se=(t,e,o)=>{let n=null,i=null;return null===t._item?i=Ce(t):n=Me(t._item.id.client,t._item.id.clock),new _e(n,i,e,o)},Ie=(t,e,o=0)=>{let n=t._start;if(o<0){if(0===e)return Se(t,null,o);e--}for(;null!==n;){if(!n.deleted&&n.countable){if(n.length>e)return Se(t,Me(n.id.client,n.id.clock+e),o);e-=n.length}if(null===n.right&&o<0)return Se(t,n.lastId,o);n=n.right}return Se(t,null,o)},ze=(t,e)=>{const o=e.store,n=t.item,i=t.type,r=t.tname,s=t.assoc;let a=null,c=0;if(null!==n){if(Pe(o,n.client)<=n.clock)return null;const t=Cn(o,n),e=t.item;if(!(e instanceof En))return null;if(a=e.parent,null===a._item||!a._item.deleted){c=e.deleted||!e.countable?0:t.diff+(s>=0?0:1);let o=e.left;for(;null!==o;)!o.deleted&&o.countable&&(c+=o.length),o=o.left}}else{if(null!==r)a=e.get(r);else{if(null===i)throw At();{if(Pe(o,i.client)<=i.clock)return null;const{item:t}=Cn(o,i);if(!(t instanceof En&&t.content instanceof Mn))return null;a=t.content.type}}c=s>=0?a._length:0}return((t,e,o=0)=>new Ne(t,e,o))(a,c,t.assoc)};class je{constructor(t,e){this.ds=t,this.sv=e}}var Oe,Le;Oe=te(),Le=new Map,new je(Oe,Le);const Te=(t,e)=>void 0===e?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!$t(e.ds,t.id),Re=(t,e)=>{const o=u(t.meta,Re,p),n=t.doc.store;o.has(e)||(e.sv.forEach(((e,o)=>{e<Pe(n,o)&&Ye(t,Me(o,e))})),Zt(t,e.ds,(t=>{})),o.add(e))};class qe{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Ue=t=>{const e=new Map;return t.clients.forEach(((t,o)=>{const n=t[t.length-1];e.set(o,n.id.clock+n.length)})),e},Pe=(t,e)=>{const o=t.clients.get(e);if(void 0===o)return 0;const n=o[o.length-1];return n.id.clock+n.length},Be=(t,e)=>{let o=t.clients.get(e.id.client);if(void 0===o)o=[],t.clients.set(e.id.client,o);else{const t=o[o.length-1];if(t.id.clock+t.length!==e.id.clock)throw At()}o.push(e)},Ve=(t,e)=>{let o=0,n=t.length-1,i=t[n],r=i.id.clock;if(r===e)return n;let s=w(e/(r+i.length-1)*n);for(;o<=n;){if(i=t[s],r=i.id.clock,r<=e){if(e<r+i.length)return s;o=s+1}else n=s-1;s=w((o+n)/2)}throw At()},Qe=(t,e)=>{const o=t.clients.get(e.client);return o[Ve(o,e.clock)]},Fe=(t,e,o)=>{const n=Ve(e,o),i=e[n];return i.id.clock<o&&i instanceof En?(e.splice(n+1,0,_n(t,i,o-i.id.clock)),n+1):n},Ye=(t,e)=>{const o=t.doc.store.clients.get(e.client);return o[Fe(t,o,e.clock)]},Ge=(t,e,o)=>{const n=e.clients.get(o.client),i=Ve(n,o.clock),r=n[i];return o.clock!==r.id.clock+r.length-1&&r.constructor!==cn&&n.splice(i+1,0,_n(t,r,o.clock-r.id.clock+1)),r},We=(t,e,o,n,i)=>{if(0===n)return;const r=o+n;let s,a=Fe(t,e,o);do{s=e[a++],r<s.id.clock+s.length&&Fe(t,e,r),i(s)}while(a<e.length&&e[a].id.clock<r)};class Je{constructor(t,e,o){this.doc=t,this.deleteSet=new Jt,this.beforeState=Ue(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const Ze=(t,e)=>!(0===e.deleteSet.clients.size&&!((t,e)=>{for(const[o,n]of t)if(e(n,o))return!0;return!1})(e.afterState,((t,o)=>e.beforeState.get(o)!==t)))&&(Ht(e.deleteSet),((t,e)=>{he(t,e.doc.store,e.beforeState)})(t,e),ee(t,e.deleteSet),!0),$e=(t,e,o)=>{const n=e._item;(null===n||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&u(t.changed,e,p).add(o)},He=(t,e)=>{const o=t[e-1],n=t[e];o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)&&(t.splice(e,1),n instanceof En&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o))},Xe=(t,e)=>{if(e<t.length){const o=t[e],n=o.doc,i=n.store,r=o.deleteSet,s=o._mergeStructs;try{Ht(r),o.afterState=Ue(o.doc.store),n._transaction=null,n.emit("beforeObserverCalls",[o,n]);const a=[];o.changed.forEach(((t,e)=>a.push((()=>{null!==e._item&&e._item.deleted||e._callObserver(o,t)})))),a.push((()=>{o.changedParentTypes.forEach(((t,e)=>a.push((()=>{null!==e._item&&e._item.deleted||((t=t.filter((t=>null===t.target._item||!t.target._item.deleted))).forEach((t=>{t.currentTarget=e})),t.sort(((t,e)=>t.path.length-e.path.length)),ke(e._dEH,t,o))})))),a.push((()=>n.emit("afterTransaction",[o,n])))})),_t(a,[])}finally{n.gc&&((t,e,o)=>{for(const[n,i]of t.clients.entries()){const t=e.clients.get(n);for(let n=i.length-1;n>=0;n--){const r=i[n],s=r.clock+r.len;for(let n=Ve(t,r.clock),i=t[n];n<t.length&&i.id.clock<s;i=t[++n]){const i=t[n];if(r.clock+r.len<=i.id.clock)break;i instanceof En&&i.deleted&&!i.keep&&o(i)&&i.gc(e,!1)}}}})(r,i,n.gcFilter),((t,e)=>{t.clients.forEach(((t,o)=>{const n=e.clients.get(o);for(let e=t.length-1;e>=0;e--){const o=t[e];for(let t=y(n.length-1,1+Ve(n,o.clock+o.len-1)),e=n[t];t>0&&e.id.clock>=o.clock;e=n[--t])He(n,t)}}))})(r,i),o.afterState.forEach(((t,e)=>{const n=o.beforeState.get(e)||0;if(n!==t){const t=i.clients.get(e),o=v(Ve(t,n),1);for(let e=t.length-1;e>=o;e--)He(t,e)}}));for(let t=0;t<s.length;t++){const{client:e,clock:o}=s[t].id,n=i.clients.get(e),r=Ve(n,o);r+1<n.length&&He(n,r+1),r>0&&He(n,r)}if(o.local||o.afterState.get(n.clientID)===o.beforeState.get(n.clientID)||(n.clientID=ie(),((...t)=>{console.log(...Qt(t)),Ft.forEach((e=>e.print(t)))})(Ut,zt,"[yjs] ",jt,Rt,"Changed the client-id because another client seems to be using it.")),n.emit("afterTransactionCleanup",[o,n]),n._observers.has("update")){const t=new le;Ze(t,o)&&n.emit("update",[t.toUint8Array(),o.origin,n,o])}if(n._observers.has("updateV2")){const t=new de;Ze(t,o)&&n.emit("updateV2",[t.toUint8Array(),o.origin,n,o])}o.subdocsAdded.forEach((t=>n.subdocs.add(t))),o.subdocsRemoved.forEach((t=>n.subdocs.delete(t))),n.emit("subdocs",[{loaded:o.subdocsLoaded,added:o.subdocsAdded,removed:o.subdocsRemoved}]),o.subdocsRemoved.forEach((t=>t.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):Xe(t,e+1)}}},Ke=(t,e,o=null,n=!0)=>{const i=t._transactionCleanups;let r=!1;null===t._transaction&&(r=!0,t._transaction=new Je(t,o,n),i.push(t._transaction),1===i.length&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{r&&i[0]===t._transaction&&Xe(i,0)}};class to{constructor(t,e){this.gen=function*(t){const e=q(t.restDecoder);for(let o=0;o<e;o++){const e=q(t.restDecoder),o=t.readClient();let n=q(t.restDecoder);for(let i=0;i<e;i++){const e=t.readInfo();if(10===e){const e=q(t.restDecoder);yield new In(Me(o,n),e),n+=e}else if(0!=(31&e)){const i=0==(192&e),r=new En(Me(o,n),null,128==(128&e)?t.readLeftID():null,null,64==(64&e)?t.readRightID():null,i?t.readParentInfo()?t.readString():t.readLeftID():null,i&&32==(32&e)?t.readString():null,Nn(t,e));yield r,n+=r.length}else{const e=t.readLen();yield new cn(Me(o,n),e),n+=e}}}}(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===In);return this.curr}}class eo{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const oo=t=>io(t,ae,le),no=(t,e)=>{if(t.constructor===cn){const{client:o,clock:n}=t.id;return new cn(Me(o,n+e),t.length-e)}if(t.constructor===In){const{client:o,clock:n}=t.id;return new In(Me(o,n+e),t.length-e)}{const o=t,{client:n,clock:i}=o.id;return new En(Me(n,i+e),null,Me(n,i+e-1),null,o.rightOrigin,o.parent,o.parentSub,o.content.splice(e))}},io=(t,e=ce,o=de)=>{const n=t.map((t=>new e(L(t))));let i=n.map((t=>new to(t,!0))),r=null;const s=new o,a=new eo(s);for(;i=i.filter((t=>null!==t.curr)),i.sort(((t,e)=>{if(t.curr.id.client===e.curr.id.client){const o=t.curr.id.clock-e.curr.id.clock;return 0===o?t.curr.constructor===e.curr.constructor?0:t.curr.constructor===In?1:-1:o}return e.curr.id.client-t.curr.id.client})),0!==i.length;){const t=i[0],e=t.curr.id.client;if(null!==r){let o=t.curr,n=!1;for(;null!==o&&o.id.clock+o.length<=r.struct.id.clock+r.struct.length&&o.id.client>=r.struct.id.client;)o=t.next(),n=!0;if(null===o||o.id.client!==e||n&&o.id.clock>r.struct.id.clock+r.struct.length)continue;if(e!==r.struct.id.client)ao(a,r.struct,r.offset),r={struct:o,offset:0},t.next();else if(r.struct.id.clock+r.struct.length<o.id.clock)if(r.struct.constructor===In)r.struct.length=o.id.clock+o.length-r.struct.id.clock;else{ao(a,r.struct,r.offset);const t=o.id.clock-r.struct.id.clock-r.struct.length;r={struct:new In(Me(e,r.struct.id.clock+r.struct.length),t),offset:0}}else{const e=r.struct.id.clock+r.struct.length-o.id.clock;e>0&&(r.struct.constructor===In?r.struct.length-=e:o=no(o,e)),r.struct.mergeWith(o)||(ao(a,r.struct,r.offset),r={struct:o,offset:0},t.next())}}else r={struct:t.curr,offset:0},t.next();for(let o=t.curr;null!==o&&o.id.client===e&&o.id.clock===r.struct.id.clock+r.struct.length&&o.constructor!==In;o=t.next())ao(a,r.struct,r.offset),r={struct:o,offset:0}}null!==r&&(ao(a,r.struct,r.offset),r=null),co(a);const c=n.map((t=>oe(t))),l=Xt(c);return ee(s,l),s.toUint8Array()},ro=(t,e,o=ce,n=de)=>{const i=be(e),r=new n,s=new eo(r),a=new o(L(t)),c=new to(a,!1);for(;c.curr;){const t=c.curr,e=t.id.client,o=i.get(e)||0;if(c.curr.constructor!==In)if(t.id.clock+t.length>o)for(ao(s,t,v(o-t.id.clock,0)),c.next();c.curr&&c.curr.id.client===e;)ao(s,c.curr,0),c.next();else for(;c.curr&&c.curr.id.client===e&&c.curr.id.clock+c.curr.length<=o;)c.next();else c.next()}co(s);const l=oe(a);return ee(r,l),r.toUint8Array()},so=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:K(t.encoder.restEncoder)}),t.encoder.restEncoder=X(),t.written=0)},ao=(t,e,o)=>{t.written>0&&t.currClient!==e.id.client&&so(t),0===t.written&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),ot(t.encoder.restEncoder,e.id.clock+o)),e.write(t.encoder,o),t.written++},co=t=>{so(t);const e=t.encoder.restEncoder;ot(e,t.clientStructs.length);for(let o=0;o<t.clientStructs.length;o++){const n=t.clientStructs[o];ot(e,n.written),rt(e,n.restEncoder)}},lo=t=>((t,e,o)=>{const n=new e(L(t)),i=new to(n,!1),r=new o,s=new eo(r);for(let c=i.curr;null!==c;c=i.next())ao(s,c,0);co(s);const a=oe(n);return ee(r,a),r.toUint8Array()})(t,ce,le);class ho{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null}get path(){return uo(this.currentTarget,this.target)}deletes(t){return $t(this.transaction.deleteSet,t.id)}get keys(){if(null===this._keys){const t=new Map,e=this.target;this.transaction.changed.get(e).forEach((o=>{if(null!==o){const n=e._map.get(o);let i,r;if(this.adds(n)){let t=n.left;for(;null!==t&&this.adds(t);)t=t.left;if(this.deletes(n)){if(null===t||!this.deletes(t))return;i="delete",r=g(t.content.getContent())}else null!==t&&this.deletes(t)?(i="update",r=g(t.content.getContent())):(i="add",r=void 0)}else{if(!this.deletes(n))return;i="delete",r=g(n.content.getContent())}t.set(o,{action:i,oldValue:r})}})),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(null===t){const e=this.target,o=p(),n=p(),i=[];t={added:o,deleted:n,delta:i,keys:this.keys};if(this.transaction.changed.get(e).has(null)){let t=null;const r=()=>{t&&i.push(t)};for(let i=e._start;null!==i;i=i.right)i.deleted?this.deletes(i)&&!this.adds(i)&&(null!==t&&void 0!==t.delete||(r(),t={delete:0}),t.delete+=i.length,n.add(i)):this.adds(i)?(null!==t&&void 0!==t.insert||(r(),t={insert:[]}),t.insert=t.insert.concat(i.content.getContent()),o.add(i)):(null!==t&&void 0!==t.retain||(r(),t={retain:0}),t.retain+=i.length);null!==t&&void 0===t.retain&&r()}this._changes=t}return t}}const uo=(t,e)=>{const o=[];for(;null!==e._item&&e!==t;){if(null!==e._item.parentSub)o.unshift(e._item.parentSub);else{let t=0,n=e._item.parent._start;for(;n!==e._item&&null!==n;)n.deleted||t++,n=n.right;o.unshift(t)}e=e._item.parent}return o};let po=0;class go{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=po++}}const mo=(t,e,o)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=o,t.timestamp=po++},fo=(t,e)=>{if(null===t._start||0===e||null===t._searchMarker)return null;const o=0===t._searchMarker.length?null:t._searchMarker.reduce(((t,o)=>x(e-t.index)<x(e-o.index)?t:o));let n=t._start,i=0;for(null!==o&&(n=o.p,i=o.index,(t=>{t.timestamp=po++})(o));null!==n.right&&i<e;){if(!n.deleted&&n.countable){if(e<i+n.length)break;i+=n.length}n=n.right}for(;null!==n.left&&i>e;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);for(;null!==n.left&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);return null!==o&&x(o.index-i)<n.parent.length/80?(mo(o,n,i),o):((t,e,o)=>{if(t.length>=80){const n=t.reduce(((t,e)=>t.timestamp<e.timestamp?t:e));return mo(n,e,o),n}{const n=new go(e,o);return t.push(n),n}})(t._searchMarker,n,i)},bo=(t,e,o)=>{for(let n=t.length-1;n>=0;n--){const i=t[n];if(o>0){let e=i.p;for(e.marker=!1;e&&(e.deleted||!e.countable);)e=e.left,e&&!e.deleted&&e.countable&&(i.index-=e.length);if(null===e||!0===e.marker){t.splice(n,1);continue}i.p=e,e.marker=!0}(e<i.index||o>0&&e===i.index)&&(i.index=v(e,i.index+o))}},wo=(t,e,o)=>{const n=t,i=e.changedParentTypes;for(;u(i,t,(()=>[])).push(o),null!==t._item;)t=t._item.parent;ke(n._eH,o,e)};class xo{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=xe(),this._dEH=xe(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw kt()}clone(){throw kt()}_write(t){}get _first(){let t=this._start;for(;null!==t&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){ye(this._eH,t)}observeDeep(t){ye(this._dEH,t)}unobserve(t){ve(this._eH,t)}unobserveDeep(t){ve(this._dEH,t)}toJSON(){}}const yo=(t,e,o)=>{e<0&&(e=t._length+e),o<0&&(o=t._length+o);let n=o-e;const i=[];let r=t._start;for(;null!==r&&n>0;){if(r.countable&&!r.deleted){const t=r.content.getContent();if(t.length<=e)e-=t.length;else{for(let o=e;o<t.length&&n>0;o++)i.push(t[o]),n--;e=0}}r=r.right}return i},vo=t=>{const e=[];let o=t._start;for(;null!==o;){if(o.countable&&!o.deleted){const t=o.content.getContent();for(let o=0;o<t.length;o++)e.push(t[o])}o=o.right}return e},ko=(t,e)=>{let o=0,n=t._start;for(;null!==n;){if(n.countable&&!n.deleted){const i=n.content.getContent();for(let n=0;n<i.length;n++)e(i[n],o++,t)}n=n.right}},Ao=(t,e)=>{const o=[];return ko(t,((n,i)=>{o.push(e(n,i,t))})),o},Do=t=>{let e=t._start,o=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(null===o){for(;null!==e&&e.deleted;)e=e.right;if(null===e)return{done:!0,value:void 0};o=e.content.getContent(),n=0,e=e.right}const t=o[n++];return o.length<=n&&(o=null),{done:!1,value:t}}}},Mo=(t,e)=>{const o=fo(t,e);let n=t._start;for(null!==o&&(n=o.p,e-=o.index);null!==n;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},Co=(t,e,o,n)=>{let i=o;const r=t.doc,s=r.clientID,a=r.store,c=null===o?e._start:o.right;let l=[];const d=()=>{l.length>0&&(i=new En(Me(s,Pe(a,s)),i,i&&i.lastId,c,c&&c.id,e,null,new mn(l)),i.integrate(t,0),l=[])};n.forEach((o=>{switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(o);break;default:switch(d(),o.constructor){case Uint8Array:case ArrayBuffer:i=new En(Me(s,Pe(a,s)),i,i&&i.lastId,c,c&&c.id,e,null,new ln(new Uint8Array(o))),i.integrate(t,0);break;case re:i=new En(Me(s,Pe(a,s)),i,i&&i.lastId,c,c&&c.id,e,null,new hn(o)),i.integrate(t,0);break;default:if(!(o instanceof xo))throw new Error("Unexpected content type in insert operation");i=new En(Me(s,Pe(a,s)),i,i&&i.lastId,c,c&&c.id,e,null,new Mn(o)),i.integrate(t,0)}}})),d()},_o=vt("Length exceeded!"),Eo=(t,e,o,n)=>{if(o>e._length)throw _o;if(0===o)return e._searchMarker&&bo(e._searchMarker,o,n.length),Co(t,e,null,n);const i=o,r=fo(e,o);let s=e._start;for(null!==r&&(s=r.p,0===(o-=r.index)&&(s=s.prev,o+=s&&s.countable&&!s.deleted?s.length:0));null!==s;s=s.right)if(!s.deleted&&s.countable){if(o<=s.length){o<s.length&&Ye(t,Me(s.id.client,s.id.clock+o));break}o-=s.length}return e._searchMarker&&bo(e._searchMarker,i,n.length),Co(t,e,s,n)},No=(t,e,o,n)=>{if(0===n)return;const i=o,r=n,s=fo(e,o);let a=e._start;for(null!==s&&(a=s.p,o-=s.index);null!==a&&o>0;a=a.right)!a.deleted&&a.countable&&(o<a.length&&Ye(t,Me(a.id.client,a.id.clock+o)),o-=a.length);for(;n>0&&null!==a;)a.deleted||(n<a.length&&Ye(t,Me(a.id.client,a.id.clock+n)),a.delete(t),n-=a.length),a=a.right;if(n>0)throw _o;e._searchMarker&&bo(e._searchMarker,i,-r+n)},So=(t,e,o)=>{const n=e._map.get(o);void 0!==n&&n.delete(t)},Io=(t,e,o,n)=>{const i=e._map.get(o)||null,r=t.doc,s=r.clientID;let a;if(null==n)a=new mn([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new mn([n]);break;case Uint8Array:a=new ln(n);break;case re:a=new hn(n);break;default:if(!(n instanceof xo))throw new Error("Unexpected content type");a=new Mn(n)}new En(Me(s,Pe(r.store,s)),i,i&&i.lastId,null,null,e,o,a).integrate(t,0)},zo=(t,e)=>{const o=t._map.get(e);return void 0===o||o.deleted?void 0:o.content.getContent()[o.length-1]},jo=t=>{const e={};return t._map.forEach(((t,o)=>{t.deleted||(e[o]=t.content.getContent()[t.length-1])})),e},Oo=(t,e)=>{const o=t._map.get(e);return void 0!==o&&!o.deleted},Lo=t=>{return e=t.entries(),o=t=>!t[1].deleted,Yt((()=>{let t;do{t=e.next()}while(!t.done&&!o(t.value));return t}));var e,o};class To extends ho{constructor(t,e){super(t,e),this._transaction=e}}class Ro extends xo{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const e=new Ro;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ro}clone(){const t=new Ro;return t.insert(0,this.toArray().map((t=>t instanceof xo?t.clone():t))),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(t,e){super._callObserver(t,e),wo(this,t,new To(this,t))}insert(t,e){null!==this.doc?Ke(this.doc,(o=>{Eo(o,this,t,e)})):this._prelimContent.splice(t,0,...e)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}delete(t,e=1){null!==this.doc?Ke(this.doc,(o=>{No(o,this,t,e)})):this._prelimContent.splice(t,e)}get(t){return Mo(this,t)}toArray(){return vo(this)}slice(t=0,e=this.length){return yo(this,t,e)}toJSON(){return this.map((t=>t instanceof xo?t.toJSON():t))}map(t){return Ao(this,t)}forEach(t){ko(this,t)}[Symbol.iterator](){return Do(this)}_write(t){t.writeTypeRef(wn)}}class qo extends ho{constructor(t,e,o){super(t,e),this.keysChanged=o}}class Uo extends xo{constructor(t){super(),this._prelimContent=null,this._prelimContent=void 0===t?new Map:new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach(((t,e)=>{this.set(e,t)})),this._prelimContent=null}_copy(){return new Uo}clone(){const t=new Uo;return this.forEach(((e,o)=>{t.set(o,e instanceof xo?e.clone():e)})),t}_callObserver(t,e){wo(this,t,new qo(this,t,e))}toJSON(){const t={};return this._map.forEach(((e,o)=>{if(!e.deleted){const n=e.content.getContent()[e.length-1];t[o]=n instanceof xo?n.toJSON():n}})),t}get size(){return[...Lo(this._map)].length}keys(){return Gt(Lo(this._map),(t=>t[0]))}values(){return Gt(Lo(this._map),(t=>t[1].content.getContent()[t[1].length-1]))}entries(){return Gt(Lo(this._map),(t=>[t[0],t[1].content.getContent()[t[1].length-1]]))}forEach(t){return this._map.forEach(((e,o)=>{e.deleted||t(e.content.getContent()[e.length-1],o,this)})),{}}[Symbol.iterator](){return this.entries()}delete(t){null!==this.doc?Ke(this.doc,(e=>{So(e,this,t)})):this._prelimContent.delete(t)}set(t,e){return null!==this.doc?Ke(this.doc,(o=>{Io(o,this,t,e)})):this._prelimContent.set(t,e),e}get(t){return zo(this,t)}has(t){return Oo(this,t)}clear(){null!==this.doc?Ke(this.doc,(t=>{this.forEach((function(e,o,n){So(t,n,o)}))})):this._prelimContent.clear()}_write(t){t.writeTypeRef(xn)}}const Po=(t,e)=>t===e||"object"==typeof t&&"object"==typeof e&&t&&e&&Ct(t,e);class Bo{constructor(t,e,o,n){this.left=t,this.right=e,this.index=o,this.currentAttributes=n}forward(){switch(null===this.right&&At(),this.right.content.constructor){case un:case fn:this.right.deleted||(this.index+=this.right.length);break;case pn:this.right.deleted||Yo(this.currentAttributes,this.right.content)}this.left=this.right,this.right=this.right.right}}const Vo=(t,e,o)=>{for(;null!==e.right&&o>0;){switch(e.right.content.constructor){case un:case fn:e.right.deleted||(o<e.right.length&&Ye(t,Me(e.right.id.client,e.right.id.clock+o)),e.index+=e.right.length,o-=e.right.length);break;case pn:e.right.deleted||Yo(e.currentAttributes,e.right.content)}e.left=e.right,e.right=e.right.right}return e},Qo=(t,e,o)=>{const n=new Map,i=fo(e,o);if(i){const e=new Bo(i.p.left,i.p,i.index,n);return Vo(t,e,o-i.index)}{const i=new Bo(null,e._start,0,n);return Vo(t,i,o)}},Fo=(t,e,o,n)=>{for(;null!==o.right&&(!0===o.right.deleted||o.right.content.constructor===pn&&Po(n.get(o.right.content.key),o.right.content.value));)o.right.deleted||n.delete(o.right.content.key),o.forward();const i=t.doc,r=i.clientID;n.forEach(((n,s)=>{const a=o.left,c=o.right,l=new En(Me(r,Pe(i.store,r)),a,a&&a.lastId,c,c&&c.id,e,null,new pn(s,n));l.integrate(t,0),o.right=l,o.forward()}))},Yo=(t,e)=>{const{key:o,value:n}=e;null===n?t.delete(o):t.set(o,n)},Go=(t,e)=>{for(;null!==t.right&&(t.right.deleted||t.right.content.constructor===pn&&Po(e[t.right.content.key]||null,t.right.content.value));)t.forward()},Wo=(t,e,o,n)=>{const i=t.doc,r=i.clientID,s=new Map;for(const a in n){const c=n[a],l=o.currentAttributes.get(a)||null;if(!Po(l,c)){s.set(a,l);const{left:n,right:d}=o;o.right=new En(Me(r,Pe(i.store,r)),n,n&&n.lastId,d,d&&d.id,e,null,new pn(a,c)),o.right.integrate(t,0),o.forward()}}return s},Jo=(t,e,o,n,i)=>{o.currentAttributes.forEach(((t,e)=>{void 0===i[e]&&(i[e]=null)}));const r=t.doc,s=r.clientID;Go(o,i);const a=Wo(t,e,o,i),c=n.constructor===String?new fn(n):new un(n);let{left:l,right:d,index:h}=o;e._searchMarker&&bo(e._searchMarker,o.index,c.getLength()),d=new En(Me(s,Pe(r.store,s)),l,l&&l.lastId,d,d&&d.id,e,null,c),d.integrate(t,0),o.right=d,o.index=h,o.forward(),Fo(t,e,o,a)},Zo=(t,e,o,n,i)=>{const r=t.doc,s=r.clientID;Go(o,i);const a=Wo(t,e,o,i);for(;n>0&&null!==o.right;){if(!o.right.deleted)switch(o.right.content.constructor){case pn:{const{key:e,value:n}=o.right.content,r=i[e];void 0!==r&&(Po(r,n)?a.delete(e):a.set(e,n),o.right.delete(t));break}case un:case fn:n<o.right.length&&Ye(t,Me(o.right.id.client,o.right.id.clock+n)),n-=o.right.length}o.forward()}if(n>0){let i="";for(;n>0;n--)i+="\n";o.right=new En(Me(s,Pe(r.store,s)),o.left,o.left&&o.left.lastId,o.right,o.right&&o.right.id,e,null,new fn(i)),o.right.integrate(t,0),o.forward()}Fo(t,e,o,a)},$o=(t,e,o,n,i)=>{for(;o&&o.content.constructor!==fn&&o.content.constructor!==un;)o.deleted||o.content.constructor!==pn||Yo(i,o.content),o=o.right;let r=0;for(;e!==o;){if(!e.deleted){const o=e.content;switch(o.constructor){case pn:{const{key:s,value:a}=o;(i.get(s)||null)===a&&(n.get(s)||null)!==a||(e.delete(t),r++);break}}}e=e.right}return r},Ho=(t,e,o)=>{const n=o,i=h(e.currentAttributes),r=e.right;for(;o>0&&null!==e.right;){if(!1===e.right.deleted)switch(e.right.content.constructor){case un:case fn:o<e.right.length&&Ye(t,Me(e.right.id.client,e.right.id.clock+o)),o-=e.right.length,e.right.delete(t)}e.forward()}r&&$o(t,r,e.right,i,h(e.currentAttributes));const s=(e.left||e.right).parent;return s._searchMarker&&bo(s._searchMarker,e.index,-n+o),e};class Xo extends ho{constructor(t,e,o){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,o.forEach((t=>{null===t?this.childListChanged=!0:this.keysChanged.add(t)}))}get changes(){if(null===this._changes){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(null===this._delta){const t=this.target.doc,e=[];Ke(t,(t=>{const o=new Map,n=new Map;let i=this.target._start,r=null;const s={};let a="",c=0,l=0;const d=()=>{if(null!==r){let t;switch(r){case"delete":t={delete:l},l=0;break;case"insert":t={insert:a},o.size>0&&(t.attributes={},o.forEach(((e,o)=>{null!==e&&(t.attributes[o]=e)}))),a="";break;case"retain":if(t={retain:c},Object.keys(s).length>0){t.attributes={};for(const e in s)t.attributes[e]=s[e]}c=0}e.push(t),r=null}};for(;null!==i;){switch(i.content.constructor){case un:this.adds(i)?this.deletes(i)||(d(),r="insert",a=i.content.embed,d()):this.deletes(i)?("delete"!==r&&(d(),r="delete"),l+=1):i.deleted||("retain"!==r&&(d(),r="retain"),c+=1);break;case fn:this.adds(i)?this.deletes(i)||("insert"!==r&&(d(),r="insert"),a+=i.content.str):this.deletes(i)?("delete"!==r&&(d(),r="delete"),l+=i.length):i.deleted||("retain"!==r&&(d(),r="retain"),c+=i.length);break;case pn:{const{key:e,value:a}=i.content;if(this.adds(i)){if(!this.deletes(i)){const c=o.get(e)||null;Po(c,a)?i.delete(t):("retain"===r&&d(),Po(a,n.get(e)||null)?delete s[e]:s[e]=a)}}else if(this.deletes(i)){n.set(e,a);const t=o.get(e)||null;Po(t,a)||("retain"===r&&d(),s[e]=t)}else if(!i.deleted){n.set(e,a);const o=s[e];void 0!==o&&(Po(o,a)?i.delete(t):("retain"===r&&d(),null===a?s[e]=a:delete s[e]))}i.deleted||("insert"===r&&d(),Yo(o,i.content));break}}i=i.right}for(d();e.length>0;){const t=e[e.length-1];if(void 0===t.retain||void 0!==t.attributes)break;e.pop()}})),this._delta=e}return this._delta}}class Ko extends xo{constructor(t){super(),this._pending=void 0!==t?[()=>this.insert(0,t)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach((t=>t()))}catch(rr){console.error(rr)}this._pending=null}_copy(){return new Ko}clone(){const t=new Ko;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);const o=new Xo(this,t,e),n=t.doc;if(wo(this,t,o),!t.local){let e=!1;for(const[o,i]of t.afterState.entries()){const r=t.beforeState.get(o)||0;if(i!==r&&(We(t,n.store.clients.get(o),r,i,(t=>{t.deleted||t.content.constructor!==pn||(e=!0)})),e))break}e||Zt(t,t.deleteSet,(t=>{t instanceof cn||e||t.parent===this&&t.content.constructor===pn&&(e=!0)})),Ke(n,(t=>{e?(t=>{let e=0;Ke(t.doc,(o=>{let n=t._start,i=t._start,r=d();const s=h(r);for(;i;){if(!1===i.deleted)switch(i.content.constructor){case pn:Yo(s,i.content);break;case un:case fn:e+=$o(o,n,i,r,s),r=h(s),n=i}i=i.right}}))})(this):Zt(t,t.deleteSet,(e=>{e instanceof cn||e.parent===this&&((t,e)=>{for(;e&&e.right&&(e.right.deleted||e.right.content.constructor!==fn&&e.right.content.constructor!==un);)e=e.right;const o=new Set;for(;e&&(e.deleted||e.content.constructor!==fn&&e.content.constructor!==un);){if(!e.deleted&&e.content.constructor===pn){const n=e.content.key;o.has(n)?e.delete(t):o.add(n)}e=e.left}})(t,e)}))}))}}toString(){let t="",e=this._start;for(;null!==e;)!e.deleted&&e.countable&&e.content.constructor===fn&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:e=!0}={}){null!==this.doc?Ke(this.doc,(o=>{const n=new Bo(null,this._start,0,new Map);for(let i=0;i<t.length;i++){const r=t[i];if(void 0!==r.insert){const s=e||"string"!=typeof r.insert||i!==t.length-1||null!==n.right||"\n"!==r.insert.slice(-1)?r.insert:r.insert.slice(0,-1);("string"!=typeof s||s.length>0)&&Jo(o,this,n,s,r.attributes||{})}else void 0!==r.retain?Zo(o,this,n,r.retain,r.attributes||{}):void 0!==r.delete&&Ho(o,n,r.delete)}})):this._pending.push((()=>this.applyDelta(t)))}toDelta(t,e,o){const n=[],i=new Map,r=this.doc;let s="",a=this._start;function c(){if(s.length>0){const t={};let e=!1;i.forEach(((o,n)=>{e=!0,t[n]=o}));const o={insert:s};e&&(o.attributes=t),n.push(o),s=""}}return Ke(r,(r=>{for(t&&Re(r,t),e&&Re(r,e);null!==a;){if(Te(a,t)||void 0!==e&&Te(a,e))switch(a.content.constructor){case fn:{const n=i.get("ychange");void 0===t||Te(a,t)?void 0===e||Te(a,e)?void 0!==n&&(c(),i.delete("ychange")):void 0!==n&&n.user===a.id.client&&"added"===n.state||(c(),i.set("ychange",o?o("added",a.id):{type:"added"})):void 0!==n&&n.user===a.id.client&&"removed"===n.state||(c(),i.set("ychange",o?o("removed",a.id):{type:"removed"})),s+=a.content.str;break}case un:{c();const t={insert:a.content.embed};if(i.size>0){const e={};t.attributes=e,i.forEach(((t,o)=>{e[o]=t}))}n.push(t);break}case pn:Te(a,t)&&(c(),Yo(i,a.content))}a=a.right}c()}),Re),n}insert(t,e,o){if(e.length<=0)return;const n=this.doc;null!==n?Ke(n,(n=>{const i=Qo(n,this,t);o||(o={},i.currentAttributes.forEach(((t,e)=>{o[e]=t}))),Jo(n,this,i,e,o)})):this._pending.push((()=>this.insert(t,e,o)))}insertEmbed(t,e,o={}){if(e.constructor!==Object)throw new Error("Embed must be an Object");const n=this.doc;null!==n?Ke(n,(n=>{const i=Qo(n,this,t);Jo(n,this,i,e,o)})):this._pending.push((()=>this.insertEmbed(t,e,o)))}delete(t,e){if(0===e)return;const o=this.doc;null!==o?Ke(o,(o=>{Ho(o,Qo(o,this,t),e)})):this._pending.push((()=>this.delete(t,e)))}format(t,e,o){if(0===e)return;const n=this.doc;null!==n?Ke(n,(n=>{const i=Qo(n,this,t);null!==i.right&&Zo(n,this,i,e,o)})):this._pending.push((()=>this.format(t,e,o)))}removeAttribute(t){null!==this.doc?Ke(this.doc,(e=>{So(e,this,t)})):this._pending.push((()=>this.removeAttribute(t)))}setAttribute(t,e){null!==this.doc?Ke(this.doc,(o=>{Io(o,this,t,e)})):this._pending.push((()=>this.setAttribute(t,e)))}getAttribute(t){return zo(this,t)}getAttributes(t){return jo(this)}_write(t){t.writeTypeRef(yn)}}class tn{constructor(t,e=(()=>!0)){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(null!==t&&(!this._firstCall||t.deleted||!this._filter(e)))do{if(e=t.content.type,t.deleted||e.constructor!==on&&e.constructor!==en||null===e._start)for(;null!==t;){if(null!==t.right){t=t.right;break}t=t.parent===this._root?null:t.parent._item}else t=e._start}while(null!==t&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,null===t?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class en extends xo{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new en}clone(){const t=new en;return t.insert(0,this.toArray().map((t=>t instanceof xo?t.clone():t))),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(t){return new tn(this,t)}querySelector(t){t=t.toUpperCase();const e=new tn(this,(e=>e.nodeName&&e.nodeName.toUpperCase()===t)).next();return e.done?null:e.value}querySelectorAll(t){return t=t.toUpperCase(),Array.from(new tn(this,(e=>e.nodeName&&e.nodeName.toUpperCase()===t)))}_callObserver(t,e){wo(this,t,new nn(this,e,t))}toString(){return Ao(this,(t=>t.toString())).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},o){const n=t.createDocumentFragment();return void 0!==o&&o._createAssociation(n,this),ko(this,(i=>{n.insertBefore(i.toDOM(t,e,o),null)})),n}insert(t,e){null!==this.doc?Ke(this.doc,(o=>{Eo(o,this,t,e)})):this._prelimContent.splice(t,0,...e)}insertAfter(t,e){if(null!==this.doc)Ke(this.doc,(o=>{const n=t&&t instanceof xo?t._item:t;Co(o,this,n,e)}));else{const o=this._prelimContent,n=null===t?0:o.findIndex((e=>e===t))+1;if(0===n&&null!==t)throw vt("Reference item not found");o.splice(n,0,...e)}}delete(t,e=1){null!==this.doc?Ke(this.doc,(o=>{No(o,this,t,e)})):this._prelimContent.splice(t,e)}toArray(){return vo(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Mo(this,t)}slice(t=0,e=this.length){return yo(this,t,e)}_write(t){t.writeTypeRef(kn)}}class on extends en{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach(((t,e)=>{this.setAttribute(e,t)})),this._prelimAttrs=null}_copy(){return new on(this.nodeName)}clone(){const t=new on(this.nodeName),e=this.getAttributes();for(const o in e)t.setAttribute(o,e[o]);return t.insert(0,this.toArray().map((t=>t instanceof xo?t.clone():t))),t}toString(){const t=this.getAttributes(),e=[],o=[];for(const r in t)o.push(r);o.sort();const n=o.length;for(let r=0;r<n;r++){const n=o[r];e.push(n+'="'+t[n]+'"')}const i=this.nodeName.toLocaleLowerCase();return`<${i}${e.length>0?" "+e.join(" "):""}>${super.toString()}</${i}>`}removeAttribute(t){null!==this.doc?Ke(this.doc,(e=>{So(e,this,t)})):this._prelimAttrs.delete(t)}setAttribute(t,e){null!==this.doc?Ke(this.doc,(o=>{Io(o,this,t,e)})):this._prelimAttrs.set(t,e)}getAttribute(t){return zo(this,t)}hasAttribute(t){return Oo(this,t)}getAttributes(t){return jo(this)}toDOM(t=document,e={},o){const n=t.createElement(this.nodeName),i=this.getAttributes();for(const r in i)n.setAttribute(r,i[r]);return ko(this,(i=>{n.appendChild(i.toDOM(t,e,o))})),void 0!==o&&o._createAssociation(n,this),n}_write(t){t.writeTypeRef(vn),t.writeKey(this.nodeName)}}class nn extends ho{constructor(t,e,o){super(t,o),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach((t=>{null===t?this.childListChanged=!0:this.attributesChanged.add(t)}))}}class rn extends Uo{constructor(t){super(),this.hookName=t}_copy(){return new rn(this.hookName)}clone(){const t=new rn(this.hookName);return this.forEach(((e,o)=>{t.set(o,e)})),t}toDOM(t=document,e={},o){const n=e[this.hookName];let i;return i=void 0!==n?n.createDom(this):document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),void 0!==o&&o._createAssociation(i,this),i}_write(t){t.writeTypeRef(An),t.writeKey(this.hookName)}}class sn extends Ko{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new sn}clone(){const t=new sn;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,o){const n=t.createTextNode(this.toString());return void 0!==o&&o._createAssociation(n,this),n}toString(){return this.toDelta().map((t=>{const e=[];for(const n in t.attributes){const o=[];for(const e in t.attributes[n])o.push({key:e,value:t.attributes[n][e]});o.sort(((t,e)=>t.key<e.key?-1:1)),e.push({nodeName:n,attrs:o})}e.sort(((t,e)=>t.nodeName<e.nodeName?-1:1));let o="";for(let n=0;n<e.length;n++){const t=e[n];o+=`<${t.nodeName}`;for(let e=0;e<t.attrs.length;e++){const n=t.attrs[e];o+=` ${n.key}="${n.value}"`}o+=">"}o+=t.insert;for(let n=e.length-1;n>=0;n--)o+=`</${e[n].nodeName}>`;return o})).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(Dn)}}class an{constructor(t,e){this.id=t,this.length=e}get deleted(){throw kt()}mergeWith(t){return!1}write(t,e,o){throw kt()}integrate(t,e){throw kt()}}class cn extends an{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){e>0&&(this.id.clock+=e,this.length-=e),Be(t.doc.store,this)}write(t,e){t.writeInfo(0),t.writeLen(this.length-e)}getMissing(t,e){return null}}class ln{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new ln(this.content)}splice(t){throw kt()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}class dn{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new dn(this.len)}splice(t){const e=new dn(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){Kt(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}class hn{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),null!==t.meta&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new hn(this.doc)}splice(t){throw kt()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}class un{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new un(this.embed)}splice(t){throw kt()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}class pn{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new pn(this.key,this.value)}splice(t){throw kt()}mergeWith(t){return!1}integrate(t,e){e.parent._searchMarker=null}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}class gn{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new gn(this.arr)}splice(t){const e=new gn(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const o=this.arr.length;t.writeLen(o-e);for(let n=e;n<o;n++){const e=this.arr[n];t.writeString(void 0===e?"undefined":JSON.stringify(e))}}getRef(){return 2}}class mn{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new mn(this.arr)}splice(t){const e=new mn(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const o=this.arr.length;t.writeLen(o-e);for(let n=e;n<o;n++){const e=this.arr[n];t.writeAny(e)}}getRef(){return 8}}class fn{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new fn(this.str)}splice(t){const e=new fn(this.str.slice(t));this.str=this.str.slice(0,t);const o=this.str.charCodeAt(t-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,t-1)+"�",e.str="�"+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(0===e?this.str:this.str.slice(e))}getRef(){return 4}}const bn=[t=>new Ro,t=>new Uo,t=>new Ko,t=>new on(t.readKey()),t=>new en,t=>new rn(t.readKey()),t=>new sn],wn=0,xn=1,yn=2,vn=3,kn=4,An=5,Dn=6;class Mn{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Mn(this.type._copy())}splice(t){throw kt()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;null!==e;)e.deleted?t._mergeStructs.push(e):e.delete(t),e=e.right;this.type._map.forEach((e=>{e.deleted?t._mergeStructs.push(e):e.delete(t)})),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;null!==e;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach((e=>{for(;null!==e;)e.gc(t,!0),e=e.left})),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const Cn=(t,e)=>{let o,n=e,i=0;do{i>0&&(n=Me(n.client,n.clock+i)),o=Qe(t,n),i=n.clock-o.id.clock,n=o.redone}while(null!==n&&o instanceof En);return{item:o,diff:i}},_n=(t,e,o)=>{const{client:n,clock:i}=e.id,r=new En(Me(n,i+o),e,Me(n,i+o-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(o));return e.deleted&&r.markDeleted(),e.keep&&(r.keep=!0),null!==e.redone&&(r.redone=Me(e.redone.client,e.redone.clock+o)),e.right=r,null!==r.right&&(r.right.left=r),t._mergeStructs.push(r),null!==r.parentSub&&null===r.right&&r.parent._map.set(r.parentSub,r),e.length=o,r};class En extends an{constructor(t,e,o,n,i,r,s,a){super(t,a.getLength()),this.origin=o,this.left=e,this.right=n,this.rightOrigin=i,this.parent=r,this.parentSub=s,this.redone=null,this.content=a,this.info=this.content.isCountable()?2:0}set marker(t){(8&this.info)>0!==t&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(t){this.keep!==t&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(t){this.deleted!==t&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(t,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Pe(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Pe(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ae&&this.id.client!==this.parent.client&&this.parent.clock>=Pe(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Ge(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ye(t,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===cn||this.right&&this.right.constructor===cn)&&(this.parent=null),this.parent){if(this.parent.constructor===Ae){const t=Qe(e,this.parent);t.constructor===cn?this.parent=null:this.parent=t.content.type}}else this.left&&this.left.constructor===En&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===En&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(t,e){if(e>0&&(this.id.clock+=e,this.left=Ge(t,t.doc.store,Me(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let e,o=this.left;if(null!==o)e=o.right;else if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start;const n=new Set,i=new Set;for(;null!==e&&e!==this.right;){if(i.add(e),n.add(e),De(this.origin,e.origin)){if(e.id.client<this.id.client)o=e,n.clear();else if(De(this.rightOrigin,e.rightOrigin))break}else{if(null===e.origin||!i.has(Qe(t.doc.store,e.origin)))break;n.has(Qe(t.doc.store,e.origin))||(o=e,n.clear())}e=e.right}this.left=o}if(null!==this.left){const t=this.left.right;this.right=t,this.left.right=this}else{let t;if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start,this.parent._start=this;this.right=t}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(t)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Be(t.doc.store,this),this.content.integrate(t,this),$e(t,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(t)}else new cn(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;null!==t&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;null!==t&&t.deleted;)t=t.left;return t}get lastId(){return 1===this.length?this.id:Me(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&De(t.origin,this.lastId)&&this.right===t&&De(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&null===this.redone&&null===t.redone&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const e=this.parent._searchMarker;return e&&e.forEach((e=>{e.p===t&&(e.p=this,!this.deleted&&this.countable&&(e.index-=this.length))})),t.keep&&(this.keep=!0),this.right=t.right,null!==this.right&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const e=this.parent;this.countable&&null===this.parentSub&&(e._length-=this.length),this.markDeleted(),Kt(t.deleteSet,this.id.client,this.id.clock,this.length),$e(t,e,this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw At();this.content.gc(t),e?((t,e,o)=>{const n=t.clients.get(e.id.client);n[Ve(n,e.id.clock)]=o})(t,this,new cn(this.id,this.length)):this.content=new dn(this.length)}write(t,e){const o=e>0?Me(this.id.client,this.id.clock+e-1):this.origin,n=this.rightOrigin,i=this.parentSub,r=31&this.content.getRef()|(null===o?0:128)|(null===n?0:64)|(null===i?0:32);if(t.writeInfo(r),null!==o&&t.writeLeftID(o),null!==n&&t.writeRightID(n),null===o&&null===n){const e=this.parent;if(void 0!==e._item){const o=e._item;if(null===o){const o=Ce(e);t.writeParentInfo(!0),t.writeString(o)}else t.writeParentInfo(!1),t.writeLeftID(o.id)}else e.constructor===String?(t.writeParentInfo(!0),t.writeString(e)):e.constructor===Ae?(t.writeParentInfo(!1),t.writeLeftID(e)):At();null!==i&&t.writeString(i)}this.content.write(t,e)}}const Nn=(t,e)=>Sn[31&e](t),Sn=[()=>{At()},t=>new dn(t.readLen()),t=>{const e=t.readLen(),o=[];for(let n=0;n<e;n++){const e=t.readString();"undefined"===e?o.push(void 0):o.push(JSON.parse(e))}return new gn(o)},t=>new ln(t.readBuf()),t=>new fn(t.readString()),t=>new un(t.readJSON()),t=>new pn(t.readString(),t.readJSON()),t=>new Mn(bn[t.readTypeRef()](t)),t=>{const e=t.readLen(),o=[];for(let n=0;n<e;n++)o.push(t.readAny());return new mn(o)},t=>new hn(new re(r({guid:t.readString()},t.readAny()))),()=>{At()}];class In extends an{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){At()}write(t,e){t.writeInfo(10),ot(t.restEncoder,this.length-e)}getMissing(t,e){return null}}const zn="function"==typeof atob,jn="function"==typeof btoa,On="function"==typeof Buffer,Ln="function"==typeof TextDecoder?new TextDecoder:void 0,Tn="function"==typeof TextEncoder?new TextEncoder:void 0,Rn=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),qn=(t=>{let e={};return Rn.forEach(((t,o)=>e[t]=o)),e})(),Un=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Pn=String.fromCharCode.bind(String),Bn="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),Vn=t=>t.replace(/[+\/]/g,(t=>"+"==t?"-":"_")).replace(/=+$/m,""),Qn=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),Fn=jn?t=>btoa(t):On?t=>Buffer.from(t,"binary").toString("base64"):t=>{let e,o,n,i,r="";const s=t.length%3;for(let a=0;a<t.length;){if((o=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=o<<16|n<<8|i,r+=Rn[e>>18&63]+Rn[e>>12&63]+Rn[e>>6&63]+Rn[63&e]}return s?r.slice(0,s-3)+"===".substring(s):r},Yn=On?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let o=0,n=t.length;o<n;o+=4096)e.push(Pn.apply(null,t.subarray(o,o+4096)));return Fn(e.join(""))},Gn=(t,e=!1)=>e?Vn(Yn(t)):Yn(t),Wn=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?Pn(192|e>>>6)+Pn(128|63&e):Pn(224|e>>>12&15)+Pn(128|e>>>6&63)+Pn(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return Pn(240|e>>>18&7)+Pn(128|e>>>12&63)+Pn(128|e>>>6&63)+Pn(128|63&e)},Jn=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Zn=On?t=>Buffer.from(t,"utf8").toString("base64"):Tn?t=>Yn(Tn.encode(t)):t=>Fn(t.replace(Jn,Wn)),$n=(t,e=!1)=>e?Vn(Zn(t)):Zn(t),Hn=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Xn=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return Pn(55296+(e>>>10))+Pn(56320+(1023&e));case 3:return Pn((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Pn((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Kn=zn?t=>atob(Qn(t)):On?t=>Buffer.from(t,"base64").toString("binary"):t=>{if(t=t.replace(/\s+/g,""),!Un.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,o,n,i="";for(let r=0;r<t.length;)e=qn[t.charAt(r++)]<<18|qn[t.charAt(r++)]<<12|(o=qn[t.charAt(r++)])<<6|(n=qn[t.charAt(r++)]),i+=64===o?Pn(e>>16&255):64===n?Pn(e>>16&255,e>>8&255):Pn(e>>16&255,e>>8&255,255&e);return i},ti=On?t=>Bn(Buffer.from(t,"base64")):t=>Bn(Kn(t),(t=>t.charCodeAt(0))),ei=t=>ti(ni(t)),oi=On?t=>Buffer.from(t,"base64").toString("utf8"):Ln?t=>Ln.decode(ti(t)):t=>Kn(t).replace(Hn,Xn),ni=t=>Qn(t.replace(/[-_]/g,(t=>"-"==t?"+":"/"))),ii=t=>oi(ni(t));class ri{constructor(t,e,o,n){this.context=t,this.attrs=e,this.doc=o,this.yText=n,this.isDocDestroyed=!1,this.sideEffect=new s,this.textAttr=e.text,this.textAttr&&ge(this.doc,ei(this.textAttr),this),this.sideEffect.add((()=>t.mobxUtils.autorun((()=>{this.textAttr=e.text})))),this.setupYDocPersistence()}destroy(){this.sideEffect.flushAll()}setupYDocPersistence(){const t=()=>{this.sideEffect.setTimeout((()=>{const t=Gn(fe(this.doc));t!==this.textAttr&&this.context.updateAttributes(["text"],t)}),1e3,"setAttrs")};this.sideEffect.add((()=>{const t=()=>{this.isDocDestroyed=!0};return this.doc.on("destroy",t),()=>this.doc.off("destroy",t)})),this.sideEffect.add((()=>{const e=(e,o)=>{this.isDocDestroyed||"_remote_edit_"===o||t()};return this.doc.on("update",e),()=>this.doc.off("update",e)}))}}function si(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function ai(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function ci(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ai(Object(o),!0).forEach((function(e){si(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ai(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function li(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function di(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function hi(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function ui(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?hi(Object(o),!0).forEach((function(e){di(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):hi(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function pi(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return function(t){return e.reduceRight((function(t,e){return e(t)}),t)}}function gi(t){return function e(){for(var o=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.length>=t.length?t.apply(this,i):function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(o,[].concat(i,n))}}}function mi(t){return{}.toString.call(t).includes("Object")}function fi(t){return"function"==typeof t}var bi=gi((function(t,e){throw new Error(t[e]||t.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),wi={changes:function(t,e){return mi(e)||bi("changeType"),Object.keys(e).some((function(e){return o=t,n=e,!Object.prototype.hasOwnProperty.call(o,n);var o,n}))&&bi("changeField"),e},selector:function(t){fi(t)||bi("selectorType")},handler:function(t){fi(t)||mi(t)||bi("handlerType"),mi(t)&&Object.values(t).some((function(t){return!fi(t)}))&&bi("handlersType")},initial:function(t){var e;t||bi("initialIsRequired"),mi(t)||bi("initialType"),e=t,Object.keys(e).length||bi("initialContent")}};function xi(t,e){return fi(e)?e(t.current):e}function yi(t,e){return t.current=ui(ui({},t.current),e),e}function vi(t,e,o){return fi(e)?e(t.current):Object.keys(o).forEach((function(o){var n;return null===(n=e[o])||void 0===n?void 0:n.call(e,t.current[o])})),o}var ki={create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wi.initial(t),wi.handler(e);var o={current:t},n=gi(vi)(o,e),i=gi(yi)(o),r=gi(wi.changes)(t),s=gi(xi)(o);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return wi.selector(t),t(o.current)}function c(t){pi(n,i,r,s)(t)}return[a,c]}};var Ai,Di={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},Mi=(Ai=function(t,e){throw new Error(t[e]||t.default)},function t(){for(var e=this,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return n.length>=Ai.length?Ai.apply(this,n):function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t.apply(e,[].concat(n,i))}})(Di),Ci={config:function(t){var e;return t||Mi("configIsRequired"),e=t,{}.toString.call(e).includes("Object")||Mi("configType"),t.urls?(console.warn(Di.deprecation),{paths:{vs:t.urls.monacoBase}}):t}};function _i(t,e){return Object.keys(e).forEach((function(o){e[o]instanceof Object&&t[o]&&Object.assign(e[o],_i(t[o],e[o]))})),ci(ci({},t),e)}var Ei={type:"cancelation",msg:"operation is manually canceled"};function Ni(t){var e=!1,o=new Promise((function(o,n){t.then((function(t){return e?n(Ei):o(t)})),t.catch(n)}));return o.cancel=function(){return e=!0},o}var Si,Ii,zi=ki.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.25.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),ji=(Ii=2,function(t){if(Array.isArray(t))return t}(Si=zi)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var o=[],n=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);n=!0);}catch(c){i=!0,r=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return o}}(Si,Ii)||function(t,e){if(t){if("string"==typeof t)return li(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?li(t,e):void 0}}(Si,Ii)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Oi=ji[0],Li=ji[1];function Ti(t){return document.body.appendChild(t)}function Ri(t){var e,o,n=Oi((function(t){return{config:t.config,reject:t.reject}})),i=(e="".concat(n.config.paths.vs,"/loader.js"),o=document.createElement("script"),e&&(o.src=e),o);return i.onload=function(){return t()},i.onerror=n.reject,i}function qi(){var t=Oi((function(t){return{config:t.config,resolve:t.resolve,reject:t.reject}})),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],(function(e){Ui(e),t.resolve(e)}),(function(e){t.reject(e)}))}function Ui(t){Oi().monaco||Li({monaco:t})}var Pi=new Promise((function(t,e){return Li({resolve:t,reject:e})})),Bi={config:function(t){Li((function(e){return{config:_i(e.config,Ci.config(t))}}))},init:function(){if(!Oi((function(t){return{isInitialized:t.isInitialized}})).isInitialized){if(window.monaco&&window.monaco.editor)return Ui(window.monaco),Ni(Promise.resolve(window.monaco));!function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return function(t){return e.reduceRight((function(t,e){return e(t)}),t)}}(Ti,Ri)(qi),Li({isInitialized:!0})}return Ni(Pi)},__getMonacoInstance:function(){return Oi((function(t){return t.monaco}))}};var Vi,Qi,Fi,Yi={exports:{}};Vi=Yi,Qi=Yi.exports,Fi=function(){var t=null,e={};m();var o=[],n=function(e){if(void 0!==(e=e||{}).seed&&null!==e.seed&&e.seed===parseInt(e.seed,10))t=e.seed;else if("string"==typeof e.seed)t=x(e.seed);else{if(void 0!==e.seed&&null!==e.seed)throw new TypeError("The seed value must be an integer or string");t=null}var c,l;if(null!==e.count&&void 0!==e.count){for(var d=e.count,h=[],u=0;u<e.count;u++)o.push(!1);for(e.count=null;d>h.length;){var p=n(e);null!==t&&(e.seed=t),h.push(p)}return e.count=d,h}return a([c=i(e),l=r(c,e),s(c,l,e)],e)};function i(t){if(o.length>0){var e=u(r=y(t.hue)),n=(r[1]-r[0])/o.length,i=parseInt((e-r[0])/n);return!0===o[i]?i=(i+2)%o.length:o[i]=!0,(e=u(r=[(r[0]+i*n)%359,(r[0]+(i+1)*n)%359]))<0&&(e=360+e),e}var r;return(e=u(r=l(t.hue)))<0&&(e=360+e),e}function r(t,e){if("monochrome"===e.hue)return 0;if("random"===e.luminosity)return u([0,100]);var o=d(t),n=o[0],i=o[1];switch(e.luminosity){case"bright":n=55;break;case"dark":n=i-10;break;case"light":i=55}return u([n,i])}function s(t,e,o){var n=c(t,e),i=100;switch(o.luminosity){case"dark":i=n+20;break;case"light":n=(i+n)/2;break;case"random":n=0,i=100}return u([n,i])}function a(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return w(t);case"hsl":var o=w(t);return"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)";case"hsla":var n=w(t),i=e.alpha||Math.random();return"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+i+")";case"rgbArray":return f(t);case"rgb":return"rgb("+f(t).join(", ")+")";case"rgba":var r=f(t);return i=e.alpha||Math.random(),"rgba("+r.join(", ")+", "+i+")";default:return p(t)}}function c(t,e){for(var o=h(t).lowerBounds,n=0;n<o.length-1;n++){var i=o[n][0],r=o[n][1],s=o[n+1][0],a=o[n+1][1];if(e>=i&&e<=s){var c=(a-r)/(s-i);return c*e+(r-c*i)}}return 0}function l(t){if("number"==typeof parseInt(t)){var o=parseInt(t);if(o<360&&o>0)return[o,o]}if("string"==typeof t)if(e[t]){var n=e[t];if(n.hueRange)return n.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=b(t)[0];return[i,i]}return[0,360]}function d(t){return h(t).saturationRange}function h(t){for(var o in t>=334&&t<=360&&(t-=360),e){var n=e[o];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return e[o]}return"Color not found"}function u(e){if(null===t){var o=.618033988749895,n=Math.random();return n+=o,n%=1,Math.floor(e[0]+n*(e[1]+1-e[0]))}var i=e[1]||1,r=e[0]||0,s=(t=(9301*t+49297)%233280)/233280;return Math.floor(r+s*(i-r))}function p(t){var e=f(t);function o(t){var e=t.toString(16);return 1==e.length?"0"+e:e}return"#"+o(e[0])+o(e[1])+o(e[2])}function g(t,o,n){var i=n[0][0],r=n[n.length-1][0],s=n[n.length-1][1],a=n[0][1];e[t]={hueRange:o,lowerBounds:n,saturationRange:[i,r],brightnessRange:[s,a]}}function m(){g("monochrome",null,[[0,0],[100,0]]),g("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),g("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),g("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),g("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),g("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),g("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),g("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function f(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var o=t[1]/100,n=t[2]/100,i=Math.floor(6*e),r=6*e-i,s=n*(1-o),a=n*(1-r*o),c=n*(1-(1-r)*o),l=256,d=256,h=256;switch(i){case 0:l=n,d=c,h=s;break;case 1:l=a,d=n,h=s;break;case 2:l=s,d=n,h=c;break;case 3:l=s,d=a,h=n;break;case 4:l=c,d=s,h=n;break;case 5:l=n,d=s,h=a}return[Math.floor(255*l),Math.floor(255*d),Math.floor(255*h)]}function b(t){t=3===(t=t.replace(/^#/,"")).length?t.replace(/(.)/g,"$1$1"):t;var e=parseInt(t.substr(0,2),16)/255,o=parseInt(t.substr(2,2),16)/255,n=parseInt(t.substr(4,2),16)/255,i=Math.max(e,o,n),r=i-Math.min(e,o,n),s=i?r/i:0;switch(i){case e:return[(o-n)/r%6*60||0,s,i];case o:return[60*((n-e)/r+2)||0,s,i];case n:return[60*((e-o)/r+4)||0,s,i]}}function w(t){var e=t[0],o=t[1]/100,n=t[2]/100,i=(2-o)*n;return[e,Math.round(o*n/(i<1?i:2-i)*1e4)/100,i/2*100]}function x(t){for(var e=0,o=0;o!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);o++)e+=t.charCodeAt(o);return e}function y(t){if(isNaN(t)){if("string"==typeof t)if(e[t]){var o=e[t];if(o.hueRange)return o.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return h(b(t)[0]).hueRange}else{var n=parseInt(t);if(n<360&&n>0)return h(t).hueRange}return[0,360]}return n}(),Vi&&Vi.exports&&(Qi=Vi.exports=Fi),Qi.randomColor=Fi;var Gi=Yi.exports;class Wi{constructor(){this.style=document.createElement("style"),document.body.appendChild(this.style)}addRule(t){try{const e=this.style.sheet;if(e){const o=e.insertRule(t);return e.cssRules.item(o)}}catch{return null}return null}deleteRule(t){try{const e=this.style.sheet;if(e)for(let o=0;o<e.cssRules.length;o++)if(t===e.cssRules.item(o)){e.deleteRule(o);break}}catch{return}}destroy(){this.style.remove()}}class Ji{constructor(t,e,o,n,i,r,s,a,c){this.doc=t,this.monaco=e,this.monacoEditor=o,this.monacoModel=n,this.userID=i,this.userName=r,this.decorationID=s,this.cursorColor=a,this.styleManager=c,this.labelVisible=!1,this.hideLabelTimeout=NaN,this.cursorVisible=!1,this.hideCursorTimeout=NaN,this.lastLineNumber=-1,this.lastColumn=-1,this.cursorClassName=`netless-app-monaco-cursor-${this.decorationID}`}renderCursor(t,e){const o=t!==this.rawCursorSrc;if(o&&(this.rawCursorSrc=t,this.cursor=void 0,t))try{this.cursor=JSON.parse(t)}catch(rr){console.warn(rr)}if(this.cursor)try{const t=ze(Ee(this.cursor),this.doc);if(t){const n=this.monacoModel.getPositionAt(t.index);let i=`netless-app-monaco-cursor ${this.cursorClassName}`;return n.lineNumber<=1&&(i+=" netless-app-monaco-cursor-first-line"),this.monacoEditor.getLayoutInfo().width-this.monacoEditor.getOffsetForColumn(n.lineNumber,n.column)<200&&(i+=" netless-app-monaco-cursor-right"),(o||e===this.userID&&(n.lineNumber!==this.lastLineNumber||n.column!==this.lastColumn))&&(this.setCursorVisible(!0),this.setLabelVisible(!0),this.lastLineNumber=n.lineNumber,this.lastColumn=n.column),{range:new this.monaco.Range(n.lineNumber,n.column,n.lineNumber,n.column+1),options:{className:i,hoverMessage:{value:this.userName}}}}}catch(rr){console.warn(rr)}this.clearCursor()}setLabelVisible(t){window.clearTimeout(this.hideLabelTimeout),t?this.styleRule&&(this.labelVisible||(this.styleRule.style.setProperty("--label","block"),this.styleRule.style.setProperty("--dot","none"),this.labelVisible=!0),this.hideLabelTimeout=setTimeout((()=>this.setLabelVisible(!1)),3e3)):this.styleRule&&this.labelVisible&&(this.styleRule.style.setProperty("--label","none"),this.styleRule.style.setProperty("--dot","block"),this.labelVisible=!1)}setCursorVisible(t){window.clearTimeout(this.hideCursorTimeout),t?this.styleRule&&(this.cursorVisible||(this.styleRule.style.setProperty("display","block"),this.cursorVisible=!0),this.hideCursorTimeout=setTimeout((()=>this.setCursorVisible(!1)),8e3)):this.styleRule&&this.cursorVisible&&(this.styleRule.style.setProperty("display","none"),this.cursorVisible=!1)}clearCursor(){window.clearTimeout(this.hideCursorTimeout),window.clearTimeout(this.hideLabelTimeout)}destroy(){this.clearCursor(),this._styleRuleMemo&&this.styleManager.deleteRule(this._styleRuleMemo)}get styleRule(){return this._styleRuleMemo||(this._styleRuleMemo=this.styleManager.addRule(`.${this.cursorClassName} { --content: "${this.userName}"; --bg-color: ${this.cursorColor}; }`)),this._styleRuleMemo}}const Zi=class{constructor(t,e,o,n,i,r,s,a){this.doc=t,this.monaco=e,this.monacoEditor=o,this.monacoModel=n,this.userID=i,this.userName=r,this.cursorColor=s,this.styleManager=a,this.cursorDecorations=[]}setCursors(t){this.rawCursorStrList=t}renderCursors(t){const e=this.rawCursorStrList||[],o=[];let n=0;for(;n<e.length;n++){this.cursorDecorations[n]||(this.cursorDecorations[n]=new Ji(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.genDecorationID(),this.cursorColor,this.styleManager));const i=this.cursorDecorations[n].renderCursor(e[n],t);i&&o.push(i)}if(n<this.cursorDecorations.length){for(let t=n;t<this.cursorDecorations.length;t++)this.cursorDecorations[t]&&this.cursorDecorations[t].clearCursor();this.cursorDecorations.length=n}return o}destroy(){this.cursorDecorations.forEach((t=>{t.destroy()})),this.cursorDecorations.length=0}genDecorationID(){return Zi._decorationID++}};let $i=Zi;$i._decorationID=0;class Hi{constructor(t,e,o,n,i,r,s){this.doc=t,this.monaco=e,this.monacoEditor=o,this.monacoModel=n,this.useID=i,this.selectionColor=r,this.styleManager=s,this.selectionDecorations=[],this.selectionClassName=`netless-app-monaco-selection-${this.useID}`,this.styleRule=this.styleManager.addRule(`.${this.selectionClassName} { background: ${r}; }`)}setSelections(t){if(t!==this.rawSelectionsStr&&(this.rawSelectionsStr=t,this.selections=void 0,this.rawSelectionsStr))try{const t=JSON.parse(this.rawSelectionsStr);Array.isArray(t)&&(this.selections=t)}catch(rr){console.warn(rr)}}renderSelections(){const t=[];return this.selections&&this.selections.forEach((e=>{if(e.start&&e.end){const o=ze(Ee(e.start),this.doc),n=ze(Ee(e.end),this.doc);if(o&&n){const e=this.monacoModel.getPositionAt(o.index),i=this.monacoModel.getPositionAt(n.index);t.push({range:new this.monaco.Range(e.lineNumber,e.column,i.lineNumber,i.column),options:{zIndex:-1,className:`netless-app-monaco-selection ${this.selectionClassName}`}})}}})),t}destroy(){this.styleRule&&this.styleManager.deleteRule(this.styleRule)}}class Xi{constructor(t,e,o,n,i,r){this.doc=t,this.monaco=e,this.monacoEditor=o,this.monacoModel=n,this.userID=i,this.userName=r,this.styleManager=new Wi,this.cursorColor=Gi({luminosity:"dark"}),this.selectionColor=Gi({hue:this.cursorColor,luminosity:"light"}),this.selectionDecorations=new Hi(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.selectionColor,this.styleManager),this.cursorDecorations=new $i(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.cursorColor,this.styleManager)}setCursor(t){this.cursorDecorations.setCursors(t)}setSelection(t){this.selectionDecorations.setSelections(t)}rerender(t=this.userID){return[...this.cursorDecorations.renderCursors(t),...this.selectionDecorations.renderSelections()]}destroy(){this.cursorDecorations.destroy(),this.selectionDecorations.destroy(),this.styleManager.destroy()}}class Ki{constructor(t,e,o,n,i,r,a,c){this.context=t,this.attrs=e,this.box=o,this.monaco=n,this.monacoEditor=i,this.doc=r,this.yText=a,this.readonly=c,this.decorations=new Map,this.mux=(()=>{let t=!0;return(e,o)=>{if(t){t=!1;try{e()}finally{t=!0}}else void 0!==o&&o()}})(),this.deltaDecorations=[],this.cursorPositions=[];const l=i.getModel();if(this.authorId=String(this.context.getDisplayer().observerId),this.MagixMonacoDocChannel=this.context.appId+"AppMonacoDoc",!l)throw new Error("[NetlessAppMonaco] No Monaco Model");this.monacoModel=l,this.sideEffect=new s,this.observerId=String(t.getDisplayer().observerId),this.setupDecorations(),this.setupAttrsUpdate(),this.setupDocUpdate(),this.setupYText(),this.setupMembers()}setReadonly(t){t!==this.readonly&&(this.readonly=t,t||(this.broadcastCursors(),this.broadcastSelections()))}clearDecorationAttrs(){this.context.updateAttributes(["cursors",this.observerId],void 0),this.context.updateAttributes(["selections",this.observerId],void 0)}destroy(){this.sideEffect.flushAll(),this.decorations.forEach((t=>t.destroy())),this.decorations.clear(),this.clearDecorationAttrs()}setupYText(){this.sideEffect.add((()=>{const t=t=>{this.mux((()=>{let e=0;t.delta.forEach((t=>{if(null!=t.retain)e+=t.retain;else if(null!=t.insert){const o=this.monacoModel.getPositionAt(e),n=new this.monaco.Selection(o.lineNumber,o.column,o.lineNumber,o.column);this.monacoModel.applyEdits([{range:n,text:String(t.insert),forceMoveMarkers:!0}]),e+=t.insert.length}else if(null!=t.delete){const o=this.monacoModel.getPositionAt(e),n=this.monacoModel.getPositionAt(e+t.delete),i=new this.monaco.Selection(o.lineNumber,o.column,n.lineNumber,n.column);this.monacoModel.applyEdits([{range:i,text:""}])}else console.error("Unexpected yText Observer")}))}))};return this.yText.observe(t),()=>this.yText.unobserve(t)})),this.monacoModel.setValue(this.yText.toString()),this.sideEffect.add((()=>{const t=this.monacoModel.onDidChangeContent((t=>{this.mux((()=>{this.doc.transact((()=>{t.changes.sort(((t,e)=>e.rangeOffset-t.rangeOffset)).forEach((t=>{this.yText.delete(t.rangeOffset,t.rangeLength),this.yText.insert(t.rangeOffset,t.text)}))}),this)}))}));return()=>t.dispose()}))}setupDocUpdate(){const t=this.context.getDisplayer();this.sideEffect.add((()=>{const e=e=>{if(this.authorId=String(e.authorId),e.authorId!==t.observerId)try{ge(this.doc,ei(e.payload),"_remote_edit_")}catch(rr){console.warn(rr)}};return t.addMagixEventListener(this.MagixMonacoDocChannel,e),()=>t.removeMagixEventListener(this.MagixMonacoDocChannel,e)})),this.sideEffect.add((()=>{const e=(e,o)=>{if("_remote_edit_"!==o&&this.context.getIsWritable()){const o=this.context.getRoom();o&&(this.authorId=String(t.observerId),o.dispatchMagixEvent(this.MagixMonacoDocChannel,Gn(e)))}};return this.doc.on("update",e),()=>this.doc.off("update",e)}))}setupDecorations(){this.sideEffect.add((()=>{const t=this.monacoEditor.onDidChangeCursorPosition((t=>{this.cursorPositions=[t.position,...t.secondaryPositions],this.readonly||this.broadcastCursors()}));return()=>t.dispose()})),this.sideEffect.add((()=>{const t=this.monacoEditor.onDidChangeCursorSelection((()=>{this.readonly||this.broadcastSelections()}));return()=>t.dispose()}))}broadcastCursors(){try{const t=this.cursorPositions.map((t=>JSON.stringify(Ie(this.yText,this.monacoModel.getOffsetAt(t)))));this.context.updateAttributes(["cursors",this.observerId],t)}catch(rr){console.warn(rr)}}broadcastSelections(){const t=this.monacoEditor.getSelections();if(t)try{const e=JSON.stringify(t.filter((t=>!this.monaco.Selection.isEmpty(t))).map((t=>({start:Ie(this.yText,this.monacoModel.getOffsetAt(t.getStartPosition())),end:Ie(this.yText,this.monacoModel.getOffsetAt(t.getEndPosition()))}))));this.context.updateAttributes(["selections",this.observerId],e)}catch(rr){console.warn(rr)}}setupAttrsUpdate(){this.sideEffect.add((()=>{const t=()=>{this.context.getDisplayer().state.roomMembers.forEach((t=>{var e,o,n;const i=String(t.memberId);if(i!==this.observerId){let r=this.decorations.get(i);r||(r=new Xi(this.doc,this.monaco,this.monacoEditor,this.monacoModel,i,(null==(e=t.payload)?void 0:e.cursorName)||i),this.decorations.set(i,r)),r.setCursor(null==(o=this.attrs.cursors)?void 0:o[i]),r.setSelection(null==(n=this.attrs.selections)?void 0:n[i]),this.renderDecorations()}}))};return this.context.emitter.on("attributesUpdate",t),()=>this.context.emitter.off("attributesUpdate",t)}))}setupMembers(){this.sideEffect.add((()=>{const t=t=>{if(t.roomMembers){const e=new Set(t.roomMembers.map((t=>String(t.memberId))));this.decorations.forEach(((t,o)=>{e.has(o)||(t.destroy(),this.decorations.delete(o))})),this.attrs.cursors&&Object.keys(this.attrs.cursors).forEach((t=>{e.has(t)||this.context.updateAttributes(["cursors",t],void 0)})),this.attrs.selections&&Object.keys(this.attrs.selections).forEach((t=>{e.has(t)||this.context.updateAttributes(["selections",t],void 0)}))}};return this.context.emitter.on("roomStateChange",t),()=>this.context.emitter.off("roomStateChange",t)}))}renderDecorations(){const t=[];this.decorations.forEach((e=>{t.push(...e.rerender(this.authorId))})),this.deltaDecorations=this.monacoModel.deltaDecorations(this.deltaDecorations,t)}}class tr{constructor(t){this.compiler=t,this.content="",this.namespace="netless-app-monaco-terminal",this.$content=document.createElement("pre"),this.$content.className=this.namespace}async runCode(t,e){this.setContent("Code Running...\n"),this.setContent(await this.compiler.runCode(t,e))}appendContent(t){this.content+=t,this.render()}setContent(t){t!==this.content&&(this.content=t,this.render())}render(){this.$content.textContent=this.content,this.$content.scrollTo({top:this.$content.scrollHeight,behavior:"smooth"})}wrapClassName(t){return`${this.namespace}-${t}`}}const er=class{constructor(t){this.apiKey=t}hasLanguage(t){return Object.prototype.hasOwnProperty.call(er.lanMap,t)}getLanguages(){return Object.keys(er.lanMap)}async runCode(t,e){if(!this.hasLanguage(e))return"Language not supported!\n";try{const o=await fetch("https://judge0-ce.p.rapidapi.com/submissions?base64_encoded=true&wait=true&fields=*",{method:"POST",headers:{"content-type":"application/json","x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":this.apiKey},body:JSON.stringify({language_id:er.lanMap[e],source_code:$n(t)})}),n=await o.json();return n.stderr?ii(n.stderr):n.stdout?ii(n.stdout):"Unknown error\n"}catch(o){return`${o instanceof Error?o.message:String(o)}\n`}}};let or=er;or.lanMap={shell:46,c:50,cpp:54,clojure:86,csharp:51,elixir:57,fsharp:87,go:60,java:62,javascript:63,kotlin:78,lua:64,"objective-c":79,pascal:67,perl:85,php:68,plaintext:43,python:71,r:80,ruby:72,rust:73,scala:81,sql:82,swift:83,typescript:74,vb:84};class nr{constructor(t,e,o,n,i){this.context=t,this.attrs=e,this.box=o,this.monaco=n,this.readonly=i,this.compiler=new or("c6bf0d946amsh8a74c4b74695c0cp1d3a6ejsnb53b0567a805"),this.terminal=new tr(this.compiler),this.sideEffect=new s,this.yDoc=new re,this.yText=this.yDoc.getText("monaco"),this.$container=this.renderContainer(),this.box.mountContent(this.$container),this.editor=this.monaco.editor.create(this.$container,{value:"",automaticLayout:!0,readOnly:i,language:this.attrs.lang,fixedOverflowWidgets:!1}),this.$footer=this.renderFooter(),this.box.mountFooter(this.$footer),this.yBinding=new Ki(t,e,o,this.monaco,this.editor,this.yDoc,this.yText,i)}static async loadEditor(t,e,o,n){return Bi.init().then((i=>new nr(t,e,o,i,n)))}setReadonly(t){t!==this.readonly&&(this.readonly=t,this.$container.classList.toggle(this.wrapClassName("cursor-readonly"),t),this.$footer.classList.toggle(this.wrapClassName("readonly"),t),this.editor.updateOptions({readOnly:t}),this.yBinding.setReadonly(t))}renderContainer(){const t=document.createElement("div");return t.className=this.wrapClassName("editor-container"),this.readonly&&t.classList.add(this.wrapClassName("cursor-readonly")),t}renderFooter(){const t=document.createElement("div");t.className=this.wrapClassName("footer"),this.readonly&&t.classList.add(this.wrapClassName("readonly"));const e=document.createElement("div");e.className=this.wrapClassName("footer-ctrl"),t.appendChild(e);const o=document.createElement("select");o.className=this.wrapClassName("lang-select"),this.monaco.languages.getLanguages().forEach((t=>{const e=document.createElement("option");e.value=t.id,e.textContent=t.id,o.appendChild(e)})),o.value=this.attrs.lang,e.appendChild(o);const n=document.createElement("button");return n.className=this.wrapClassName("run-code"),n.textContent="Run",n.disabled=!this.compiler.hasLanguage(this.attrs.lang),e.appendChild(n),this.sideEffect.addEventListener(o,"change",(()=>{const t=o.value;!this.readonly&&t&&t!==this.attrs.lang&&this.context.updateAttributes(["lang"],t)})),this.sideEffect.add((()=>this.context.mobxUtils.reaction((()=>this.attrs.lang),(t=>{t&&(this.monaco.editor.setModelLanguage(this.yBinding.monacoModel,t),o.value=t,n.disabled=!this.compiler.hasLanguage(t))})))),this.sideEffect.addEventListener(n,"click",(async()=>{const t=this.editor.getValue();!this.readonly&&t.trim()&&(n.disabled=!0,await this.terminal.runCode(t,this.attrs.lang),n.disabled=!1)})),t.appendChild(this.terminal.$content),t}wrapClassName(t){return`netless-app-monaco-${t}`}destroy(){this.editor.dispose()}}const ir={kind:a,async setup(t){const e=t.getBox(),o=l(t,{text:"",cursors:{},selections:{},lang:"javascript"});e.mountStyles('.netless-app-monaco-editor-container{width:100%;height:100%;overflow:hidden}.netless-app-monaco-cursor-readonly .cursors-layer>.cursor{display:none!important}.netless-app-monaco-selection{background:rgba(250,129,0,.5)}.netless-app-monaco-cursor{--content: "Guest";--bg-color: orange;--text-color: #fff;--label: none;--dot: block;display:none;margin-left:-1px;border-left:2px solid var(--bg-color);transition:top .2s,left .2s;user-select:none}.netless-app-monaco-cursor:before{display:var(--label);content:var(--content);position:absolute;z-index:1;top:-18px;left:-4px;font-size:12px;line-height:20px;height:20px;padding:0 5px;max-width:200px;overflow:hidden;text-overflow:ellipsis;word-break:keep-all;white-space:nowrap;background:var(--bg-color);border-radius:4px;color:var(--text-color)}.netless-app-monaco-cursor-first-line:before{top:16px;left:-2px}.netless-app-monaco-cursor-right:before{left:unset;right:2px}.netless-app-monaco-cursor:after{display:var(--dot);content:" ";position:absolute;left:-4px;top:-4px;width:6px;height:6px;border-radius:4px;background:var(--bg-color)}.netless-app-monaco-footer{box-sizing:border-box;height:100px;display:flex;flex-direction:column;padding:0 16px;border-top:1px solid #eeeef7;color:#191919;font-size:12px}.netless-app-monaco-readonly{pointer-events:none}.netless-app-monaco-readonly .netless-app-monaco-lang-select{pointer-events:none}.netless-app-monaco-footer-ctrl{width:100%;height:26px}.netless-app-monaco-terminal{flex:1;width:100%}\n.monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{display:flex;margin:0 auto;padding:0;height:100%;width:100%;align-items:center}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{display:block;align-items:center;justify-content:center;cursor:pointer;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .codicon,.monaco-action-bar .action-item .icon{display:block}.monaco-action-bar .action-item .codicon{display:flex;align-items:center;width:16px;height:16px}.monaco-action-bar .action-label{font-size:11px;padding:3px;border-radius:5px}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.4}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{display:block;border-bottom:1px solid #bbb;padding-top:1px;margin-left:.8em;margin-right:.8em}.monaco-action-bar .action-item .action-label.separator{width:1px;height:16px;margin:5px 4px!important;cursor:default;min-width:1px;padding:0;background-color:#bbb}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{overflow:hidden;flex:1;max-width:170px;min-width:60px;display:flex;align-items:center;justify-content:center;margin-right:10px}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-label{margin-right:1px}.monaco-aria-container{position:absolute;left:-999em}.monaco-text-button{box-sizing:border-box;display:flex;width:100%;padding:4px;text-align:center;cursor:pointer;justify-content:center;align-items:center}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled,.monaco-button.disabled:focus{opacity:.4!important;cursor:default}.monaco-text-button>.codicon{margin:0 .2em;color:inherit!important}.monaco-button-dropdown{display:flex;cursor:pointer}.monaco-button-dropdown>.monaco-dropdown-button{margin-left:1px}.monaco-description-button{flex-direction:column}.monaco-description-button .monaco-button-label{font-weight:500}.monaco-description-button .monaco-button-description{font-style:italic}.monaco-custom-checkbox{margin-left:2px;float:left;cursor:pointer;overflow:hidden;opacity:.7;width:20px;height:20px;border:1px solid transparent;padding:1px;box-sizing:border-box;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-custom-checkbox.checked,.monaco-custom-checkbox:hover{opacity:1}.hc-black .monaco-custom-checkbox,.hc-black .monaco-custom-checkbox:hover{background:none}.monaco-custom-checkbox.monaco-simple-checkbox{height:18px;width:18px;border:1px solid transparent;border-radius:3px;margin-right:9px;margin-left:0;padding:0;opacity:1;background-size:16px!important}.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked):before{visibility:hidden}@font-face{font-family:codicon;src:url(__VITE_ASSET__6c92101c__) format("truetype")}.codicon[class*=codicon-]{font:normal normal normal 16px/1 codicon;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;user-select:none;-webkit-user-select:none;-ms-user-select:none}.codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(1turn)}}.codicon-gear.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin,.codicon-sync.codicon-modifier-spin{animation:codicon-spin 1.5s steps(30) infinite}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}.context-view{position:absolute;z-index:2500}.context-view.fixed{all:initial;font-family:inherit;font-size:13px;position:fixed;z-index:2500;color:inherit}.monaco-count-badge{padding:3px 6px;border-radius:11px;font-size:11px;min-width:18px;min-height:18px;line-height:11px;font-weight:400;text-align:center;display:inline-block;box-sizing:border-box}.monaco-count-badge.long{padding:2px 3px;border-radius:2px;min-height:auto;line-height:normal}.monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;height:100%;display:flex;align-items:center;justify-content:center}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}.monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{font-size:13px;width:100%}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-0 .1s linear 0s}.monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-1 .1s linear 0s}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-dark-0 .1s linear 0s}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-dark-1 .1s linear 0s}@keyframes monaco-findInput-highlight-0{0%{background:rgba(253,255,0,.8)}to{background:transparent}}@keyframes monaco-findInput-highlight-1{0%{background:rgba(253,255,0,.8)}99%{background:transparent}}@keyframes monaco-findInput-highlight-dark-0{0%{background:hsla(0,0%,100%,.44)}to{background:transparent}}@keyframes monaco-findInput-highlight-dark-1{0%{background:hsla(0,0%,100%,.44)}99%{background:transparent}}.monaco-hover{cursor:default;position:absolute;overflow:hidden;z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;box-sizing:initial;animation:fadein .1s linear;line-height:1.5em}.monaco-hover.hidden{display:none}.monaco-hover .hover-contents{padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:500px;word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover .code,.monaco-hover p,.monaco-hover ul{margin:8px 0}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;margin:4px -8px -4px;height:1px}.monaco-hover .code:first-child,.monaco-hover p:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover .code:last-child,.monaco-hover p:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ol,.monaco-hover ul{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:pre-wrap}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .actions{display:flex;padding:0 8px}.monaco-hover .hover-row.status-bar .actions .action-container{margin-right:16px;cursor:pointer}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link,.monaco-hover .hover-contents a.code-link:hover{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:"("}.monaco-hover .hover-contents a.code-link:after{content:")"}.monaco-hover .hover-contents a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}.monaco-icon-label{display:flex;overflow:hidden;text-overflow:ellipsis}.monaco-icon-label:before{background-size:16px;background-position:0;background-repeat:no-repeat;padding-right:6px;width:16px;height:22px;line-height:inherit!important;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;flex-shrink:0}.monaco-icon-label>.monaco-icon-label-container{min-width:0;overflow:hidden;text-overflow:ellipsis;flex:1}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{margin:0 2px;opacity:.5}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;margin-left:.5em;font-size:.9em;white-space:pre}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{font-style:italic}.monaco-icon-label.deprecated{text-decoration:line-through;opacity:.66}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;font-size:90%;font-weight:600;margin:0 16px 0 5px;text-align:center}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}.monaco-inputbox{position:relative;display:block;padding:0;box-sizing:border-box;font-size:inherit}.monaco-inputbox.idle{border:1px solid transparent}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px}.monaco-inputbox>.ibwrapper{position:relative;width:100%;height:100%}.monaco-inputbox>.ibwrapper>.input{display:inline-block;box-sizing:border-box;width:100%;height:100%;line-height:inherit;border:none;font-family:inherit;font-size:inherit;resize:none;color:inherit}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{display:block;-ms-overflow-style:none;scrollbar-width:none;outline:none}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{position:absolute;display:inline-block;width:100%;top:0;left:0;box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{display:inline-block;overflow:hidden;text-align:left;width:100%;box-sizing:border-box;padding:.4em;font-size:12px;line-height:17px;margin-top:-1px;word-wrap:break-word}.monaco-inputbox .monaco-action-bar{position:absolute;right:2px;top:4px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}.monaco-keybinding{display:flex;align-items:center;line-height:10px}.monaco-keybinding>.monaco-keybinding-key{display:inline-block;border-style:solid;border-width:1px;border-radius:3px;vertical-align:middle;font-size:11px;padding:3px 5px;margin:0 2px}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}.monaco-list{position:relative;height:100%;width:100%;white-space:nowrap}.monaco-list.mouse-support{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{position:relative;width:100%;height:100%}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{position:absolute;box-sizing:border-box;overflow:hidden;width:100%}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-multiple,.monaco-list.selection-single{outline:0!important}.monaco-drag-image{display:inline-block;padding:1px 7px;border-radius:10px;font-size:12px;position:absolute;z-index:1000}.monaco-list-type-filter{display:flex;align-items:center;position:absolute;border-radius:2px;padding:0 3px;max-width:calc(100% - 10px);text-overflow:ellipsis;overflow:hidden;text-align:right;box-sizing:border-box;cursor:all-scroll;font-size:13px;line-height:18px;height:20px;z-index:1;top:4px}.monaco-list-type-filter.dragging{transition:top .2s,left .2s}.monaco-list-type-filter.ne{right:4px}.monaco-list-type-filter.nw{left:4px}.monaco-list-type-filter>.controls{display:flex;align-items:center;box-sizing:border-box;transition:width .2s;width:0}.monaco-list-type-filter.dragging>.controls,.monaco-list-type-filter:hover>.controls{width:36px}.monaco-list-type-filter>.controls>*{border:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;background:none;width:16px;height:16px;flex-shrink:0;margin:0;padding:0;display:flex;align-items:center;justify-content:center;cursor:pointer}.monaco-list-type-filter>.controls>.filter{margin-left:4px}.monaco-list-type-filter-message{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;padding:40px 1em 1em;text-align:center;white-space:normal;opacity:.7;pointer-events:none}.monaco-list-type-filter-message:empty{display:none}.monaco-list-type-filter{cursor:grab}.monaco-list-type-filter.dragging{cursor:grabbing}.monaco-mouse-cursor-text{cursor:text}.hc-black.mac .monaco-mouse-cursor-text,.hc-black .mac .monaco-mouse-cursor-text,.vs-dark.mac .monaco-mouse-cursor-text,.vs-dark .mac .monaco-mouse-cursor-text{cursor:-webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=) 1x,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAz0lEQVRIx2NgYGBY/R8I/vx5eelX3n82IJ9FxGf6tksvf/8FiTMQAcAGQMDvSwu09abffY8QYSAScNk45G198eX//yev73/4///701eh//kZSARckrNBRvz//+8+6ZohwCzjGNjdgQxkAg7B9WADeBjIBqtJCbhRA0YNoIkBSNmaPEMoNmA0FkYNoFKhapJ6FGyAH3nauaSmPfwI0v/3OukVi0CIZ+F25KrtYcx/CTIy0e+rC7R1Z4KMICVTQQ14feVXIbR695u14+Ir4gwAAD49E54wc1kWAAAAAElFTkSuQmCC) 2x) 5 8,text}.monaco-progress-container{width:100%;height:5px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:5px;position:absolute;left:0;display:none}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{left:0;transition:width .1s linear}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:linear;transform:translateZ(0)}@keyframes progress{0%{transform:translate(0) scaleX(1)}50%{transform:translate(2500%) scaleX(3)}to{transform:translate(4900%) scaleX(1)}}:root{--sash-size:4px}.monaco-sash{position:absolute;z-index:35;touch-action:none}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;top:0;width:var(--sash-size);height:100%}.monaco-sash.horizontal{cursor:ns-resize;left:0;width:100%;height:var(--sash-size)}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--sash-size)*2);width:calc(var(--sash-size)*2);z-index:100;display:block;cursor:all-scroll;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--sash-size)*-.5);top:calc(var(--sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--sash-size)*-.5);bottom:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--sash-size)*-.5);left:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--sash-size)*-.5);right:calc(var(--sash-size)*-1)}.monaco-sash:before{content:"";pointer-events:none;position:absolute;width:100%;height:100%;transition:background-color .1s ease-out;background:transparent}.monaco-sash.vertical:before{width:var(--sash-hover-size);left:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.horizontal:before{height:var(--sash-hover-size);top:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:rgba(0,255,255,.2)}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}.monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;background:transparent;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{position:absolute;display:none}.monaco-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%;box-shadow:inset 0 6px 6px -6px #ddd}.monaco-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px;box-shadow:inset 6px 0 6px -6px #ddd}.monaco-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}.monaco-scrollable-element>.shadow.top.left{box-shadow:inset 6px 6px 6px -6px #ddd}.vs .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,39.2%,.4)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,47.5%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider{background:rgba(111,195,223,.6)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:hsla(0,0%,39.2%,.7)}.hc-black .monaco-scrollable-element>.scrollbar>.slider:hover{background:rgba(111,195,223,.8)}.monaco-scrollable-element>.scrollbar>.slider.active{background:rgba(0,0,0,.6)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active{background:hsla(0,0%,74.9%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider.active{background:#6fc3df}.vs-dark .monaco-scrollable-element .shadow.top{box-shadow:none}.vs-dark .monaco-scrollable-element .shadow.left{box-shadow:inset 6px 0 6px -6px #000}.vs-dark .monaco-scrollable-element .shadow.top.left{box-shadow:inset 6px 6px 6px -6px #000}.hc-black .monaco-scrollable-element .shadow.left,.hc-black .monaco-scrollable-element .shadow.top,.hc-black .monaco-scrollable-element .shadow.top.left{box-shadow:none}.monaco-split-view2{position:relative;width:100%;height:100%}.monaco-split-view2>.sash-container{position:absolute;width:100%;height:100%;pointer-events:none}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:auto}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{width:100%;height:100%;white-space:nowrap;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:normal;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";position:absolute;top:0;left:0;z-index:5;pointer-events:none;background-color:var(--separator-border)}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:100%;width:1px}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:1px;width:100%}.monaco-table{display:flex;flex-direction:column;position:relative;height:100%;width:100%;white-space:nowrap}.monaco-table>.monaco-split-view2{border-bottom:1px solid transparent}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{display:flex;height:100%}.monaco-table-th{width:100%;height:100%;font-weight:700;overflow:hidden;text-overflow:ellipsis}.monaco-table-td,.monaco-table-th{box-sizing:border-box;flex-shrink:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";position:absolute;left:calc(var(--sash-size)/2);width:0;border-left:1px solid transparent}.monaco-table>.monaco-split-view2,.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}.monaco-tl-row{display:flex;height:100%;align-items:center;position:relative}.monaco-tl-indent{height:100%;position:absolute;top:0;left:16px;pointer-events:none}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{display:inline-block;box-sizing:border-box;height:100%;border-left:1px solid transparent;transition:border-color .1s linear}.monaco-tl-contents,.monaco-tl-twistie{height:100%}.monaco-tl-twistie{font-size:10px;text-align:right;padding-right:6px;flex-shrink:0;width:16px;display:flex!important;align-items:center;justify-content:center;transform:translate(3px)}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:codicon-spin 1.25s steps(30) infinite}.quick-input-widget{position:absolute;width:600px;z-index:2000;padding:0 1px 6px;left:50%;margin-left:-300px}.quick-input-titlebar{display:flex;align-items:center}.quick-input-left-action-bar{display:flex;margin-left:4px;flex:1}.quick-input-title{padding:3px 0;text-align:center}.quick-input-right-action-bar{display:flex;margin-right:4px;flex:1}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px}.quick-input-header .quick-input-description{margin:4px 2px}.quick-input-header{display:flex;padding:6px 6px 0;margin-bottom:-2px}.quick-input-widget.hidden-input .quick-input-header{padding:0;margin-bottom:0}.quick-input-and-message{display:flex;flex-direction:column;flex-grow:1;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;position:absolute;right:4px;display:flex;align-items:center}.quick-input-count .monaco-count-badge{vertical-align:middle;padding:2px 4px;border-radius:2px;min-height:auto;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{font-size:11px;padding:0 6px;display:flex;height:27.5px;align-items:center}.quick-input-message{margin-top:-1px;padding:5px 5px 2px}.quick-input-message>.codicon{margin:0 .2em;vertical-align:text-bottom}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-progress.monaco-progress-container,.quick-input-progress.monaco-progress-container .progress-bit{height:2px}.quick-input-list{line-height:22px;margin-top:6px}.quick-input-widget.hidden-input .quick-input-list{margin-top:0}.quick-input-list .monaco-list{overflow:hidden;max-height:440px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;overflow:hidden;display:flex;height:100%;padding:0 6px}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-width:1px;border-top-style:solid}.quick-input-list .monaco-list-row[data-index="0"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{overflow:hidden;display:flex;height:100%;flex:1}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-rows{overflow:hidden;text-overflow:ellipsis;display:flex;flex-direction:column;height:100%;flex:1;margin-left:5px}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{display:flex;align-items:center}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;line-height:normal;text-overflow:ellipsis;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:8px}.quick-input-list .quick-input-list-entry-action-bar{display:flex;flex:0;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label,.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:none}.monaco-editor .inputarea{min-width:0;min-height:0;margin:0;padding:0;position:absolute;outline:none!important;resize:none;border:none;overflow:hidden;color:transparent;background-color:transparent}.monaco-editor .inputarea.ime-input{z-index:10}.monaco-editor .margin-view-overlays .current-line,.monaco-editor .view-overlays .current-line{display:block;position:absolute;left:0;top:0;box-sizing:border-box}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}.monaco-editor .lines-content .cdr{position:absolute}.monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .margin-view-overlays .cgmr{position:absolute;display:flex;align-items:center;justify-content:center}.monaco-editor .lines-content .cigr,.monaco-editor .lines-content .cigra{position:absolute}.monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;position:absolute;text-align:right;display:inline-block;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%}.monaco-editor .relative-current-line-number{text-align:left;display:inline-block;width:100%}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{position:absolute;width:100%}.monaco-editor .mtkz{display:inline-block}.monaco-editor .lines-decorations{position:absolute;top:0;background:#fff}.monaco-editor .margin-view-overlays .cldr{position:absolute;height:100%}.monaco-editor .margin-view-overlays .cmdr{position:absolute;left:0;width:100%;height:100%}.monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover .minimap-slider.active,.monaco-editor .minimap.slider-mouseover:hover .minimap-slider{opacity:1}.monaco-editor .minimap-shadow-hidden{position:absolute;width:0}.monaco-editor .minimap-shadow-visible{position:absolute;left:-6px;width:6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{position:absolute;left:-1px;width:1px}.monaco-editor .overlayWidgets{position:absolute;top:0;left:0}.monaco-editor .view-ruler{position:absolute;top:0}.monaco-editor .scroll-decoration{position:absolute;top:0;left:0;height:6px}.monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{box-sizing:border-box;background:transparent!important;border-style:solid;border-width:1px}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-width:2px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-width:1px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:monaco-cursor-smooth .5s ease-in-out 0s 20 alternate}.cursor-phase{animation:monaco-cursor-phase .5s ease-in-out 0s 20 alternate}.cursor-expand>.cursor{animation:monaco-cursor-expand .5s ease-in-out 0s 20 alternate}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:rgba(0,0,0,.03)}.monaco-diff-editor.vs-dark .diffOverview{background:hsla(0,0%,100%,.01)}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar{background:transparent}.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar{background:none}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:hsla(0,0%,67.1%,.4)}.modified-in-monaco-diff-editor.hc-black .slider.active{background:none}.monaco-diff-editor .delete-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-editor .insert-sign{font-size:11px!important;opacity:.7!important;display:flex!important;align-items:center}.monaco-diff-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-editor.hc-black .insert-sign{opacity:1}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .inline-deleted-margin-view-zone{text-align:right}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-diff-editor .diff-review-line-number{text-align:right;display:inline-block}.monaco-diff-editor .diff-review{position:absolute;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{display:table;min-width:100%}.monaco-diff-editor .diff-review-row{display:table-row;width:100%}.monaco-diff-editor .diff-review-spacer{display:inline-block;width:10px;vertical-align:middle}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{display:inline-block;position:absolute;right:10px;top:2px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{position:relative;overflow:visible;-webkit-text-size-adjust:100%}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}.monaco-editor .bracket-match{box-sizing:border-box}.monaco-editor .contentWidgets .codicon-light-bulb,.monaco-editor .contentWidgets .codicon-lightbulb-autofix{display:flex;align-items:center;justify-content:center}.monaco-editor .contentWidgets .codicon-light-bulb:hover,.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover{cursor:pointer}.monaco-editor .codelens-decoration{overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{user-select:none;-webkit-user-select:none;-ms-user-select:none;white-space:nowrap;vertical-align:sub}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration .codicon{vertical-align:middle;color:currentColor!important}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{animation:fadein .1s linear}.colorpicker-widget{height:190px;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .colorpicker-hover:focus{outline:none}.colorpicker-header{display:flex;height:24px;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-header .picked-color{width:216px;line-height:24px;cursor:pointer;color:#fff;flex:1;text-align:center}.colorpicker-header .picked-color.light{color:#000}.colorpicker-header .original-color{width:74px;z-index:inherit;cursor:pointer}.colorpicker-body{display:flex;padding:8px;position:relative}.colorpicker-body .saturation-wrap{overflow:hidden;height:150px;position:relative;min-width:220px;flex:1}.colorpicker-body .saturation-box{height:150px;position:absolute}.colorpicker-body .saturation-selection{width:9px;height:9px;margin:-5px 0 0 -5px;border:1px solid #fff;border-radius:100%;box-shadow:0 0 2px #000c;position:absolute}.colorpicker-body .strip{width:25px;height:150px}.colorpicker-body .hue-strip{position:relative;margin-left:8px;cursor:grab;background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.colorpicker-body .opacity-strip{position:relative;margin-left:8px;cursor:grab;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-body .strip.grabbing{cursor:grabbing}.colorpicker-body .slider{position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:4px;box-sizing:border-box;border:1px solid hsla(0,0%,100%,.71);box-shadow:0 0 1px #000000d9}.colorpicker-body .strip .overlay{height:150px;pointer-events:none}.monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}.monaco-editor .find-widget{position:absolute;z-index:35;height:33px;overflow:hidden;line-height:19px;transition:transform .2s linear;padding:0 4px;box-sizing:border-box;transform:translateY(calc(-100% - 10px))}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{margin:4px 0 0 17px;font-size:12px;display:flex}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-top:2px;padding-bottom:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{height:25px;display:flex;align-items:center}.monaco-editor .find-widget .monaco-findInput{vertical-align:middle;display:flex;flex:1}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{display:flex;flex:initial;margin:0 0 0 3px;padding:2px 0 0 2px;height:25px;vertical-align:middle;box-sizing:border-box;text-align:center;line-height:23px}.monaco-editor .find-widget .button{width:20px;height:20px;flex:initial;margin-left:3px;background-position:50%;background-repeat:no-repeat;cursor:pointer;display:flex;align-items:center;justify-content:center}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{width:auto;padding:1px 6px;top:-1px}.monaco-editor .find-widget .button.toggle{position:absolute;top:0;left:3px;width:18px;height:100%;box-sizing:border-box}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{opacity:.3;cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{position:relative;display:flex;vertical-align:middle;flex:auto;flex-grow:0;flex-shrink:0}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .findMatch{animation-duration:0;animation-name:inherit!important}.monaco-editor .find-widget .monaco-sash{left:0!important}.monaco-editor.hc-black .find-widget .button:before{position:relative;top:1px;left:2px}.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded{cursor:pointer;opacity:0;transition:opacity .5s;display:flex;align-items:center;justify-content:center;font-size:140%;margin-left:2px}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:gray;margin:.1em .2em 0;content:"\\22ef";display:inline;line-height:1em;cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;vertical-align:text-top;margin-right:4px}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{opacity:.6;font-style:italic}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{position:absolute;white-space:pre;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:8px 12px 0 20px}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{opacity:.6;color:inherit}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-editor .marker-widget .descriptioncontainer .filename{cursor:pointer}.monaco-editor .goto-definition-link{text-decoration:underline;cursor:pointer}.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget{border-top-width:1px;border-bottom-width:1px}.monaco-editor .reference-zone-widget .inline{display:inline-block;vertical-align:top}.monaco-editor .reference-zone-widget .messages{height:100%;width:100%;text-align:center;padding:3em 0}.monaco-editor .reference-zone-widget .ref-tree{line-height:23px}.monaco-editor .reference-zone-widget .ref-tree .reference{text-overflow:ellipsis;overflow:hidden}.monaco-editor .reference-zone-widget .ref-tree .reference-file{display:inline-flex;width:100%;height:100%}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file{color:inherit!important}.monaco-editor .reference-zone-widget .ref-tree .reference-file .count{margin-right:12px;margin-left:auto}.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file{font-weight:700}.monaco-editor .suggest-preview-additional-widget{white-space:nowrap}.monaco-editor .suggest-preview-additional-widget .content-spacer{color:transparent;white-space:pre}.monaco-editor .suggest-preview-additional-widget .button{display:inline-block;cursor:pointer;text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-hidden{opacity:0;font-size:0}.monaco-editor .detected-link,.monaco-editor .detected-link-active{text-decoration:underline;text-underline-position:under}.monaco-editor .detected-link-active{cursor:pointer}.monaco-editor .monaco-editor-overlaymessage{padding-bottom:8px;z-index:10000}.monaco-editor .monaco-editor-overlaymessage.below{padding-bottom:0;padding-top:8px;z-index:10000}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.monaco-editor .monaco-editor-overlaymessage.fadeIn{animation:fadeIn .15s ease-out}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.monaco-editor .monaco-editor-overlaymessage.fadeOut{animation:fadeOut .1s ease-out}.monaco-editor .monaco-editor-overlaymessage .message{padding:1px 4px}.monaco-editor .monaco-editor-overlaymessage .anchor{width:0!important;height:0!important;z-index:1000;border:8px solid transparent;position:absolute}.monaco-editor .monaco-editor-overlaymessage.below .anchor.below,.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top{display:none}.monaco-editor .monaco-editor-overlaymessage.below .anchor.top{display:inherit;top:-8px}.monaco-editor .parameter-hints-widget{z-index:10;display:flex;flex-direction:column;line-height:1.5em}.monaco-editor .parameter-hints-widget>.phwrapper{max-width:440px;display:flex;flex-direction:row}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.visible{transition:left .05s ease-in-out}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs .markdown-docs code{font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .docs .code{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs code{border-radius:3px;padding:0 .4em}.monaco-editor .parameter-hints-widget .controls{display:none;flex-direction:column;align-items:center;min-width:22px;justify-content:flex-end}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{width:16px;height:16px;background-repeat:no-repeat;cursor:pointer}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{text-align:center;height:12px;line-height:12px;opacity:.5;font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .signature .parameter.active{font-weight:700;text-decoration:underline}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}.monaco-editor .peekview-widget .head{box-sizing:border-box;display:flex}.monaco-editor .peekview-widget .head .peekview-title{display:flex;align-items:center;font-size:13px;margin-left:20px;cursor:pointer;min-width:0}.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty){font-size:.9em;margin-left:.5em}.monaco-editor .peekview-widget .head .peekview-title .dirname,.monaco-editor .peekview-widget .head .peekview-title .meta{white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .filename{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty):before{content:"-";padding:0 .3em}.monaco-editor .peekview-widget .head .peekview-actions{flex:1;text-align:right;padding-right:2px}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar{display:inline-block}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar,.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar>.actions-container{height:100%}.monaco-editor .peekview-widget>.body{border-top:1px solid;position:relative}.monaco-editor .peekview-widget .head .peekview-title .codicon{margin-right:4px}.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon{color:inherit!important}.monaco-editor .rename-box{z-index:100;color:inherit}.monaco-editor .rename-box.preview{padding:3px 3px 0}.monaco-editor .rename-box .rename-input{padding:3px;width:calc(100% - 6px)}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}.monaco-editor .snippet-placeholder{min-width:2px}.monaco-editor .finish-snippet-placeholder,.monaco-editor .snippet-placeholder{outline-style:solid;outline-width:1px}.monaco-editor .suggest-widget{width:430px;z-index:40;display:flex;flex-direction:column}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-details,.monaco-editor .suggest-widget{flex:0 1 auto;width:100%;border-style:solid;border-width:1px}.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-black .suggest-widget{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;display:none;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:80%;padding:0 4px;border-top:1px solid transparent;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{opacity:.5;color:inherit}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:", ";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{height:100%;width:100%}.monaco-editor .suggest-widget .monaco-list{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{display:flex;-mox-box-sizing:border-box;box-sizing:border-box;padding-right:10px;background-repeat:no-repeat;background-position:2px 2px;white-space:nowrap;cursor:pointer;touch-action:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;overflow:hidden;padding-left:2px}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:pre;justify-content:space-between}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;font-size:14px;cursor:pointer}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{overflow:hidden;text-overflow:ellipsis;opacity:.6}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{margin-left:12px;opacity:.4;font-size:85%;line-height:normal;text-overflow:ellipsis;overflow:hidden;align-self:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{font-size:85%;margin-left:1.1em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-shrink:1;flex-grow:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{overflow:hidden;flex-shrink:4;max-width:70%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:inline-block;position:absolute;right:10px;width:18px;height:18px;visibility:hidden}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{display:block;height:16px;width:16px;margin-left:2px;background-repeat:no-repeat;background-size:80%;background-position:50%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{display:flex;align-items:center;margin-right:4px}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{margin:0 0 0 .3em;border:.1em solid #000;width:.7em;height:.7em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{display:flex;flex-direction:column;cursor:default}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;height:100%;width:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{flex:2;overflow:hidden;text-overflow:ellipsis;opacity:.7;white-space:pre;margin:0 24px 0 0;padding:4px 0 12px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{margin:0;padding:4px 5px;white-space:pre-wrap}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{padding:0;white-space:normal;min-height:calc(1rem + 8px)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ol,.monaco-editor .suggest-details ul{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}.monaco-editor .zone-widget{position:absolute;z-index:10}.monaco-editor .zone-widget .zone-widget-container{border-top-style:solid;border-bottom-style:solid;border-top-width:0;border-bottom-width:0;position:relative}.monaco-editor .accessibilityHelpWidget{padding:10px;vertical-align:middle;overflow:scroll}.monaco-editor .iPadShowKeyboard{width:58px;min-width:0;height:36px;min-height:0;margin:0;padding:0;position:absolute;resize:none;overflow:hidden;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iIzQyNDI0MiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iI0M1QzVDNSIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #252526}.monaco-editor .tokens-inspect-widget{z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:10px}.tokens-inspect-separator{height:1px;border:0}.monaco-editor .tokens-inspect-widget .tm-token{font-family:var(--monaco-monospace-font)}.monaco-editor .tokens-inspect-widget .tm-token-length{font-weight:400;font-size:60%;float:right}.monaco-editor .tokens-inspect-widget .tm-metadata-table{width:100%}.monaco-editor .tokens-inspect-widget .tm-metadata-value{font-family:var(--monaco-monospace-font);text-align:right}.monaco-editor .tokens-inspect-widget .tm-token-type{font-family:var(--monaco-monospace-font)}.quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.monaco-keybinding>.monaco-keybinding-key{background-color:#ddd6;border:1px solid hsla(0,0%,80%,.4);border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6;color:#555}.hc-black .monaco-keybinding>.monaco-keybinding-key{background-color:transparent;border:1px solid #6fc3df;box-shadow:none;color:#fff}.vs-dark .monaco-keybinding>.monaco-keybinding-key{background-color:#8080802b;border:1px solid rgba(51,51,51,.6);border-bottom-color:#4449;box-shadow:inset 0 -1px #4449;color:#ccc}.monaco-editor{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif;--monaco-monospace-font:"SF Mono",Monaco,Menlo,Consolas,"Ubuntu Mono","Liberation Mono","DejaVu Sans Mono","Courier New",monospace}.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{position:absolute!important;top:0;height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;clip:rect(1px,1px,1px,1px);clip-path:inset(50%)}.monaco-editor.hc-black{-ms-high-contrast-adjust:none}@media screen and (-ms-high-contrast:active){.monaco-editor.vs-dark .view-overlays .current-line,.monaco-editor.vs .view-overlays .current-line{border-color:windowtext!important;border-left:0;border-right:0}.monaco-editor.vs-dark .cursor,.monaco-editor.vs .cursor{background-color:windowtext!important}.monaco-editor.vs-dark .dnd-target,.monaco-editor.vs .dnd-target{border-color:windowtext!important}.monaco-editor.vs-dark .selected-text,.monaco-editor.vs .selected-text{background-color:highlight!important}.monaco-editor.vs-dark .view-line,.monaco-editor.vs .view-line{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .view-line span,.monaco-editor.vs .view-line span{color:windowtext!important}.monaco-editor.vs-dark .view-line span.inline-selected-text,.monaco-editor.vs .view-line span.inline-selected-text{color:highlighttext!important}.monaco-editor.vs-dark .view-overlays,.monaco-editor.vs .view-overlays{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .reference-decoration,.monaco-editor.vs-dark .selectionHighlight,.monaco-editor.vs-dark .wordHighlight,.monaco-editor.vs-dark .wordHighlightStrong,.monaco-editor.vs .reference-decoration,.monaco-editor.vs .selectionHighlight,.monaco-editor.vs .wordHighlight,.monaco-editor.vs .wordHighlightStrong{border:2px dotted highlight!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .rangeHighlight,.monaco-editor.vs .rangeHighlight{background:transparent!important;border:1px dotted activeborder!important;box-sizing:border-box}.monaco-editor.vs-dark .bracket-match,.monaco-editor.vs .bracket-match{border-color:windowtext!important;background:transparent!important}.monaco-editor.vs-dark .currentFindMatch,.monaco-editor.vs-dark .findMatch,.monaco-editor.vs .currentFindMatch,.monaco-editor.vs .findMatch{border:2px dotted activeborder!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .find-widget,.monaco-editor.vs .find-widget{border:1px solid windowtext}.monaco-editor.vs-dark .monaco-list .monaco-list-row,.monaco-editor.vs .monaco-list .monaco-list-row{-ms-high-contrast-adjust:none;color:windowtext!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused,.monaco-editor.vs .monaco-list .monaco-list-row.focused{color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover,.monaco-editor.vs .monaco-list .monaco-list-row:hover{background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar,.monaco-editor.vs .monaco-scrollable-element>.scrollbar{-ms-high-contrast-adjust:none;background:background!important;border:1px solid windowtext;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider{background:windowtext!important}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider:hover,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider:hover{background:highlight!important}.monaco-editor.vs-dark .decorationsOverviewRuler,.monaco-editor.vs .decorationsOverviewRuler{opacity:0}.monaco-editor.vs-dark .minimap,.monaco-editor.vs .minimap{display:none}.monaco-editor.vs-dark .squiggly-d-error,.monaco-editor.vs .squiggly-d-error{background:transparent!important;border-bottom:4px double #e47777}.monaco-editor.vs-dark .squiggly-b-info,.monaco-editor.vs-dark .squiggly-c-warning,.monaco-editor.vs .squiggly-b-info,.monaco-editor.vs .squiggly-c-warning{border-bottom:4px double #71b771}.monaco-editor.vs-dark .squiggly-a-hint,.monaco-editor.vs .squiggly-a-hint{border-bottom:4px double #6c6c6c}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{-ms-high-contrast-adjust:none;color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label{-ms-high-contrast-adjust:none;background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-diff-editor.vs-dark .diffOverviewRuler,.monaco-diff-editor.vs .diffOverviewRuler{display:none}.monaco-editor.vs-dark .line-delete,.monaco-editor.vs-dark .line-insert,.monaco-editor.vs .line-delete,.monaco-editor.vs .line-insert{background:transparent!important;border:1px solid highlight!important;box-sizing:border-box}.monaco-editor.vs-dark .char-delete,.monaco-editor.vs-dark .char-insert,.monaco-editor.vs .char-delete,.monaco-editor.vs .char-insert{background:transparent!important}}.monaco-action-bar .action-item.menu-entry .action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-action-bar .action-item.menu-entry .action-label,.vs-dark .monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-dark)}.context-view .monaco-menu{min-width:130px}\n');const n=await nr.loadEditor(t,o,e,!t.getIsWritable()),i=new ri(t,o,n.yDoc,n.yText);return t.emitter.on("writableChange",(t=>{n.setReadonly(!t)})),t.emitter.on("destroy",(()=>{i.destroy(),n.destroy()})),n}};export{ir as default};
