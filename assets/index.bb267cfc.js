var ra=Object.defineProperty;var io=Object.getOwnPropertySymbols;var sa=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable;var oo=(t,e,n)=>e in t?ra(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qn=(t,e)=>{for(var n in e||(e={}))sa.call(e,n)&&oo(t,n,e[n]);if(io)for(var n of io(e))aa.call(e,n)&&oo(t,n,e[n]);return t};import{s as Pt}from"./side-effect-manager.es.5f289aa4.js";import{k as la}from"./playground.8382a5ff.js";import{L as ca}from"./vendor.128cc1da.js";import{e as da}from"./ensure-attributes.2c659353.js";import"./index.438f0a6c.js";var ha=`.netless-app-monaco-editor-container{width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column}.netless-app-monaco-editor{flex:1;overflow:hidden}.netless-app-monaco-readonly .cursors-layer>.cursor{display:none!important}.netless-app-monaco-selection{background:rgba(250,129,0,.5)}.netless-app-monaco-cursor{--content: "Guest";--bg-color: orange;--text-color: #fff;--label: none;--dot: block;display:none;margin-left:-1px;border-left:2px solid var(--bg-color);transition:top .2s,left .2s;user-select:none}.netless-app-monaco-cursor:before{display:var(--label);content:var(--content);position:absolute;z-index:1;top:-18px;left:-4px;font-size:12px;line-height:20px;height:20px;padding:0 5px;max-width:200px;overflow:hidden;text-overflow:ellipsis;word-break:keep-all;white-space:nowrap;background:var(--bg-color);border-radius:4px;color:var(--text-color)}.netless-app-monaco-cursor-first-line:before{top:16px;left:-2px}.netless-app-monaco-cursor-right:before{left:unset;right:2px}.netless-app-monaco-cursor:after{display:var(--dot);content:" ";position:absolute;left:-4px;top:-4px;width:6px;height:6px;border-radius:4px;background:var(--bg-color)}.netless-app-monaco-footer{box-sizing:border-box;max-height:30%;display:flex;flex-direction:column;border-top:1px solid #eeeef7;color:#191919;font-size:12px}.netless-app-monaco-readonly{pointer-events:none}.netless-app-monaco-readonly .netless-app-monaco-lang-select{pointer-events:none}.netless-app-monaco-footer-ctrl{width:100%;padding:5px 16px}.netless-app-monaco-run-code{margin-left:5px}.netless-app-monaco-terminal{position:relative;flex:1;width:100%;overflow:auto;margin:0;padding:5px 16px 10px 32px;background:rgba(0,0,0,.02)}.netless-app-monaco-terminal:before{content:">";position:absolute;left:16px;top:6px;user-select:none}
`,ua=`.monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{display:flex;margin:0 auto;padding:0;height:100%;width:100%;align-items:center}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{display:block;align-items:center;justify-content:center;cursor:pointer;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .codicon,.monaco-action-bar .action-item .icon{display:block}.monaco-action-bar .action-item .codicon{display:flex;align-items:center;width:16px;height:16px}.monaco-action-bar .action-label{font-size:11px;padding:3px;border-radius:5px}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.4}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{display:block;border-bottom:1px solid #bbb;padding-top:1px;margin-left:.8em;margin-right:.8em}.monaco-action-bar .action-item .action-label.separator{width:1px;height:16px;margin:5px 4px!important;cursor:default;min-width:1px;padding:0;background-color:#bbb}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{overflow:hidden;flex:1;max-width:170px;min-width:60px;display:flex;align-items:center;justify-content:center;margin-right:10px}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-label{margin-right:1px}.monaco-aria-container{position:absolute;left:-999em}.monaco-text-button{box-sizing:border-box;display:flex;width:100%;padding:4px;text-align:center;cursor:pointer;justify-content:center;align-items:center}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled,.monaco-button.disabled:focus{opacity:.4!important;cursor:default}.monaco-text-button>.codicon{margin:0 .2em;color:inherit!important}.monaco-button-dropdown{display:flex;cursor:pointer}.monaco-button-dropdown>.monaco-dropdown-button{margin-left:1px}.monaco-description-button{flex-direction:column}.monaco-description-button .monaco-button-label{font-weight:500}.monaco-description-button .monaco-button-description{font-style:italic}.monaco-custom-checkbox{margin-left:2px;float:left;cursor:pointer;overflow:hidden;opacity:.7;width:20px;height:20px;border:1px solid transparent;padding:1px;box-sizing:border-box;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-custom-checkbox.checked,.monaco-custom-checkbox:hover{opacity:1}.hc-black .monaco-custom-checkbox,.hc-black .monaco-custom-checkbox:hover{background:none}.monaco-custom-checkbox.monaco-simple-checkbox{height:18px;width:18px;border:1px solid transparent;border-radius:3px;margin-right:9px;margin-left:0;padding:0;opacity:1;background-size:16px!important}.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked):before{visibility:hidden}@font-face{font-family:codicon;font-display:block;src:url(__VITE_ASSET__d86f69b1__) format("truetype")}.codicon[class*=codicon-]{font:normal normal normal 16px/1 codicon;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;user-select:none;-webkit-user-select:none;-ms-user-select:none}.codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(1turn)}}.codicon-gear.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin,.codicon-sync.codicon-modifier-spin{animation:codicon-spin 1.5s steps(30) infinite}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}.context-view{position:absolute;z-index:2500}.context-view.fixed{all:initial;font-family:inherit;font-size:13px;position:fixed;z-index:2500;color:inherit}.monaco-count-badge{padding:3px 6px;border-radius:11px;font-size:11px;min-width:18px;min-height:18px;line-height:11px;font-weight:400;text-align:center;display:inline-block;box-sizing:border-box}.monaco-count-badge.long{padding:2px 3px;border-radius:2px;min-height:auto;line-height:normal}.monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;height:100%;display:flex;align-items:center;justify-content:center}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}.monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{font-size:13px;width:100%}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-0 .1s linear 0s}.monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-1 .1s linear 0s}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-dark-0 .1s linear 0s}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-dark-1 .1s linear 0s}@keyframes monaco-findInput-highlight-0{0%{background:rgba(253,255,0,.8)}to{background:transparent}}@keyframes monaco-findInput-highlight-1{0%{background:rgba(253,255,0,.8)}99%{background:transparent}}@keyframes monaco-findInput-highlight-dark-0{0%{background:hsla(0,0%,100%,.44)}to{background:transparent}}@keyframes monaco-findInput-highlight-dark-1{0%{background:hsla(0,0%,100%,.44)}99%{background:transparent}}.monaco-hover{cursor:default;position:absolute;overflow:hidden;z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;box-sizing:initial;animation:fadein .1s linear;line-height:1.5em}.monaco-hover.hidden{display:none}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:500px;word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover .code,.monaco-hover p,.monaco-hover ul{margin:8px 0}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;margin:4px -8px -4px;height:1px}.monaco-hover .code:first-child,.monaco-hover p:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover .code:last-child,.monaco-hover p:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ol,.monaco-hover ul{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:pre-wrap}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .actions{display:flex;padding:0 8px}.monaco-hover .hover-row.status-bar .actions .action-container{margin-right:16px;cursor:pointer}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link,.monaco-hover .hover-contents a.code-link:hover{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:"("}.monaco-hover .hover-contents a.code-link:after{content:")"}.monaco-hover .hover-contents a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}.monaco-icon-label{display:flex;overflow:hidden;text-overflow:ellipsis}.monaco-icon-label:before{background-size:16px;background-position:0;background-repeat:no-repeat;padding-right:6px;width:16px;height:22px;line-height:inherit!important;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;flex-shrink:0}.monaco-icon-label>.monaco-icon-label-container{min-width:0;overflow:hidden;text-overflow:ellipsis;flex:1}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{margin:0 2px;opacity:.5}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;margin-left:.5em;font-size:.9em;white-space:pre}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{font-style:italic}.monaco-icon-label.deprecated{text-decoration:line-through;opacity:.66}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;font-size:90%;font-weight:600;margin:auto 16px 0 5px;text-align:center}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}.monaco-inputbox{position:relative;display:block;padding:0;box-sizing:border-box;font-size:inherit}.monaco-inputbox.idle{border:1px solid transparent}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px}.monaco-inputbox>.ibwrapper{position:relative;width:100%;height:100%}.monaco-inputbox>.ibwrapper>.input{display:inline-block;box-sizing:border-box;width:100%;height:100%;line-height:inherit;border:none;font-family:inherit;font-size:inherit;resize:none;color:inherit}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{display:block;-ms-overflow-style:none;scrollbar-width:none;outline:none}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{position:absolute;display:inline-block;width:100%;top:0;left:0;box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{display:inline-block;overflow:hidden;text-align:left;width:100%;box-sizing:border-box;padding:.4em;font-size:12px;line-height:17px;margin-top:-1px;word-wrap:break-word}.monaco-inputbox .monaco-action-bar{position:absolute;right:2px;top:4px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}.monaco-keybinding{display:flex;align-items:center;line-height:10px}.monaco-keybinding>.monaco-keybinding-key{display:inline-block;border-style:solid;border-width:1px;border-radius:3px;vertical-align:middle;font-size:11px;padding:3px 5px;margin:0 2px}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}.monaco-list{position:relative;height:100%;width:100%;white-space:nowrap}.monaco-list.mouse-support{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{position:relative;width:100%;height:100%}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{position:absolute;box-sizing:border-box;overflow:hidden;width:100%}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-multiple,.monaco-list.selection-single{outline:0!important}.monaco-drag-image{display:inline-block;padding:1px 7px;border-radius:10px;font-size:12px;position:absolute;z-index:1000}.monaco-list-type-filter{display:flex;align-items:center;position:absolute;border-radius:2px;padding:0 3px;max-width:calc(100% - 10px);text-overflow:ellipsis;overflow:hidden;text-align:right;box-sizing:border-box;cursor:all-scroll;font-size:13px;line-height:18px;height:20px;z-index:1;top:4px}.monaco-list-type-filter.dragging{transition:top .2s,left .2s}.monaco-list-type-filter.ne{right:4px}.monaco-list-type-filter.nw{left:4px}.monaco-list-type-filter>.controls{display:flex;align-items:center;box-sizing:border-box;transition:width .2s;width:0}.monaco-list-type-filter.dragging>.controls,.monaco-list-type-filter:hover>.controls{width:36px}.monaco-list-type-filter>.controls>*{border:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;background:none;width:16px;height:16px;flex-shrink:0;margin:0;padding:0;display:flex;align-items:center;justify-content:center;cursor:pointer}.monaco-list-type-filter>.controls>.filter{margin-left:4px}.monaco-list-type-filter-message{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;padding:40px 1em 1em;text-align:center;white-space:normal;opacity:.7;pointer-events:none}.monaco-list-type-filter-message:empty{display:none}.monaco-list-type-filter{cursor:grab}.monaco-list-type-filter.dragging{cursor:grabbing}.monaco-mouse-cursor-text{cursor:text}.hc-black.mac .monaco-mouse-cursor-text,.hc-black .mac .monaco-mouse-cursor-text,.vs-dark.mac .monaco-mouse-cursor-text,.vs-dark .mac .monaco-mouse-cursor-text{cursor:-webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=) 1x,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAz0lEQVRIx2NgYGBY/R8I/vx5eelX3n82IJ9FxGf6tksvf/8FiTMQAcAGQMDvSwu09abffY8QYSAScNk45G198eX//yev73/4///701eh//kZSARckrNBRvz//+8+6ZohwCzjGNjdgQxkAg7B9WADeBjIBqtJCbhRA0YNoIkBSNmaPEMoNmA0FkYNoFKhapJ6FGyAH3nauaSmPfwI0v/3OukVi0CIZ+F25KrtYcx/CTIy0e+rC7R1Z4KMICVTQQ14feVXIbR695u14+Ir4gwAAD49E54wc1kWAAAAAElFTkSuQmCC) 2x) 5 8,text}.monaco-progress-container{width:100%;height:5px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:5px;position:absolute;left:0;display:none}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{left:0;transition:width .1s linear}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:linear;transform:translateZ(0)}@keyframes progress{0%{transform:translate(0) scaleX(1)}50%{transform:translate(2500%) scaleX(3)}to{transform:translate(4900%) scaleX(1)}}:root{--sash-size:4px}.monaco-sash{position:absolute;z-index:35;touch-action:none}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;top:0;width:var(--sash-size);height:100%}.monaco-sash.horizontal{cursor:ns-resize;left:0;width:100%;height:var(--sash-size)}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--sash-size)*2);width:calc(var(--sash-size)*2);z-index:100;display:block;cursor:all-scroll;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--sash-size)*-.5);top:calc(var(--sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--sash-size)*-.5);bottom:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--sash-size)*-.5);left:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--sash-size)*-.5);right:calc(var(--sash-size)*-1)}.monaco-sash:before{content:"";pointer-events:none;position:absolute;width:100%;height:100%;transition:background-color .1s ease-out;background:transparent}.monaco-sash.vertical:before{width:var(--sash-hover-size);left:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.horizontal:before{height:var(--sash-hover-size);top:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:rgba(0,255,255,.2)}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}.monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;background:transparent;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{position:absolute;display:none}.monaco-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%;box-shadow:inset 0 6px 6px -6px #ddd}.monaco-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px;box-shadow:inset 6px 0 6px -6px #ddd}.monaco-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}.monaco-scrollable-element>.shadow.top.left{box-shadow:inset 6px 6px 6px -6px #ddd}.vs .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,39.2%,.4)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,47.5%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider{background:rgba(111,195,223,.6)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:hsla(0,0%,39.2%,.7)}.hc-black .monaco-scrollable-element>.scrollbar>.slider:hover{background:rgba(111,195,223,.8)}.monaco-scrollable-element>.scrollbar>.slider.active{background:rgba(0,0,0,.6)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active{background:hsla(0,0%,74.9%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider.active{background:#6fc3df}.vs-dark .monaco-scrollable-element .shadow.top{box-shadow:none}.vs-dark .monaco-scrollable-element .shadow.left{box-shadow:inset 6px 0 6px -6px #000}.vs-dark .monaco-scrollable-element .shadow.top.left{box-shadow:inset 6px 6px 6px -6px #000}.hc-black .monaco-scrollable-element .shadow.left,.hc-black .monaco-scrollable-element .shadow.top,.hc-black .monaco-scrollable-element .shadow.top.left{box-shadow:none}.monaco-split-view2{position:relative;width:100%;height:100%}.monaco-split-view2>.sash-container{position:absolute;width:100%;height:100%;pointer-events:none}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:auto}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{width:100%;height:100%;white-space:nowrap;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:normal;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";position:absolute;top:0;left:0;z-index:5;pointer-events:none;background-color:var(--separator-border)}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:100%;width:1px}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:1px;width:100%}.monaco-table{display:flex;flex-direction:column;position:relative;height:100%;width:100%;white-space:nowrap}.monaco-table>.monaco-split-view2{border-bottom:1px solid transparent}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{display:flex;height:100%}.monaco-table-th{width:100%;height:100%;font-weight:700;overflow:hidden;text-overflow:ellipsis}.monaco-table-td,.monaco-table-th{box-sizing:border-box;flex-shrink:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";position:absolute;left:calc(var(--sash-size)/2);width:0;border-left:1px solid transparent}.monaco-table>.monaco-split-view2,.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}.monaco-tl-row{display:flex;height:100%;align-items:center;position:relative}.monaco-tl-indent{height:100%;position:absolute;top:0;left:16px;pointer-events:none}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{display:inline-block;box-sizing:border-box;height:100%;border-left:1px solid transparent;transition:border-color .1s linear}.monaco-tl-contents,.monaco-tl-twistie{height:100%}.monaco-tl-twistie{font-size:10px;text-align:right;padding-right:6px;flex-shrink:0;width:16px;display:flex!important;align-items:center;justify-content:center;transform:translate(3px)}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:codicon-spin 1.25s steps(30) infinite}.quick-input-widget{position:absolute;width:600px;z-index:2000;padding:0 1px 1px;left:50%;margin-left:-300px}.quick-input-titlebar{display:flex;align-items:center}.quick-input-left-action-bar{display:flex;margin-left:4px;flex:1}.quick-input-title{padding:3px 0;text-align:center;text-overflow:ellipsis;overflow:hidden}.quick-input-right-action-bar{display:flex;margin-right:4px;flex:1}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px}.quick-input-header .quick-input-description{margin:4px 2px}.quick-input-header{display:flex;padding:6px 6px 0;margin-bottom:-2px}.quick-input-widget.hidden-input .quick-input-header{padding:0;margin-bottom:0}.quick-input-and-message{display:flex;flex-direction:column;flex-grow:1;min-width:0;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;position:absolute;right:4px;display:flex;align-items:center}.quick-input-count .monaco-count-badge{vertical-align:middle;padding:2px 4px;border-radius:2px;min-height:auto;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{font-size:11px;padding:0 6px;display:flex;height:27.5px;align-items:center}.quick-input-message{margin-top:-1px;padding:5px 5px 2px;overflow-wrap:break-word}.quick-input-message>.codicon{margin:0 .2em;vertical-align:text-bottom}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-progress.monaco-progress-container,.quick-input-progress.monaco-progress-container .progress-bit{height:2px}.quick-input-list{line-height:22px;margin-top:6px}.quick-input-widget.hidden-input .quick-input-list{margin-top:0}.quick-input-list .monaco-list{overflow:hidden;max-height:440px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;overflow:hidden;display:flex;height:100%;padding:0 6px}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-width:1px;border-top-style:solid}.quick-input-list .monaco-list-row[data-index="0"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{overflow:hidden;display:flex;height:100%;flex:1}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-rows{overflow:hidden;text-overflow:ellipsis;display:flex;flex-direction:column;height:100%;flex:1;margin-left:5px}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{display:flex;align-items:center}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;line-height:normal;text-overflow:ellipsis;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:8px}.quick-input-list .quick-input-list-entry-action-bar{display:flex;flex:0;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label,.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:none}.monaco-editor .inputarea{min-width:0;min-height:0;margin:0;padding:0;position:absolute;outline:none!important;resize:none;border:none;overflow:hidden;color:transparent;background-color:transparent}.monaco-editor .inputarea.ime-input{z-index:10}.monaco-editor .margin-view-overlays .current-line,.monaco-editor .view-overlays .current-line{display:block;position:absolute;left:0;top:0;box-sizing:border-box}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}.monaco-editor .lines-content .cdr{position:absolute}.monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .margin-view-overlays .cgmr{position:absolute;display:flex;align-items:center;justify-content:center}.monaco-editor .lines-content .core-guide{position:absolute}.monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;position:absolute;text-align:right;display:inline-block;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%}.monaco-editor .relative-current-line-number{text-align:left;display:inline-block;width:100%}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{position:absolute;width:100%}.monaco-editor .mtkz{display:inline-block}.monaco-editor .lines-decorations{position:absolute;top:0;background:#fff}.monaco-editor .margin-view-overlays .cldr{position:absolute;height:100%}.monaco-editor .margin-view-overlays .cmdr{position:absolute;left:0;width:100%;height:100%}.monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover .minimap-slider.active,.monaco-editor .minimap.slider-mouseover:hover .minimap-slider{opacity:1}.monaco-editor .minimap-shadow-hidden{position:absolute;width:0}.monaco-editor .minimap-shadow-visible{position:absolute;left:-6px;width:6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{position:absolute;left:-1px;width:1px}.monaco-editor .overlayWidgets{position:absolute;top:0;left:0}.monaco-editor .view-ruler{position:absolute;top:0}.monaco-editor .scroll-decoration{position:absolute;top:0;left:0;height:6px}.monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{box-sizing:border-box;background:transparent!important;border-style:solid;border-width:1px}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-width:2px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-width:1px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:monaco-cursor-smooth .5s ease-in-out 0s 20 alternate}.cursor-phase{animation:monaco-cursor-phase .5s ease-in-out 0s 20 alternate}.cursor-expand>.cursor{animation:monaco-cursor-expand .5s ease-in-out 0s 20 alternate}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:rgba(0,0,0,.03)}.monaco-diff-editor.vs-dark .diffOverview{background:hsla(0,0%,100%,.01)}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar{background:transparent}.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar{background:none}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:hsla(0,0%,67.1%,.4)}.modified-in-monaco-diff-editor.hc-black .slider.active{background:none}.monaco-diff-editor .delete-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-editor .insert-sign{font-size:11px!important;opacity:.7!important;display:flex!important;align-items:center}.monaco-diff-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-editor.hc-black .insert-sign{opacity:1}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .inline-deleted-margin-view-zone{text-align:right}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-diff-editor .diff-review-line-number{text-align:right;display:inline-block}.monaco-diff-editor .diff-review{position:absolute;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{display:table;min-width:100%}.monaco-diff-editor .diff-review-row{display:table-row;width:100%}.monaco-diff-editor .diff-review-spacer{display:inline-block;width:10px;vertical-align:middle}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{display:inline-block;position:absolute;right:10px;top:2px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{position:relative;overflow:visible;-webkit-text-size-adjust:100%}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}.monaco-editor .bracket-match{box-sizing:border-box}.monaco-editor .contentWidgets .codicon-light-bulb,.monaco-editor .contentWidgets .codicon-lightbulb-autofix{display:flex;align-items:center;justify-content:center}.monaco-editor .contentWidgets .codicon-light-bulb:hover,.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover{cursor:pointer}.monaco-editor .codelens-decoration{overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{user-select:none;-webkit-user-select:none;-ms-user-select:none;white-space:nowrap;vertical-align:sub}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration .codicon{vertical-align:middle;color:currentColor!important}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{animation:fadein .1s linear}.colorpicker-widget{height:190px;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .colorpicker-hover:focus{outline:none}.colorpicker-header{display:flex;height:24px;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-header .picked-color{width:216px;line-height:24px;cursor:pointer;color:#fff;flex:1;text-align:center}.colorpicker-header .picked-color.light{color:#000}.colorpicker-header .original-color{width:74px;z-index:inherit;cursor:pointer}.colorpicker-body{display:flex;padding:8px;position:relative}.colorpicker-body .saturation-wrap{overflow:hidden;height:150px;position:relative;min-width:220px;flex:1}.colorpicker-body .saturation-box{height:150px;position:absolute}.colorpicker-body .saturation-selection{width:9px;height:9px;margin:-5px 0 0 -5px;border:1px solid #fff;border-radius:100%;box-shadow:0 0 2px #000c;position:absolute}.colorpicker-body .strip{width:25px;height:150px}.colorpicker-body .hue-strip{position:relative;margin-left:8px;cursor:grab;background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.colorpicker-body .opacity-strip{position:relative;margin-left:8px;cursor:grab;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-body .strip.grabbing{cursor:grabbing}.colorpicker-body .slider{position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:4px;box-sizing:border-box;border:1px solid hsla(0,0%,100%,.71);box-shadow:0 0 1px #000000d9}.colorpicker-body .strip .overlay{height:150px;pointer-events:none}.monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}.monaco-editor .find-widget{position:absolute;z-index:35;height:33px;overflow:hidden;line-height:19px;transition:transform .2s linear;padding:0 4px;box-sizing:border-box;transform:translateY(calc(-100% - 10px))}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{margin:4px 0 0 17px;font-size:12px;display:flex}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-top:2px;padding-bottom:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{height:25px;display:flex;align-items:center}.monaco-editor .find-widget .monaco-findInput{vertical-align:middle;display:flex;flex:1}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{display:flex;flex:initial;margin:0 0 0 3px;padding:2px 0 0 2px;height:25px;vertical-align:middle;box-sizing:border-box;text-align:center;line-height:23px}.monaco-editor .find-widget .button{width:16px;height:16px;padding:3px;border-radius:5px;flex:initial;margin-left:3px;background-position:50%;background-repeat:no-repeat;cursor:pointer;display:flex;align-items:center;justify-content:center}.monaco-editor .find-widget .codicon-find-selection{width:22px;height:22px;padding:3px;border-radius:5px}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{width:auto;padding:1px 6px;top:-1px}.monaco-editor .find-widget .button.toggle{position:absolute;top:0;left:3px;width:18px;height:100%;border-radius:0;box-sizing:border-box}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{opacity:.3;cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{position:relative;display:flex;vertical-align:middle;flex:auto;flex-grow:0;flex-shrink:0}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .findMatch{animation-duration:0;animation-name:inherit!important}.monaco-editor .find-widget .monaco-sash{left:0!important}.monaco-editor.hc-black .find-widget .button:before{position:relative;top:1px;left:2px}.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded{cursor:pointer;opacity:0;transition:opacity .5s;display:flex;align-items:center;justify-content:center;font-size:140%;margin-left:2px}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:gray;margin:.1em .2em 0;content:"\\22ef";display:inline;line-height:1em;cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;vertical-align:text-top;margin-right:4px}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{opacity:.6;font-style:italic}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{position:absolute;white-space:pre;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:8px 12px 0 20px}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{opacity:.6;color:inherit}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-editor .marker-widget .descriptioncontainer .filename{cursor:pointer}.monaco-editor .goto-definition-link{text-decoration:underline;cursor:pointer}.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget{border-top-width:1px;border-bottom-width:1px}.monaco-editor .reference-zone-widget .inline{display:inline-block;vertical-align:top}.monaco-editor .reference-zone-widget .messages{height:100%;width:100%;text-align:center;padding:3em 0}.monaco-editor .reference-zone-widget .ref-tree{line-height:23px}.monaco-editor .reference-zone-widget .ref-tree .reference{text-overflow:ellipsis;overflow:hidden}.monaco-editor .reference-zone-widget .ref-tree .reference-file{display:inline-flex;width:100%;height:100%}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file{color:inherit!important}.monaco-editor .reference-zone-widget .ref-tree .reference-file .count{margin-right:12px;margin-left:auto}.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file{font-weight:700}.monaco-editor .suggest-preview-additional-widget{white-space:nowrap}.monaco-editor .suggest-preview-additional-widget .content-spacer{color:transparent;white-space:pre}.monaco-editor .suggest-preview-additional-widget .button{display:inline-block;cursor:pointer;text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-hidden{opacity:0;font-size:0}.monaco-editor .ghost-text-decoration,.monaco-editor .suggest-preview-text{font-style:italic}.monaco-editor .detected-link,.monaco-editor .detected-link-active{text-decoration:underline;text-underline-position:under}.monaco-editor .detected-link-active{cursor:pointer}.monaco-editor .monaco-editor-overlaymessage{padding-bottom:8px;z-index:10000}.monaco-editor .monaco-editor-overlaymessage.below{padding-bottom:0;padding-top:8px;z-index:10000}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.monaco-editor .monaco-editor-overlaymessage.fadeIn{animation:fadeIn .15s ease-out}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.monaco-editor .monaco-editor-overlaymessage.fadeOut{animation:fadeOut .1s ease-out}.monaco-editor .monaco-editor-overlaymessage .message{padding:1px 4px}.monaco-editor .monaco-editor-overlaymessage .anchor{width:0!important;height:0!important;z-index:1000;border:8px solid transparent;position:absolute}.monaco-editor .monaco-editor-overlaymessage.below .anchor.below,.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top{display:none}.monaco-editor .monaco-editor-overlaymessage.below .anchor.top{display:inherit;top:-8px}.monaco-editor .parameter-hints-widget{z-index:10;display:flex;flex-direction:column;line-height:1.5em}.monaco-editor .parameter-hints-widget>.phwrapper{max-width:440px;display:flex;flex-direction:row}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.visible{transition:left .05s ease-in-out}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs .markdown-docs code{font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .docs .code{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs code{border-radius:3px;padding:0 .4em}.monaco-editor .parameter-hints-widget .controls{display:none;flex-direction:column;align-items:center;min-width:22px;justify-content:flex-end}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{width:16px;height:16px;background-repeat:no-repeat;cursor:pointer}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{text-align:center;height:12px;line-height:12px;opacity:.5;font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .signature .parameter.active{font-weight:700;text-decoration:underline}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}.monaco-editor .peekview-widget .head{box-sizing:border-box;display:flex}.monaco-editor .peekview-widget .head .peekview-title{display:flex;align-items:center;font-size:13px;margin-left:20px;min-width:0}.monaco-editor .peekview-widget .head .peekview-title.clickable{cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty){font-size:.9em;margin-left:.5em}.monaco-editor .peekview-widget .head .peekview-title .dirname,.monaco-editor .peekview-widget .head .peekview-title .meta{white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .filename{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty):before{content:"-";padding:0 .3em}.monaco-editor .peekview-widget .head .peekview-actions{flex:1;text-align:right;padding-right:2px}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar{display:inline-block}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar,.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar>.actions-container{height:100%}.monaco-editor .peekview-widget>.body{border-top:1px solid;position:relative}.monaco-editor .peekview-widget .head .peekview-title .codicon{margin-right:4px}.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon{color:inherit!important}.monaco-editor .rename-box{z-index:100;color:inherit}.monaco-editor .rename-box.preview{padding:3px 3px 0}.monaco-editor .rename-box .rename-input{padding:3px;width:calc(100% - 6px)}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}.monaco-editor .snippet-placeholder{min-width:2px}.monaco-editor .finish-snippet-placeholder,.monaco-editor .snippet-placeholder{outline-style:solid;outline-width:1px}.monaco-editor .suggest-widget{width:430px;z-index:40;display:flex;flex-direction:column}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-details,.monaco-editor .suggest-widget{flex:0 1 auto;width:100%;border-style:solid;border-width:1px}.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-black .suggest-widget{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;display:none;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:80%;padding:0 4px;border-top:1px solid transparent;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{opacity:.5;color:inherit}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:", ";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{height:100%;width:100%}.monaco-editor .suggest-widget .monaco-list{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{display:flex;-mox-box-sizing:border-box;box-sizing:border-box;padding-right:10px;background-repeat:no-repeat;background-position:2px 2px;white-space:nowrap;cursor:pointer;touch-action:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;overflow:hidden;padding-left:2px}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:pre;justify-content:space-between}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;font-size:14px;cursor:pointer}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{overflow:hidden;text-overflow:ellipsis;opacity:.6}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{margin-left:12px;opacity:.4;font-size:85%;line-height:normal;text-overflow:ellipsis;overflow:hidden;align-self:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{font-size:85%;margin-left:1.1em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-shrink:1;flex-grow:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{overflow:hidden;flex-shrink:4;max-width:70%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:inline-block;position:absolute;right:10px;width:18px;height:18px;visibility:hidden}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{display:block;height:16px;width:16px;margin-left:2px;background-repeat:no-repeat;background-size:80%;background-position:50%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{display:flex;align-items:center;margin-right:4px}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{margin:0 0 0 .3em;border:.1em solid #000;width:.7em;height:.7em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{display:flex;flex-direction:column;cursor:default}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;height:100%;width:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{flex:2;overflow:hidden;text-overflow:ellipsis;opacity:.7;white-space:pre;margin:0 24px 0 0;padding:4px 0 12px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{margin:0;padding:4px 5px;white-space:pre-wrap}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{padding:0;white-space:normal;min-height:calc(1rem + 8px)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ol,.monaco-editor .suggest-details ul{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}.monaco-editor .zone-widget{position:absolute;z-index:10}.monaco-editor .zone-widget .zone-widget-container{border-top-style:solid;border-bottom-style:solid;border-top-width:0;border-bottom-width:0;position:relative}.monaco-editor .accessibilityHelpWidget{padding:10px;vertical-align:middle;overflow:scroll}.monaco-editor .iPadShowKeyboard{width:58px;min-width:0;height:36px;min-height:0;margin:0;padding:0;position:absolute;resize:none;overflow:hidden;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iIzQyNDI0MiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iI0M1QzVDNSIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #252526}.monaco-editor .tokens-inspect-widget{z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:10px}.tokens-inspect-separator{height:1px;border:0}.monaco-editor .tokens-inspect-widget .tm-token{font-family:var(--monaco-monospace-font)}.monaco-editor .tokens-inspect-widget .tm-token-length{font-weight:400;font-size:60%;float:right}.monaco-editor .tokens-inspect-widget .tm-metadata-table{width:100%}.monaco-editor .tokens-inspect-widget .tm-metadata-value{font-family:var(--monaco-monospace-font);text-align:right}.monaco-editor .tokens-inspect-widget .tm-token-type{font-family:var(--monaco-monospace-font)}.quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.monaco-keybinding>.monaco-keybinding-key{background-color:#ddd6;border:1px solid hsla(0,0%,80%,.4);border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6;color:#555}.hc-black .monaco-keybinding>.monaco-keybinding-key{background-color:transparent;border:1px solid #6fc3df;box-shadow:none;color:#fff}.vs-dark .monaco-keybinding>.monaco-keybinding-key{background-color:#8080802b;border:1px solid rgba(51,51,51,.6);border-bottom-color:#4449;box-shadow:inset 0 -1px #4449;color:#ccc}.monaco-editor{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif;--monaco-monospace-font:"SF Mono",Monaco,Menlo,Consolas,"Ubuntu Mono","Liberation Mono","DejaVu Sans Mono","Courier New",monospace}.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{position:absolute!important;top:0;height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;clip:rect(1px,1px,1px,1px);clip-path:inset(50%)}.monaco-editor.hc-black{-ms-high-contrast-adjust:none}@media screen and (-ms-high-contrast:active){.monaco-editor.vs-dark .view-overlays .current-line,.monaco-editor.vs .view-overlays .current-line{border-color:windowtext!important;border-left:0;border-right:0}.monaco-editor.vs-dark .cursor,.monaco-editor.vs .cursor{background-color:windowtext!important}.monaco-editor.vs-dark .dnd-target,.monaco-editor.vs .dnd-target{border-color:windowtext!important}.monaco-editor.vs-dark .selected-text,.monaco-editor.vs .selected-text{background-color:highlight!important}.monaco-editor.vs-dark .view-line,.monaco-editor.vs .view-line{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .view-line span,.monaco-editor.vs .view-line span{color:windowtext!important}.monaco-editor.vs-dark .view-line span.inline-selected-text,.monaco-editor.vs .view-line span.inline-selected-text{color:highlighttext!important}.monaco-editor.vs-dark .view-overlays,.monaco-editor.vs .view-overlays{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .reference-decoration,.monaco-editor.vs-dark .selectionHighlight,.monaco-editor.vs-dark .wordHighlight,.monaco-editor.vs-dark .wordHighlightStrong,.monaco-editor.vs .reference-decoration,.monaco-editor.vs .selectionHighlight,.monaco-editor.vs .wordHighlight,.monaco-editor.vs .wordHighlightStrong{border:2px dotted highlight!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .rangeHighlight,.monaco-editor.vs .rangeHighlight{background:transparent!important;border:1px dotted activeborder!important;box-sizing:border-box}.monaco-editor.vs-dark .bracket-match,.monaco-editor.vs .bracket-match{border-color:windowtext!important;background:transparent!important}.monaco-editor.vs-dark .currentFindMatch,.monaco-editor.vs-dark .findMatch,.monaco-editor.vs .currentFindMatch,.monaco-editor.vs .findMatch{border:2px dotted activeborder!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .find-widget,.monaco-editor.vs .find-widget{border:1px solid windowtext}.monaco-editor.vs-dark .monaco-list .monaco-list-row,.monaco-editor.vs .monaco-list .monaco-list-row{-ms-high-contrast-adjust:none;color:windowtext!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused,.monaco-editor.vs .monaco-list .monaco-list-row.focused{color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover,.monaco-editor.vs .monaco-list .monaco-list-row:hover{background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar,.monaco-editor.vs .monaco-scrollable-element>.scrollbar{-ms-high-contrast-adjust:none;background:background!important;border:1px solid windowtext;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider{background:windowtext!important}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider:hover,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider:hover{background:highlight!important}.monaco-editor.vs-dark .decorationsOverviewRuler,.monaco-editor.vs .decorationsOverviewRuler{opacity:0}.monaco-editor.vs-dark .minimap,.monaco-editor.vs .minimap{display:none}.monaco-editor.vs-dark .squiggly-d-error,.monaco-editor.vs .squiggly-d-error{background:transparent!important;border-bottom:4px double #e47777}.monaco-editor.vs-dark .squiggly-b-info,.monaco-editor.vs-dark .squiggly-c-warning,.monaco-editor.vs .squiggly-b-info,.monaco-editor.vs .squiggly-c-warning{border-bottom:4px double #71b771}.monaco-editor.vs-dark .squiggly-a-hint,.monaco-editor.vs .squiggly-a-hint{border-bottom:4px double #6c6c6c}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{-ms-high-contrast-adjust:none;color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label{-ms-high-contrast-adjust:none;background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-diff-editor.vs-dark .diffOverviewRuler,.monaco-diff-editor.vs .diffOverviewRuler{display:none}.monaco-editor.vs-dark .line-delete,.monaco-editor.vs-dark .line-insert,.monaco-editor.vs .line-delete,.monaco-editor.vs .line-insert{background:transparent!important;border:1px solid highlight!important;box-sizing:border-box}.monaco-editor.vs-dark .char-delete,.monaco-editor.vs-dark .char-insert,.monaco-editor.vs .char-delete,.monaco-editor.vs .char-insert{background:transparent!important}}.monaco-action-bar .action-item.menu-entry .action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-action-bar .action-item.menu-entry .action-label,.vs-dark .monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-dark)}.monaco-dropdown-with-default{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-dropdown-with-default>.action-container.menu-entry>.action-label,.vs-dark .monaco-dropdown-with-default>.action-container.menu-entry>.action-label{background-image:var(--menu-entry-icon-dark)}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}.context-view .monaco-menu{min-width:130px}
`;function fa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ro(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function so(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ro(Object(n),!0).forEach(function(i){fa(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pa(t,e){return ga(t)||ma(t,e)||ba(t,e)||wa()}function ga(t){if(Array.isArray(t))return t}function ma(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],i=!0,o=!1,r=void 0;try{for(var s=t[Symbol.iterator](),a;!(i=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(d){o=!0,r=d}finally{try{!i&&s.return!=null&&s.return()}finally{if(o)throw r}}return n}}function ba(t,e){if(!!t){if(typeof t=="string")return ao(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(t,e)}}function ao(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function wa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lo(Object(n),!0).forEach(function(i){xa(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){return e.reduceRight(function(o,r){return r(o)},i)}}function ht(t){return function e(){for(var n=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return o.length>=t.length?t.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),d=0;d<s;d++)a[d]=arguments[d];return e.apply(n,[].concat(o,a))}}}function Gt(t){return{}.toString.call(t).includes("Object")}function ya(t){return!Object.keys(t).length}function ut(t){return typeof t=="function"}function ka(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function va(t,e){return Gt(e)||ye("changeType"),Object.keys(e).some(function(n){return!ka(t,n)})&&ye("changeField"),e}function Aa(t){ut(t)||ye("selectorType")}function Da(t){ut(t)||Gt(t)||ye("handlerType"),Gt(t)&&Object.values(t).some(function(e){return!ut(e)})&&ye("handlersType")}function Sa(t){t||ye("initialIsRequired"),Gt(t)||ye("initialType"),ya(t)&&ye("initialContent")}function Ea(t,e){throw new Error(t[e]||t.default)}var Ca={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ye=ht(Ea)(Ca),Yt={changes:va,selector:Aa,handler:Da,initial:Sa};function Ma(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yt.initial(t),Yt.handler(e);var n={current:t},i=ht(za)(n,e),o=ht(Na)(n),r=ht(Yt.changes)(t),s=ht(Ia)(n);function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return Yt.selector(l),l(n.current)}function d(l){_a(i,o,r,s)(l)}return[a,d]}function Ia(t,e){return ut(e)?e(t.current):e}function Na(t,e){return t.current=co(co({},t.current),e),e}function za(t,e,n){return ut(e)?e(t.current):Object.keys(n).forEach(function(i){var o;return(o=e[i])===null||o===void 0?void 0:o.call(e,t.current[i])}),n}var Ta={create:Ma},Ra={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.28.1/min/vs"}};function Oa(t){return function e(){for(var n=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return o.length>=t.length?t.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),d=0;d<s;d++)a[d]=arguments[d];return e.apply(n,[].concat(o,a))}}}function La(t){return{}.toString.call(t).includes("Object")}function Ua(t){return t||uo("configIsRequired"),La(t)||uo("configType"),t.urls?(ja(),{paths:{vs:t.urls.monacoBase}}):t}function ja(){console.warn(ho.deprecation)}function Fa(t,e){throw new Error(t[e]||t.default)}var ho={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},uo=Oa(Fa)(ho),Za={config:Ua},Ba=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(o){return n.reduceRight(function(r,s){return s(r)},o)}};function fo(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],fo(t[n],e[n]))}),so(so({},t),e)}var $a={type:"cancelation",msg:"operation is manually canceled"};function po(t){var e=!1,n=new Promise(function(i,o){t.then(function(r){return e?o($a):i(r)}),t.catch(o)});return n.cancel=function(){return e=!0},n}var qa=Ta.create({config:Ra,isInitialized:!1,resolve:null,reject:null,monaco:null}),go=pa(qa,2),ft=go[0],Qt=go[1];function Va(t){Qt(function(e){return{config:fo(e.config,Za.config(t))}})}function Ha(){var t=ft(function(e){var n=e.isInitialized;return{isInitialized:n}});if(!t.isInitialized){if(window.monaco&&window.monaco.editor)return mo(window.monaco),po(Promise.resolve(window.monaco));Ba(Pa,Ya)(Qa),Qt({isInitialized:!0})}return po(Ja)}function Pa(t){return document.body.appendChild(t)}function Ga(t){var e=document.createElement("script");return t&&(e.src=t),e}function Ya(t){var e=ft(function(i){var o=i.config,r=i.reject;return{config:o,reject:r}}),n=Ga("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Qa(){var t=ft(function(n){var i=n.config,o=n.resolve,r=n.reject;return{config:i,resolve:o,reject:r}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){mo(n),t.resolve(n)},function(n){t.reject(n)})}function mo(t){ft().monaco||Qt({monaco:t})}function Wa(){return ft(function(t){var e=t.monaco;return e})}var Ja=new Promise(function(t,e){return Qt({resolve:t,reject:e})}),bo={config:Va,init:Ha,__getMonacoInstance:Wa};const se=()=>new Map,Wt=t=>{const e=se();return t.forEach((n,i)=>{e.set(i,n)}),e},ke=(t,e,n)=>{let i=t.get(e);return i===void 0&&t.set(e,i=n()),i},Ka=(t,e)=>{const n=[];for(const[i,o]of t)n.push(e(o,i));return n},Xa=(t,e)=>{for(const[n,i]of t)if(e(i,n))return!0;return!1},pt=()=>new Set,Vn=t=>t[t.length-1],el=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},wo=Array.from;class tl{constructor(){this._observers=se()}on(e,n){ke(this._observers,e,pt).add(n)}once(e,n){const i=(...o)=>{this.off(e,i),n(...o)};this.on(e,i)}off(e,n){const i=this._observers.get(e);i!==void 0&&(i.delete(n),i.size===0&&this._observers.delete(e))}emit(e,n){return wo((this._observers.get(e)||se()).values()).forEach(i=>i(...n))}destroy(){this._observers=se()}}const Jt=Math.floor,Hn=Math.abs,xo=(t,e)=>t<e?t:e,Re=(t,e)=>t>e?t:e,_o=t=>t!==0?t<0:1/t<0,nl=t=>t.toLowerCase(),il=/^\s*/g,ol=t=>t.replace(il,""),rl=/([A-Z])/g,yo=(t,e)=>ol(t.replace(rl,n=>`${e}${nl(n)}`));typeof TextEncoder!="undefined"&&new TextEncoder;let Pn=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Pn&&Pn.decode(new Uint8Array).length===1&&(Pn=null);const ko=t=>t===void 0?null:t;class sl{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let vo=new sl,al=!0;try{typeof localStorage!="undefined"&&(vo=localStorage,al=!1)}catch(t){}const ll=vo,Gn=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name);typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let ae;const cl=()=>{if(ae===void 0)if(Gn){ae=se();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const i=t[n];i[0]==="-"?(e!==null&&ae.set(e,""),e=i):e!==null&&(ae.set(e,i),e=null)}e!==null&&ae.set(e,"")}else typeof location=="object"?(ae=se(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");ae.set(`--${yo(e,"-")}`,n),ae.set(`-${yo(e,"-")}`,n)}})):ae=se();return ae},dl=t=>cl().has(t),hl=t=>ko(Gn?process.env[t.toUpperCase()]:ll.getItem(t)),ul=t=>dl("--"+t)||hl(t)!==null;ul("production");const Ao=1,Do=2,Yn=4,Qn=8,gt=32,ge=64,Q=128,Kt=31,Wn=63,Oe=127,fl=2147483647;class Xt{constructor(e){this.arr=e,this.pos=0}}const Pe=t=>new Xt(t),pl=t=>t.pos!==t.arr.length,gl=(t,e)=>{const n=ei(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},J=t=>gl(t,S(t)),Ge=t=>t.arr[t.pos++],S=t=>{let e=0,n=0;for(;;){const i=t.arr[t.pos++];if(e=e|(i&Oe)<<n,n+=7,i<Q)return e>>>0;if(n>35)throw new Error("Integer out of range!")}},Jn=t=>{let e=t.arr[t.pos++],n=e&Wn,i=6;const o=(e&ge)>0?-1:1;if((e&Q)==0)return o*n;for(;;){if(e=t.arr[t.pos++],n=n|(e&Oe)<<i,i+=7,e<Q)return o*(n>>>0);if(i>41)throw new Error("Integer out of range!")}},Ye=t=>{let e=S(t);if(e===0)return"";{let n=String.fromCodePoint(Ge(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Ge(t));else for(;e>0;){const i=e<1e4?e:1e4,o=t.arr.subarray(t.pos,t.pos+i);t.pos+=i,n+=String.fromCodePoint.apply(null,o),e-=i}return decodeURIComponent(escape(n))}},Kn=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},ml=t=>Kn(t,4).getFloat32(0,!1),bl=t=>Kn(t,8).getFloat64(0,!1),wl=t=>Kn(t,8).getBigInt64(0,!1),xl=[t=>{},t=>null,Jn,ml,bl,wl,t=>!1,t=>!0,Ye,t=>{const e=S(t),n={};for(let i=0;i<e;i++){const o=Ye(t);n[o]=mt(t)}return n},t=>{const e=S(t),n=[];for(let i=0;i<e;i++)n.push(mt(t));return n},J],mt=t=>xl[127-Ge(t)](t);class So extends Xt{constructor(e,n){super(e);this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),pl(this)?this.count=S(this)+1:this.count=-1),this.count--,this.s}}class en extends Xt{constructor(e){super(e);this.s=0,this.count=0}read(){if(this.count===0){this.s=Jn(this);const e=_o(this.s);this.count=1,e&&(this.s=-this.s,this.count=S(this)+2)}return this.count--,this.s}}class Xn extends Xt{constructor(e){super(e);this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Jn(this),n=e&1;this.diff=e>>1,this.count=1,n&&(this.count=S(this)+2)}return this.s+=this.diff,this.count--,this.s}}class _l{constructor(e){this.decoder=new en(e),this.str=Ye(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const yl=t=>new Uint8Array(t),ei=(t,e,n)=>new Uint8Array(t,e,n),kl=t=>{const e=yl(t.byteLength);return e.set(t),e},vl=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Jt(t)===t);class bt{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const tn=()=>new bt,Al=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},le=t=>{const e=new Uint8Array(Al(t));let n=0;for(let i=0;i<t.bufs.length;i++){const o=t.bufs[i];e.set(o,n),n+=o.length}return e.set(ei(t.cbuf.buffer,0,t.cpos),n),e},Dl=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(ei(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Re(n,e)*2),t.cpos=0)},$=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},ti=$,N=(t,e)=>{for(;e>Oe;)$(t,Q|Oe&e),e>>>=7;$(t,Oe&e)},ni=(t,e)=>{const n=_o(e);for(n&&(e=-e),$(t,(e>Wn?Q:0)|(n?ge:0)|Wn&e),e>>>=6;e>0;)$(t,(e>Oe?Q:0)|Oe&e),e>>>=7},Qe=(t,e)=>{const n=unescape(encodeURIComponent(e)),i=n.length;N(t,i);for(let o=0;o<i;o++)$(t,n.codePointAt(o))},nn=(t,e)=>{const n=t.cbuf.length,i=t.cpos,o=xo(n-i,e.length),r=e.length-o;t.cbuf.set(e.subarray(0,o),i),t.cpos+=o,r>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Re(n*2,r)),t.cbuf.set(e.subarray(o)),t.cpos=r)},K=(t,e)=>{N(t,e.byteLength),nn(t,e)},ii=(t,e)=>{Dl(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},Sl=(t,e)=>ii(t,4).setFloat32(0,e,!1),El=(t,e)=>ii(t,8).setFloat64(0,e,!1),Cl=(t,e)=>ii(t,8).setBigInt64(0,e,!1),Eo=new DataView(new ArrayBuffer(4)),Ml=t=>(Eo.setFloat32(0,t),Eo.getFloat32(0)===t),wt=(t,e)=>{switch(typeof e){case"string":$(t,119),Qe(t,e);break;case"number":vl(e)&&e<=fl?($(t,125),ni(t,e)):Ml(e)?($(t,124),Sl(t,e)):($(t,123),El(t,e));break;case"bigint":$(t,122),Cl(t,e);break;case"object":if(e===null)$(t,126);else if(e instanceof Array){$(t,117),N(t,e.length);for(let n=0;n<e.length;n++)wt(t,e[n])}else if(e instanceof Uint8Array)$(t,116),K(t,e);else{$(t,118);const n=Object.keys(e);N(t,n.length);for(let i=0;i<n.length;i++){const o=n[i];Qe(t,o),wt(t,e[o])}}break;case"boolean":$(t,e?120:121);break;default:$(t,127)}};class Co extends bt{constructor(e){super();this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&N(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Mo=t=>{t.count>0&&(ni(t.encoder,t.count===1?t.s:-t.s),t.count>1&&N(t.encoder,t.count-2))};class on{constructor(){this.encoder=new bt,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Mo(this),this.count=1,this.s=e)}toUint8Array(){return Mo(this),le(this.encoder)}}const Io=t=>{if(t.count>0){const e=t.diff<<1|(t.count===1?0:1);ni(t.encoder,e),t.count>1&&N(t.encoder,t.count-2)}};class oi{constructor(){this.encoder=new bt,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Io(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Io(this),le(this.encoder)}}class Il{constructor(){this.sarr=[],this.s="",this.lensE=new on}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new bt;return this.sarr.push(this.s),this.s="",Qe(e,this.sarr.join("")),nn(e,this.lensE.toUint8Array()),le(e)}}const No=typeof crypto=="undefined"?null:crypto,Nl=No!==null?t=>{const e=new ArrayBuffer(t),n=new Uint8Array(e);return No.getRandomValues(n),e}:t=>{const e=new ArrayBuffer(t),n=new Uint8Array(e);for(let i=0;i<t;i++)n[i]=Math.ceil(Math.random()*4294967295>>>0);return e},zo=()=>new Uint32Array(Nl(4))[0],zl=[1e7]+-1e3+-4e3+-8e3+-1e11,Tl=()=>zl.replace(/[018]/g,t=>(t^zo()&15>>t/4).toString(16)),rn=t=>new Error(t),ce=()=>{throw rn("Method unimplemented")},ie=()=>{throw rn("Unexpected case")},Rl=Object.keys,To=t=>Rl(t).length,Ol=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},Ll=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ul=(t,e)=>t===e||To(t)===To(e)&&Ol(t,(n,i)=>(n!==void 0||Ll(e,i))&&e[i]===n),ri=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&ri(t,e,n+1)}},me=Symbol;class jl{constructor(e,n){this.left=e,this.right=n}}const be=(t,e)=>new jl(t,e),Le=typeof document!="undefined"?document:{};typeof DOMParser!="undefined"&&new DOMParser;const Fl=t=>Ka(t,(e,n)=>`${n}:${e};`).join("");Le.ELEMENT_NODE;Le.TEXT_NODE;Le.CDATA_SECTION_NODE;Le.COMMENT_NODE;Le.DOCUMENT_NODE;Le.DOCUMENT_TYPE_NODE;Le.DOCUMENT_FRAGMENT_NODE;const mf=Date.now,si=me(),ai=me(),Ro=me(),Oo=me(),Lo=me(),li=me(),Uo=me(),ci=me(),jo=me(),Zl={[si]:be("font-weight","bold"),[ai]:be("font-weight","normal"),[Ro]:be("color","blue"),[Lo]:be("color","green"),[Oo]:be("color","grey"),[li]:be("color","red"),[Uo]:be("color","purple"),[ci]:be("color","orange"),[jo]:be("color","black")},Bl={[si]:"[1m",[ai]:"[2m",[Ro]:"[34m",[Lo]:"[32m",[Oo]:"[37m",[li]:"[31m",[Uo]:"[35m",[ci]:"[38;5;208m",[jo]:"[0m"},$l=t=>{const e=[],n=[],i=se();let o=[],r=0;for(;r<t.length;r++){const s=t[r],a=Zl[s];if(a!==void 0)i.set(a.left,a.right);else if(s.constructor===String||s.constructor===Number){const d=Fl(i);r>0||d.length>0?(e.push("%c"+s),n.push(d)):e.push(s)}else break}for(r>0&&(o=n,o.unshift(e.join("")));r<t.length;r++){const s=t[r];s instanceof Symbol||o.push(s)}return o},ql=t=>{const e=[],n=[];let i=0;for(;i<t.length;i++){const o=t[i],r=Bl[o];if(r!==void 0)e.push(r);else if(o.constructor===String||o.constructor===Number)e.push(o);else break}for(i>0&&(e.push("[0m"),n.push(e.join("")));i<t.length;i++){const o=t[i];o instanceof Symbol||n.push(o)}return n},Vl=Gn?ql:$l,Hl=(...t)=>{console.log(...Vl(t)),Pl.forEach(e=>e.print(t))},Pl=new Set,Fo=t=>({[Symbol.iterator](){return this},next:t}),Gl=(t,e)=>Fo(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),di=(t,e)=>Fo(()=>{const{done:n,value:i}=t.next();return{done:n,value:n?void 0:e(i)}});class hi{constructor(e,n){this.clock=e,this.len=n}}class xt{constructor(){this.clients=new Map}}const ui=(t,e,n)=>e.clients.forEach((i,o)=>{const r=t.doc.store.clients.get(o);for(let s=0;s<i.length;s++){const a=i[s];or(t,r,a.clock,a.len,n)}}),Yl=(t,e)=>{let n=0,i=t.length-1;for(;n<=i;){const o=Jt((n+i)/2),r=t[o],s=r.clock;if(s<=e){if(e<s+r.len)return o;n=o+1}else i=o-1}return null},Zo=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&Yl(n,e.clock)!==null},fi=t=>{t.clients.forEach(e=>{e.sort((o,r)=>o.clock-r.clock);let n,i;for(n=1,i=1;n<e.length;n++){const o=e[i-1],r=e[n];o.clock+o.len>=r.clock?o.len=Re(o.len,r.clock+r.len-o.clock):(i<n&&(e[i]=r),i++)}e.length=i})},Ql=t=>{const e=new xt;for(let n=0;n<t.length;n++)t[n].clients.forEach((i,o)=>{if(!e.clients.has(o)){const r=i.slice();for(let s=n+1;s<t.length;s++)el(r,t[s].clients.get(o)||[]);e.clients.set(o,r)}});return fi(e),e},sn=(t,e,n,i)=>{ke(t.clients,e,()=>[]).push(new hi(n,i))},Bo=()=>new xt,Wl=t=>{const e=Bo();return t.clients.forEach((n,i)=>{const o=[];for(let r=0;r<n.length;r++){const s=n[r];if(s.deleted){const a=s.id.clock;let d=s.length;if(r+1<n.length)for(let l=n[r+1];r+1<n.length&&l.deleted;l=n[++r+1])d+=l.length;o.push(new hi(a,d))}}o.length>0&&e.clients.set(i,o)}),e},We=(t,e)=>{N(t.restEncoder,e.clients.size),e.clients.forEach((n,i)=>{t.resetDsCurVal(),N(t.restEncoder,i);const o=n.length;N(t.restEncoder,o);for(let r=0;r<o;r++){const s=n[r];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},pi=t=>{const e=new xt,n=S(t.restDecoder);for(let i=0;i<n;i++){t.resetDsCurVal();const o=S(t.restDecoder),r=S(t.restDecoder);if(r>0){const s=ke(e.clients,o,()=>[]);for(let a=0;a<r;a++)s.push(new hi(t.readDsClock(),t.readDsLen()))}}return e},$o=(t,e,n)=>{const i=new xt,o=S(t.restDecoder);for(let r=0;r<o;r++){t.resetDsCurVal();const s=S(t.restDecoder),a=S(t.restDecoder),d=n.clients.get(s)||[],l=j(n,s);for(let c=0;c<a;c++){const p=t.readDsClock(),u=p+t.readDsLen();if(p<l){l<u&&sn(i,s,l,u-l);let h=de(d,p),g=d[h];for(!g.deleted&&g.id.clock<p&&(d.splice(h+1,0,vn(e,g,p-g.id.clock)),h++);h<d.length&&(g=d[h++],g.id.clock<u);)g.deleted||(u<g.id.clock+g.length&&d.splice(h,0,vn(e,g,u-g.id.clock)),g.delete(e))}else sn(i,s,p,u-p)}}if(i.clients.size>0){const r=new Ue;return N(r.restEncoder,0),We(r,i),r.toUint8Array()}return null},qo=zo;class Je extends tl{constructor({guid:e=Tl(),gc:n=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:r=!1}={}){super();this.gc=n,this.gcFilter=i,this.clientID=qo(),this.guid=e,this.share=new Map,this.store=new tr,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=r,this.autoLoad=r,this.meta=o}load(){const e=this._item;e!==null&&!this.shouldLoad&&R(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,n=null){R(this,e,n)}get(e,n=H){const i=ke(this.share,e,()=>{const r=new n;return r._integrate(this,null),r}),o=i.constructor;if(n!==H&&o!==n)if(o===H){const r=new n;r._map=i._map,i._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=r}),r._start=i._start;for(let s=r._start;s!==null;s=s.right)s.parent=r;return r._length=i._length,this.share.set(e,r),r._integrate(this,null),r}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return i}getArray(e=""){return this.get(e,et)}getText(e=""){return this.get(e,it)}getMap(e=""){return this.get(e,tt)}getXmlFragment(e=""){return this.get(e,je)}toJSON(){const e={};return this.share.forEach((n,i)=>{e[i]=n.toJSON()}),e}destroy(){wo(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;e.deleted?n.doc=null:(n.doc=new Je(qn({guid:this.guid},n.opts)),n.doc._item=e),R(e.parent.doc,i=>{e.deleted||i.subdocsAdded.add(n.doc),i.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,n){super.on(e,n)}off(e,n){super.off(e,n)}}class Vo{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return S(this.restDecoder)}readDsLen(){return S(this.restDecoder)}}class Ho extends Vo{readLeftID(){return A(S(this.restDecoder),S(this.restDecoder))}readRightID(){return A(S(this.restDecoder),S(this.restDecoder))}readClient(){return S(this.restDecoder)}readInfo(){return Ge(this.restDecoder)}readString(){return Ye(this.restDecoder)}readParentInfo(){return S(this.restDecoder)===1}readTypeRef(){return S(this.restDecoder)}readLen(){return S(this.restDecoder)}readAny(){return mt(this.restDecoder)}readBuf(){return kl(J(this.restDecoder))}readJSON(){return JSON.parse(Ye(this.restDecoder))}readKey(){return Ye(this.restDecoder)}}class Jl{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=S(this.restDecoder),this.dsCurrVal}readDsLen(){const e=S(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Ke extends Jl{constructor(e){super(e);this.keys=[],S(e),this.keyClockDecoder=new Xn(J(e)),this.clientDecoder=new en(J(e)),this.leftClockDecoder=new Xn(J(e)),this.rightClockDecoder=new Xn(J(e)),this.infoDecoder=new So(J(e),Ge),this.stringDecoder=new _l(J(e)),this.parentInfoDecoder=new So(J(e),Ge),this.typeRefDecoder=new en(J(e)),this.lenDecoder=new en(J(e))}readLeftID(){return new Xe(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Xe(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return mt(this.restDecoder)}readBuf(){return J(this.restDecoder)}readJSON(){return mt(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class Kl{constructor(){this.restEncoder=tn()}toUint8Array(){return le(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){N(this.restEncoder,e)}writeDsLen(e){N(this.restEncoder,e)}}class _t extends Kl{writeLeftID(e){N(this.restEncoder,e.client),N(this.restEncoder,e.clock)}writeRightID(e){N(this.restEncoder,e.client),N(this.restEncoder,e.clock)}writeClient(e){N(this.restEncoder,e)}writeInfo(e){ti(this.restEncoder,e)}writeString(e){Qe(this.restEncoder,e)}writeParentInfo(e){N(this.restEncoder,e?1:0)}writeTypeRef(e){N(this.restEncoder,e)}writeLen(e){N(this.restEncoder,e)}writeAny(e){wt(this.restEncoder,e)}writeBuf(e){K(this.restEncoder,e)}writeJSON(e){Qe(this.restEncoder,JSON.stringify(e))}writeKey(e){Qe(this.restEncoder,e)}}class Xl{constructor(){this.restEncoder=tn(),this.dsCurrVal=0}toUint8Array(){return le(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,N(this.restEncoder,n)}writeDsLen(e){e===0&&ie(),N(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ue extends Xl{constructor(){super();this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new oi,this.clientEncoder=new on,this.leftClockEncoder=new oi,this.rightClockEncoder=new oi,this.infoEncoder=new Co(ti),this.stringEncoder=new Il,this.parentInfoEncoder=new Co(ti),this.typeRefEncoder=new on,this.lenEncoder=new on}toUint8Array(){const e=tn();return N(e,0),K(e,this.keyClockEncoder.toUint8Array()),K(e,this.clientEncoder.toUint8Array()),K(e,this.leftClockEncoder.toUint8Array()),K(e,this.rightClockEncoder.toUint8Array()),K(e,le(this.infoEncoder)),K(e,this.stringEncoder.toUint8Array()),K(e,le(this.parentInfoEncoder)),K(e,this.typeRefEncoder.toUint8Array()),K(e,this.lenEncoder.toUint8Array()),nn(e,le(this.restEncoder)),le(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){wt(this.restEncoder,e)}writeBuf(e){K(this.restEncoder,e)}writeJSON(e){wt(this.restEncoder,e)}writeKey(e){this.keyMap.get(e)===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}const ec=(t,e,n,i)=>{i=Re(i,e[0].id.clock);const o=de(e,i);N(t.restEncoder,e.length-o),t.writeClient(n),N(t.restEncoder,i);const r=e[o];r.write(t,i-r.id.clock);for(let s=o+1;s<e.length;s++)e[s].write(t,0)},gi=(t,e,n)=>{const i=new Map;n.forEach((o,r)=>{j(e,r)>o&&i.set(r,o)}),xi(e).forEach((o,r)=>{n.has(r)||i.set(r,0)}),N(t.restEncoder,i.size),Array.from(i.entries()).sort((o,r)=>r[0]-o[0]).forEach(([o,r])=>{ec(t,e.clients.get(o),o,r)})},tc=(t,e)=>{const n=se(),i=S(t.restDecoder);for(let o=0;o<i;o++){const r=S(t.restDecoder),s=new Array(r),a=t.readClient();let d=S(t.restDecoder);n.set(a,{i:0,refs:s});for(let l=0;l<r;l++){const c=t.readInfo();switch(Kt&c){case 0:{const p=t.readLen();s[l]=new X(A(a,d),p),d+=p;break}case 10:{const p=S(t.restDecoder);s[l]=new ee(A(a,d),p),d+=p;break}default:{const p=(c&(ge|Q))==0,u=new L(A(a,d),null,(c&Q)===Q?t.readLeftID():null,null,(c&ge)===ge?t.readRightID():null,p?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,p&&(c&gt)===gt?t.readString():null,Cr(t,c));s[l]=u,d+=u.length}}}}return n},nc=(t,e,n)=>{const i=[];let o=Array.from(n.keys()).sort((h,g)=>h-g);if(o.length===0)return null;const r=()=>{if(o.length===0)return null;let h=n.get(o[o.length-1]);for(;h.refs.length===h.i;)if(o.pop(),o.length>0)h=n.get(o[o.length-1]);else return null;return h};let s=r();if(s===null&&i.length===0)return null;const a=new tr,d=new Map,l=(h,g)=>{const y=d.get(h);(y==null||y>g)&&d.set(h,g)};let c=s.refs[s.i++];const p=new Map,u=()=>{for(const h of i){const g=h.id.client,y=n.get(g);y?(y.i--,a.clients.set(g,y.refs.slice(y.i)),n.delete(g),y.i=0,y.refs=[]):a.clients.set(g,[h]),o=o.filter(k=>k!==g)}i.length=0};for(;;){if(c.constructor!==ee){const g=ke(p,c.id.client,()=>j(e,c.id.client))-c.id.clock;if(g<0)i.push(c),l(c.id.client,c.id.clock-1),u();else{const y=c.getMissing(t,e);if(y!==null){i.push(c);const k=n.get(y)||{refs:[],i:0};if(k.refs.length===k.i)l(y,j(e,y)),u();else{c=k.refs[k.i++];continue}}else(g===0||g<c.length)&&(c.integrate(t,g),p.set(c.id.client,c.id.clock+c.length))}}if(i.length>0)c=i.pop();else if(s!==null&&s.i<s.refs.length)c=s.refs[s.i++];else{if(s=r(),s===null)break;c=s.refs[s.i++]}}if(a.clients.size>0){const h=new Ue;return gi(h,a,new Map),N(h.restEncoder,0),{missing:d,update:h.toUint8Array()}}return null},ic=(t,e)=>gi(t,e.doc.store,e.beforeState),oc=(t,e,n,i=new Ke(t))=>R(e,o=>{o.local=!1;let r=!1;const s=o.doc,a=s.store,d=tc(i,s),l=nc(o,a,d),c=a.pendingStructs;if(c){for(const[u,h]of c.missing)if(h<j(a,u)){r=!0;break}if(l){for(const[u,h]of l.missing){const g=c.missing.get(u);(g==null||g>h)&&c.missing.set(u,h)}c.update=un([c.update,l.update])}}else a.pendingStructs=l;const p=$o(i,o,a);if(a.pendingDs){const u=new Ke(Pe(a.pendingDs));S(u.restDecoder);const h=$o(u,o,a);p&&h?a.pendingDs=un([p,h]):a.pendingDs=p||h}else a.pendingDs=p;if(r){const u=a.pendingStructs.update;a.pendingStructs=null,Po(o.doc,u)}},n,!1),Po=(t,e,n,i=Ke)=>{const o=Pe(e);oc(o,t,n,new i(o))},Go=(t,e,n)=>Po(t,e,n,Ho),rc=(t,e,n=new Map)=>{gi(t,e.store,n),We(t,Wl(e.store))},sc=(t,e=new Uint8Array([0]),n=new Ue)=>{const i=Yo(e);rc(n,t,i);const o=[n.toUint8Array()];if(t.store.pendingDs&&o.push(t.store.pendingDs),t.store.pendingStructs&&o.push(kc(t.store.pendingStructs.update,e)),o.length>1){if(n.constructor===_t)return _c(o.map((r,s)=>s===0?r:Ac(r)));if(n.constructor===Ue)return un(o)}return o[0]},ac=(t,e)=>sc(t,e,new _t),lc=t=>{const e=new Map,n=S(t.restDecoder);for(let i=0;i<n;i++){const o=S(t.restDecoder),r=S(t.restDecoder);e.set(o,r)}return e},Yo=t=>lc(new Vo(Pe(t)));class cc{constructor(){this.l=[]}}const Qo=()=>new cc,Wo=(t,e)=>t.l.push(e),Jo=(t,e)=>{const n=t.l,i=n.length;t.l=n.filter(o=>e!==o),i===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Ko=(t,e,n)=>ri(t.l,[e,n]);class Xe{constructor(e,n){this.client=e,this.clock=n}}const an=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,A=(t,e)=>new Xe(t,e),Xo=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw ie()};class er{constructor(e,n,i,o=0){this.type=e,this.tname=n,this.item=i,this.assoc=o}}const mi=t=>new er(t.type==null?null:A(t.type.client,t.type.clock),t.tname||null,t.item==null?null:A(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class dc{constructor(e,n,i=0){this.type=e,this.index=n,this.assoc=i}}const hc=(t,e,n=0)=>new dc(t,e,n),ln=(t,e,n)=>{let i=null,o=null;return t._item===null?o=Xo(t):i=A(t._item.id.client,t._item.id.clock),new er(i,o,e,n)},bi=(t,e,n=0)=>{let i=t._start;if(n<0){if(e===0)return ln(t,null,n);e--}for(;i!==null;){if(!i.deleted&&i.countable){if(i.length>e)return ln(t,A(i.id.client,i.id.clock+e),n);e-=i.length}if(i.right===null&&n<0)return ln(t,i.lastId,n);i=i.right}return ln(t,null,n)},wi=(t,e)=>{const n=e.store,i=t.item,o=t.type,r=t.tname,s=t.assoc;let a=null,d=0;if(i!==null){if(j(n,i.client)<=i.clock)return null;const l=Er(n,i),c=l.item;if(!(c instanceof L))return null;if(a=c.parent,a._item===null||!a._item.deleted){d=c.deleted||!c.countable?0:l.diff+(s>=0?0:1);let p=c.left;for(;p!==null;)!p.deleted&&p.countable&&(d+=p.length),p=p.left}}else{if(r!==null)a=e.get(r);else if(o!==null){if(j(n,o.client)<=o.clock)return null;const{item:l}=Er(n,o);if(l instanceof L&&l.content instanceof ot)a=l.content.type;else return null}else throw ie();s>=0?d=a._length:d=0}return hc(a,d,t.assoc)};class uc{constructor(e,n){this.ds=e,this.sv=n}}const fc=(t,e)=>new uc(t,e);fc(Bo(),new Map);const yt=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Zo(e.ds,t.id),cn=(t,e)=>{const n=ke(t.meta,cn,pt),i=t.doc.store;n.has(e)||(e.sv.forEach((o,r)=>{o<j(i,r)&&ve(t,A(r,o))}),ui(t,e.ds,o=>{}),n.add(e))};class tr{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const xi=t=>{const e=new Map;return t.clients.forEach((n,i)=>{const o=n[n.length-1];e.set(i,o.id.clock+o.length)}),e},j=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const i=n[n.length-1];return i.id.clock+i.length},nr=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const i=n[n.length-1];if(i.id.clock+i.length!==e.id.clock)throw ie()}n.push(e)},de=(t,e)=>{let n=0,i=t.length-1,o=t[i],r=o.id.clock;if(r===e)return i;let s=Jt(e/(r+o.length-1)*i);for(;n<=i;){if(o=t[s],r=o.id.clock,r<=e){if(e<r+o.length)return s;n=s+1}else i=s-1;s=Jt((n+i)/2)}throw ie()},pc=(t,e)=>{const n=t.clients.get(e.client);return n[de(n,e.clock)]},dn=pc,_i=(t,e,n)=>{const i=de(e,n),o=e[i];return o.id.clock<n&&o instanceof L?(e.splice(i+1,0,vn(t,o,n-o.id.clock)),i+1):i},ve=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[_i(t,n,e.clock)]},ir=(t,e,n)=>{const i=e.clients.get(n.client),o=de(i,n.clock),r=i[o];return n.clock!==r.id.clock+r.length-1&&r.constructor!==X&&i.splice(o+1,0,vn(t,r,n.clock-r.id.clock+1)),r},gc=(t,e,n)=>{const i=t.clients.get(e.id.client);i[de(i,e.id.clock)]=n},or=(t,e,n,i,o)=>{if(i===0)return;const r=n+i;let s=_i(t,e,n),a;do a=e[s++],r<a.id.clock+a.length&&_i(t,e,r),o(a);while(s<e.length&&e[s].id.clock<r)};class mc{constructor(e,n,i){this.doc=e,this.deleteSet=new xt,this.beforeState=xi(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=i,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const rr=(t,e)=>e.deleteSet.clients.size===0&&!Xa(e.afterState,(n,i)=>e.beforeState.get(i)!==n)?!1:(fi(e.deleteSet),ic(t,e),We(t,e.deleteSet),!0),sr=(t,e,n)=>{const i=e._item;(i===null||i.id.clock<(t.beforeState.get(i.id.client)||0)&&!i.deleted)&&ke(t.changed,e,pt).add(n)},hn=(t,e)=>{const n=t[e-1],i=t[e];n.deleted===i.deleted&&n.constructor===i.constructor&&n.mergeWith(i)&&(t.splice(e,1),i instanceof L&&i.parentSub!==null&&i.parent._map.get(i.parentSub)===i&&i.parent._map.set(i.parentSub,n))},bc=(t,e,n)=>{for(const[i,o]of t.clients.entries()){const r=e.clients.get(i);for(let s=o.length-1;s>=0;s--){const a=o[s],d=a.clock+a.len;for(let l=de(r,a.clock),c=r[l];l<r.length&&c.id.clock<d;c=r[++l]){const p=r[l];if(a.clock+a.len<=p.id.clock)break;p instanceof L&&p.deleted&&!p.keep&&n(p)&&p.gc(e,!1)}}}},wc=(t,e)=>{t.clients.forEach((n,i)=>{const o=e.clients.get(i);for(let r=n.length-1;r>=0;r--){const s=n[r],a=xo(o.length-1,1+de(o,s.clock+s.len-1));for(let d=a,l=o[d];d>0&&l.id.clock>=s.clock;l=o[--d])hn(o,d)}})},ar=(t,e)=>{if(e<t.length){const n=t[e],i=n.doc,o=i.store,r=n.deleteSet,s=n._mergeStructs;try{fi(r),n.afterState=xi(n.doc.store),i._transaction=null,i.emit("beforeObserverCalls",[n,i]);const a=[];n.changed.forEach((d,l)=>a.push(()=>{(l._item===null||!l._item.deleted)&&l._callObserver(n,d)})),a.push(()=>{n.changedParentTypes.forEach((d,l)=>a.push(()=>{(l._item===null||!l._item.deleted)&&(d=d.filter(c=>c.target._item===null||!c.target._item.deleted),d.forEach(c=>{c.currentTarget=l}),d.sort((c,p)=>c.path.length-p.path.length),Ko(l._dEH,d,n))})),a.push(()=>i.emit("afterTransaction",[n,i]))}),ri(a,[])}finally{i.gc&&bc(r,o,i.gcFilter),wc(r,o),n.afterState.forEach((a,d)=>{const l=n.beforeState.get(d)||0;if(l!==a){const c=o.clients.get(d),p=Re(de(c,l),1);for(let u=c.length-1;u>=p;u--)hn(c,u)}});for(let a=0;a<s.length;a++){const{client:d,clock:l}=s[a].id,c=o.clients.get(d),p=de(c,l);p+1<c.length&&hn(c,p+1),p>0&&hn(c,p)}if(!n.local&&n.afterState.get(i.clientID)!==n.beforeState.get(i.clientID)&&(i.clientID=qo(),Hl(ci,si,"[yjs] ",ai,li,"Changed the client-id because another client seems to be using it.")),i.emit("afterTransactionCleanup",[n,i]),i._observers.has("update")){const a=new _t;rr(a,n)&&i.emit("update",[a.toUint8Array(),n.origin,i,n])}if(i._observers.has("updateV2")){const a=new Ue;rr(a,n)&&i.emit("updateV2",[a.toUint8Array(),n.origin,i,n])}n.subdocsAdded.forEach(a=>i.subdocs.add(a)),n.subdocsRemoved.forEach(a=>i.subdocs.delete(a)),i.emit("subdocs",[{loaded:n.subdocsLoaded,added:n.subdocsAdded,removed:n.subdocsRemoved}]),n.subdocsRemoved.forEach(a=>a.destroy()),t.length<=e+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,t])):ar(t,e+1)}}},R=(t,e,n=null,i=!0)=>{const o=t._transactionCleanups;let r=!1;t._transaction===null&&(r=!0,t._transaction=new mc(t,n,i),o.push(t._transaction),o.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{r&&o[0]===t._transaction&&ar(o,0)}};function*xc(t){const e=S(t.restDecoder);for(let n=0;n<e;n++){const i=S(t.restDecoder),o=t.readClient();let r=S(t.restDecoder);for(let s=0;s<i;s++){const a=t.readInfo();if(a===10){const d=S(t.restDecoder);yield new ee(A(o,r),d),r+=d}else if((Kt&a)!=0){const d=(a&(ge|Q))==0,l=new L(A(o,r),null,(a&Q)===Q?t.readLeftID():null,null,(a&ge)===ge?t.readRightID():null,d?t.readParentInfo()?t.readString():t.readLeftID():null,d&&(a&gt)===gt?t.readString():null,Cr(t,a));yield l,r+=l.length}else{const d=t.readLen();yield new X(A(o,r),d),r+=d}}}}class yi{constructor(e,n){this.gen=xc(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===ee);return this.curr}}class ki{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const _c=t=>un(t,Ho,_t),yc=(t,e)=>{if(t.constructor===X){const{client:n,clock:i}=t.id;return new X(A(n,i+e),t.length-e)}else if(t.constructor===ee){const{client:n,clock:i}=t.id;return new ee(A(n,i+e),t.length-e)}else{const n=t,{client:i,clock:o}=n.id;return new L(A(i,o+e),null,A(i,o+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},un=(t,e=Ke,n=Ue)=>{if(t.length===1)return t[0];const i=t.map(c=>new e(Pe(c)));let o=i.map(c=>new yi(c,!0)),r=null;const s=new n,a=new ki(s);for(;o=o.filter(u=>u.curr!==null),o.sort((u,h)=>{if(u.curr.id.client===h.curr.id.client){const g=u.curr.id.clock-h.curr.id.clock;return g===0?u.curr.constructor===h.curr.constructor?0:u.curr.constructor===ee?1:-1:g}else return h.curr.id.client-u.curr.id.client}),o.length!==0;){const c=o[0],p=c.curr.id.client;if(r!==null){let u=c.curr,h=!1;for(;u!==null&&u.id.clock+u.length<=r.struct.id.clock+r.struct.length&&u.id.client>=r.struct.id.client;)u=c.next(),h=!0;if(u===null||u.id.client!==p||h&&u.id.clock>r.struct.id.clock+r.struct.length)continue;if(p!==r.struct.id.client)Ae(a,r.struct,r.offset),r={struct:u,offset:0},c.next();else if(r.struct.id.clock+r.struct.length<u.id.clock)if(r.struct.constructor===ee)r.struct.length=u.id.clock+u.length-r.struct.id.clock;else{Ae(a,r.struct,r.offset);const g=u.id.clock-r.struct.id.clock-r.struct.length;r={struct:new ee(A(p,r.struct.id.clock+r.struct.length),g),offset:0}}else{const g=r.struct.id.clock+r.struct.length-u.id.clock;g>0&&(r.struct.constructor===ee?r.struct.length-=g:u=yc(u,g)),r.struct.mergeWith(u)||(Ae(a,r.struct,r.offset),r={struct:u,offset:0},c.next())}}else r={struct:c.curr,offset:0},c.next();for(let u=c.curr;u!==null&&u.id.client===p&&u.id.clock===r.struct.id.clock+r.struct.length&&u.constructor!==ee;u=c.next())Ae(a,r.struct,r.offset),r={struct:u,offset:0}}r!==null&&(Ae(a,r.struct,r.offset),r=null),vi(a);const d=i.map(c=>pi(c)),l=Ql(d);return We(s,l),s.toUint8Array()},kc=(t,e,n=Ke,i=Ue)=>{const o=Yo(e),r=new i,s=new ki(r),a=new n(Pe(t)),d=new yi(a,!1);for(;d.curr;){const c=d.curr,p=c.id.client,u=o.get(p)||0;if(d.curr.constructor===ee){d.next();continue}if(c.id.clock+c.length>u)for(Ae(s,c,Re(u-c.id.clock,0)),d.next();d.curr&&d.curr.id.client===p;)Ae(s,d.curr,0),d.next();else for(;d.curr&&d.curr.id.client===p&&d.curr.id.clock+d.curr.length<=u;)d.next()}vi(s);const l=pi(a);return We(r,l),r.toUint8Array()},lr=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:le(t.encoder.restEncoder)}),t.encoder.restEncoder=tn(),t.written=0)},Ae=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&lr(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),N(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},vi=t=>{lr(t);const e=t.encoder.restEncoder;N(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const i=t.clientStructs[n];N(e,i.written),nn(e,i.restEncoder)}},vc=(t,e,n)=>{const i=new e(Pe(t)),o=new yi(i,!1),r=new n,s=new ki(r);for(let d=o.curr;d!==null;d=o.next())Ae(s,d,0);vi(s);const a=pi(i);return We(r,a),r.toUint8Array()},Ac=t=>vc(t,Ke,_t);class fn{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null}get path(){return Dc(this.currentTarget,this.target)}deletes(e){return Zo(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(o=>{if(o!==null){const r=n._map.get(o);let s,a;if(this.adds(r)){let d=r.left;for(;d!==null&&this.adds(d);)d=d.left;if(this.deletes(r))if(d!==null&&this.deletes(d))s="delete",a=Vn(d.content.getContent());else return;else d!==null&&this.deletes(d)?(s="update",a=Vn(d.content.getContent())):(s="add",a=void 0)}else if(this.deletes(r))s="delete",a=Vn(r.content.getContent());else return;e.set(o,{action:s,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){const n=this.target,i=pt(),o=pt(),r=[];if(e={added:i,deleted:o,delta:r,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const d=()=>{a&&r.push(a)};for(let l=n._start;l!==null;l=l.right)l.deleted?this.deletes(l)&&!this.adds(l)&&((a===null||a.delete===void 0)&&(d(),a={delete:0}),a.delete+=l.length,o.add(l)):this.adds(l)?((a===null||a.insert===void 0)&&(d(),a={insert:[]}),a.insert=a.insert.concat(l.content.getContent()),i.add(l)):((a===null||a.retain===void 0)&&(d(),a={retain:0}),a.retain+=l.length);a!==null&&a.retain===void 0&&d()}this._changes=e}return e}}const Dc=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let i=0,o=e._item.parent._start;for(;o!==e._item&&o!==null;)o.deleted||i++,o=o.right;n.unshift(i)}e=e._item.parent}return n},cr=80;let Ai=0;class Sc{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Ai++}}const Ec=t=>{t.timestamp=Ai++},dr=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Ai++},Cc=(t,e,n)=>{if(t.length>=cr){const i=t.reduce((o,r)=>o.timestamp<r.timestamp?o:r);return dr(i,e,n),i}else{const i=new Sc(e,n);return t.push(i),i}},pn=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((r,s)=>Hn(e-r.index)<Hn(e-s.index)?r:s);let i=t._start,o=0;for(n!==null&&(i=n.p,o=n.index,Ec(n));i.right!==null&&o<e;){if(!i.deleted&&i.countable){if(e<o+i.length)break;o+=i.length}i=i.right}for(;i.left!==null&&o>e;)i=i.left,!i.deleted&&i.countable&&(o-=i.length);for(;i.left!==null&&i.left.id.client===i.id.client&&i.left.id.clock+i.left.length===i.id.clock;)i=i.left,!i.deleted&&i.countable&&(o-=i.length);return n!==null&&Hn(n.index-o)<i.parent.length/cr?(dr(n,i,o),n):Cc(t._searchMarker,i,o)},kt=(t,e,n)=>{for(let i=t.length-1;i>=0;i--){const o=t[i];if(n>0){let r=o.p;for(r.marker=!1;r&&(r.deleted||!r.countable);)r=r.left,r&&!r.deleted&&r.countable&&(o.index-=r.length);if(r===null||r.marker===!0){t.splice(i,1);continue}o.p=r,r.marker=!0}(e<o.index||n>0&&e===o.index)&&(o.index=Re(e,o.index+n))}},gn=(t,e,n)=>{const i=t,o=e.changedParentTypes;for(;ke(o,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;Ko(i._eH,n,e)};class H{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Qo(),this._dEH=Qo(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw ce()}clone(){throw ce()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Wo(this._eH,e)}observeDeep(e){Wo(this._dEH,e)}unobserve(e){Jo(this._eH,e)}unobserveDeep(e){Jo(this._dEH,e)}toJSON(){}}const hr=(t,e,n)=>{e<0&&(e=t._length+e),n<0&&(n=t._length+n);let i=n-e;const o=[];let r=t._start;for(;r!==null&&i>0;){if(r.countable&&!r.deleted){const s=r.content.getContent();if(s.length<=e)e-=s.length;else{for(let a=e;a<s.length&&i>0;a++)o.push(s[a]),i--;e=0}}r=r.right}return o},ur=t=>{const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const i=n.content.getContent();for(let o=0;o<i.length;o++)e.push(i[o])}n=n.right}return e},mn=(t,e)=>{let n=0,i=t._start;for(;i!==null;){if(i.countable&&!i.deleted){const o=i.content.getContent();for(let r=0;r<o.length;r++)e(o[r],n++,t)}i=i.right}},fr=(t,e)=>{const n=[];return mn(t,(i,o)=>{n.push(e(i,o,t))}),n},Mc=t=>{let e=t._start,n=null,i=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),i=0,e=e.right}const o=n[i++];return n.length<=i&&(n=null),{done:!1,value:o}}}},pr=(t,e)=>{const n=pn(t,e);let i=t._start;for(n!==null&&(i=n.p,e-=n.index);i!==null;i=i.right)if(!i.deleted&&i.countable){if(e<i.length)return i.content.getContent()[e];e-=i.length}},Di=(t,e,n,i)=>{let o=n;const r=t.doc,s=r.clientID,a=r.store,d=n===null?e._start:n.right;let l=[];const c=()=>{l.length>0&&(o=new L(A(s,j(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new Fe(l)),o.integrate(t,0),l=[])};i.forEach(p=>{switch(p.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(p);break;default:switch(c(),p.constructor){case Uint8Array:case ArrayBuffer:o=new L(A(s,j(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new At(new Uint8Array(p))),o.integrate(t,0);break;case Je:o=new L(A(s,j(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new St(p)),o.integrate(t,0);break;default:if(p instanceof H)o=new L(A(s,j(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new ot(p)),o.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),c()},gr=rn("Length exceeded!"),mr=(t,e,n,i)=>{if(n>e._length)throw gr;if(n===0)return e._searchMarker&&kt(e._searchMarker,n,i.length),Di(t,e,null,i);const o=n,r=pn(e,n);let s=e._start;for(r!==null&&(s=r.p,n-=r.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&ve(t,A(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&kt(e._searchMarker,o,i.length),Di(t,e,s,i)},br=(t,e,n,i)=>{if(i===0)return;const o=n,r=i,s=pn(e,n);let a=e._start;for(s!==null&&(a=s.p,n-=s.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&ve(t,A(a.id.client,a.id.clock+n)),n-=a.length);for(;i>0&&a!==null;)a.deleted||(i<a.length&&ve(t,A(a.id.client,a.id.clock+i)),a.delete(t),i-=a.length),a=a.right;if(i>0)throw gr;e._searchMarker&&kt(e._searchMarker,o,-r+i)},bn=(t,e,n)=>{const i=e._map.get(n);i!==void 0&&i.delete(t)},Si=(t,e,n,i)=>{const o=e._map.get(n)||null,r=t.doc,s=r.clientID;let a;if(i==null)a=new Fe([i]);else switch(i.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Fe([i]);break;case Uint8Array:a=new At(i);break;case Je:a=new St(i);break;default:if(i instanceof H)a=new ot(i);else throw new Error("Unexpected content type")}new L(A(s,j(r.store,s)),o,o&&o.lastId,null,null,e,n,a).integrate(t,0)},Ei=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},wr=t=>{const e={};return t._map.forEach((n,i)=>{n.deleted||(e[i]=n.content.getContent()[n.length-1])}),e},xr=(t,e)=>{const n=t._map.get(e);return n!==void 0&&!n.deleted},wn=t=>Gl(t.entries(),e=>!e[1].deleted);class Ic extends fn{constructor(e,n){super(e,n);this._transaction=n}}class et extends H{constructor(){super();this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new et;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new et}clone(){const e=new et;return e.insert(0,this.toArray().map(n=>n instanceof H?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,n){super._callObserver(e,n),gn(this,e,new Ic(this,e))}insert(e,n){this.doc!==null?R(this.doc,i=>{mr(i,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?R(this.doc,i=>{br(i,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return pr(this,e)}toArray(){return ur(this)}slice(e=0,n=this.length){return hr(this,e,n)}toJSON(){return this.map(e=>e instanceof H?e.toJSON():e)}map(e){return fr(this,e)}forEach(e){mn(this,e)}[Symbol.iterator](){return Mc(this)}_write(e){e.writeTypeRef(Xc)}}const Nc=t=>new et;class zc extends fn{constructor(e,n,i){super(e,n);this.keysChanged=i}}class tt extends H{constructor(e){super();this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((i,o)=>{this.set(o,i)}),this._prelimContent=null}_copy(){return new tt}clone(){const e=new tt;return this.forEach((n,i)=>{e.set(i,n instanceof H?n.clone():n)}),e}_callObserver(e,n){gn(this,e,new zc(this,e,n))}toJSON(){const e={};return this._map.forEach((n,i)=>{if(!n.deleted){const o=n.content.getContent()[n.length-1];e[i]=o instanceof H?o.toJSON():o}}),e}get size(){return[...wn(this._map)].length}keys(){return di(wn(this._map),e=>e[0])}values(){return di(wn(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return di(wn(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){const n={};return this._map.forEach((i,o)=>{i.deleted||e(i.content.getContent()[i.length-1],o,this)}),n}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?R(this.doc,n=>{bn(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?R(this.doc,i=>{Si(i,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Ei(this,e)}has(e){return xr(this,e)}clear(){this.doc!==null?R(this.doc,e=>{this.forEach(function(n,i,o){bn(e,o,i)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(ed)}}const Tc=t=>new tt,De=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&Ul(t,e);class Ci{constructor(e,n,i,o){this.left=e,this.right=n,this.index=i,this.currentAttributes=o}forward(){switch(this.right===null&&ie(),this.right.content.constructor){case G:case q:this.right.deleted||(this.index+=this.right.length);break;case Z:this.right.deleted||nt(this.currentAttributes,this.right.content);break}this.left=this.right,this.right=this.right.right}}const _r=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case G:case q:e.right.deleted||(n<e.right.length&&ve(t,A(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break;case Z:e.right.deleted||nt(e.currentAttributes,e.right.content);break}e.left=e.right,e.right=e.right.right}return e},xn=(t,e,n)=>{const i=new Map,o=pn(e,n);if(o){const r=new Ci(o.p.left,o.p,o.index,i);return _r(t,r,n-o.index)}else{const r=new Ci(null,e._start,0,i);return _r(t,r,n)}},yr=(t,e,n,i)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Z&&De(i.get(n.right.content.key),n.right.content.value));)n.right.deleted||i.delete(n.right.content.key),n.forward();const o=t.doc,r=o.clientID;i.forEach((s,a)=>{const d=n.left,l=n.right,c=new L(A(r,j(o.store,r)),d,d&&d.lastId,l,l&&l.id,e,null,new Z(a,s));c.integrate(t,0),n.right=c,n.forward()})},nt=(t,e)=>{const{key:n,value:i}=e;i===null?t.delete(n):t.set(n,i)},kr=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Z&&De(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},vr=(t,e,n,i)=>{const o=t.doc,r=o.clientID,s=new Map;for(const a in i){const d=i[a],l=n.currentAttributes.get(a)||null;if(!De(l,d)){s.set(a,l);const{left:c,right:p}=n;n.right=new L(A(r,j(o.store,r)),c,c&&c.lastId,p,p&&p.id,e,null,new Z(a,d)),n.right.integrate(t,0),n.forward()}}return s},Mi=(t,e,n,i,o)=>{n.currentAttributes.forEach((u,h)=>{o[h]===void 0&&(o[h]=null)});const r=t.doc,s=r.clientID;kr(n,o);const a=vr(t,e,n,o),d=i.constructor===String?new q(i):new G(i);let{left:l,right:c,index:p}=n;e._searchMarker&&kt(e._searchMarker,n.index,d.getLength()),c=new L(A(s,j(r.store,s)),l,l&&l.lastId,c,c&&c.id,e,null,d),c.integrate(t,0),n.right=c,n.index=p,n.forward(),yr(t,e,n,a)},Ar=(t,e,n,i,o)=>{const r=t.doc,s=r.clientID;kr(n,o);const a=vr(t,e,n,o);for(;i>0&&n.right!==null;){if(!n.right.deleted)switch(n.right.content.constructor){case Z:{const{key:d,value:l}=n.right.content,c=o[d];c!==void 0&&(De(c,l)?a.delete(d):a.set(d,l),n.right.delete(t));break}case G:case q:i<n.right.length&&ve(t,A(n.right.id.client,n.right.id.clock+i)),i-=n.right.length;break}n.forward()}if(i>0){let d="";for(;i>0;i--)d+=`
`;n.right=new L(A(s,j(r.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new q(d)),n.right.integrate(t,0),n.forward()}yr(t,e,n,a)},Dr=(t,e,n,i,o)=>{for(;n&&n.content.constructor!==q&&n.content.constructor!==G;)!n.deleted&&n.content.constructor===Z&&nt(o,n.content),n=n.right;let r=0;for(;e!==n;){if(!e.deleted){const s=e.content;switch(s.constructor){case Z:{const{key:a,value:d}=s;((o.get(a)||null)!==d||(i.get(a)||null)===d)&&(e.delete(t),r++);break}}}e=e.right}return r},Rc=(t,e)=>{for(;e&&e.right&&(e.right.deleted||e.right.content.constructor!==q&&e.right.content.constructor!==G);)e=e.right;const n=new Set;for(;e&&(e.deleted||e.content.constructor!==q&&e.content.constructor!==G);){if(!e.deleted&&e.content.constructor===Z){const i=e.content.key;n.has(i)?e.delete(t):n.add(i)}e=e.left}},Oc=t=>{let e=0;return R(t.doc,n=>{let i=t._start,o=t._start,r=se();const s=Wt(r);for(;o;){if(o.deleted===!1)switch(o.content.constructor){case Z:nt(s,o.content);break;case G:case q:e+=Dr(n,i,o,r,s),r=Wt(s),i=o;break}o=o.right}}),e},Sr=(t,e,n)=>{const i=n,o=Wt(e.currentAttributes),r=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case G:case q:n<e.right.length&&ve(t,A(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}r&&Dr(t,r,e.right,o,Wt(e.currentAttributes));const s=(e.left||e.right).parent;return s._searchMarker&&kt(s._searchMarker,e.index,-i+n),e};class Lc extends fn{constructor(e,n,i){super(e,n);this.childListChanged=!1,this.keysChanged=new Set,i.forEach(o=>{o===null?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];R(e,i=>{const o=new Map,r=new Map;let s=this.target._start,a=null;const d={};let l="",c=0,p=0;const u=()=>{if(a!==null){let h;switch(a){case"delete":h={delete:p},p=0;break;case"insert":h={insert:l},o.size>0&&(h.attributes={},o.forEach((g,y)=>{g!==null&&(h.attributes[y]=g)})),l="";break;case"retain":if(h={retain:c},Object.keys(d).length>0){h.attributes={};for(const g in d)h.attributes[g]=d[g]}c=0;break}n.push(h),a=null}};for(;s!==null;){switch(s.content.constructor){case G:this.adds(s)?this.deletes(s)||(u(),a="insert",l=s.content.embed,u()):this.deletes(s)?(a!=="delete"&&(u(),a="delete"),p+=1):s.deleted||(a!=="retain"&&(u(),a="retain"),c+=1);break;case q:this.adds(s)?this.deletes(s)||(a!=="insert"&&(u(),a="insert"),l+=s.content.str):this.deletes(s)?(a!=="delete"&&(u(),a="delete"),p+=s.length):s.deleted||(a!=="retain"&&(u(),a="retain"),c+=s.length);break;case Z:{const{key:h,value:g}=s.content;if(this.adds(s)){if(!this.deletes(s)){const y=o.get(h)||null;De(y,g)?s.delete(i):(a==="retain"&&u(),De(g,r.get(h)||null)?delete d[h]:d[h]=g)}}else if(this.deletes(s)){r.set(h,g);const y=o.get(h)||null;De(y,g)||(a==="retain"&&u(),d[h]=y)}else if(!s.deleted){r.set(h,g);const y=d[h];y!==void 0&&(De(y,g)?s.delete(i):(a==="retain"&&u(),g===null?d[h]=g:delete d[h]))}s.deleted||(a==="insert"&&u(),nt(o,s.content));break}}s=s.right}for(u();n.length>0;){const h=n[n.length-1];if(h.retain!==void 0&&h.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class it extends H{constructor(e){super();this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(i=>i())}catch(i){console.error(i)}this._pending=null}_copy(){return new it}clone(){const e=new it;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const i=new Lc(this,e,n),o=e.doc;if(gn(this,e,i),!e.local){let r=!1;for(const[s,a]of e.afterState.entries()){const d=e.beforeState.get(s)||0;if(a!==d&&(or(e,o.store.clients.get(s),d,a,l=>{!l.deleted&&l.content.constructor===Z&&(r=!0)}),r))break}r||ui(e,e.deleteSet,s=>{s instanceof X||r||s.parent===this&&s.content.constructor===Z&&(r=!0)}),R(o,s=>{r?Oc(this):ui(s,s.deleteSet,a=>{a instanceof X||a.parent===this&&Rc(s,a)})})}}toString(){let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===q&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?R(this.doc,i=>{const o=new Ci(null,this._start,0,new Map);for(let r=0;r<e.length;r++){const s=e[r];if(s.insert!==void 0){const a=!n&&typeof s.insert=="string"&&r===e.length-1&&o.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&Mi(i,this,o,a,s.attributes||{})}else s.retain!==void 0?Ar(i,this,o,s.retain,s.attributes||{}):s.delete!==void 0&&Sr(i,o,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,i){const o=[],r=new Map,s=this.doc;let a="",d=this._start;function l(){if(a.length>0){const c={};let p=!1;r.forEach((h,g)=>{p=!0,c[g]=h});const u={insert:a};p&&(u.attributes=c),o.push(u),a=""}}return R(s,c=>{for(e&&cn(c,e),n&&cn(c,n);d!==null;){if(yt(d,e)||n!==void 0&&yt(d,n))switch(d.content.constructor){case q:{const p=r.get("ychange");e!==void 0&&!yt(d,e)?(p===void 0||p.user!==d.id.client||p.state!=="removed")&&(l(),r.set("ychange",i?i("removed",d.id):{type:"removed"})):n!==void 0&&!yt(d,n)?(p===void 0||p.user!==d.id.client||p.state!=="added")&&(l(),r.set("ychange",i?i("added",d.id):{type:"added"})):p!==void 0&&(l(),r.delete("ychange")),a+=d.content.str;break}case G:{l();const p={insert:d.content.embed};if(r.size>0){const u={};p.attributes=u,r.forEach((h,g)=>{u[g]=h})}o.push(p);break}case Z:yt(d,e)&&(l(),nt(r,d.content));break}d=d.right}l()},cn),o}insert(e,n,i){if(n.length<=0)return;const o=this.doc;o!==null?R(o,r=>{const s=xn(r,this,e);i||(i={},s.currentAttributes.forEach((a,d)=>{i[d]=a})),Mi(r,this,s,n,i)}):this._pending.push(()=>this.insert(e,n,i))}insertEmbed(e,n,i={}){if(n.constructor!==Object)throw new Error("Embed must be an Object");const o=this.doc;o!==null?R(o,r=>{const s=xn(r,this,e);Mi(r,this,s,n,i)}):this._pending.push(()=>this.insertEmbed(e,n,i))}delete(e,n){if(n===0)return;const i=this.doc;i!==null?R(i,o=>{Sr(o,xn(o,this,e),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,i){if(n===0)return;const o=this.doc;o!==null?R(o,r=>{const s=xn(r,this,e);s.right!==null&&Ar(r,this,s,n,i)}):this._pending.push(()=>this.format(e,n,i))}removeAttribute(e){this.doc!==null?R(this.doc,n=>{bn(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?R(this.doc,i=>{Si(i,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Ei(this,e)}getAttributes(e){return wr(this)}_write(e){e.writeTypeRef(td)}}const Uc=t=>new it;class Ii{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===vt||n.constructor===je)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class je extends H{constructor(){super();this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new je}clone(){const e=new je;return e.insert(0,this.toArray().map(n=>n instanceof H?n.clone():n)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Ii(this,e)}querySelector(e){e=e.toUpperCase();const i=new Ii(this,o=>o.nodeName&&o.nodeName.toUpperCase()===e).next();return i.done?null:i.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new Ii(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){gn(this,e,new Zc(this,n,e))}toString(){return fr(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},i){const o=e.createDocumentFragment();return i!==void 0&&i._createAssociation(o,this),mn(this,r=>{o.insertBefore(r.toDOM(e,n,i),null)}),o}insert(e,n){this.doc!==null?R(this.doc,i=>{mr(i,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)R(this.doc,i=>{const o=e&&e instanceof H?e._item:e;Di(i,this,o,n)});else{const i=this._prelimContent,o=e===null?0:i.findIndex(r=>r===e)+1;if(o===0&&e!==null)throw rn("Reference item not found");i.splice(o,0,...n)}}delete(e,n=1){this.doc!==null?R(this.doc,i=>{br(i,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return ur(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return pr(this,e)}slice(e=0,n=this.length){return hr(this,e,n)}_write(e){e.writeTypeRef(id)}}const jc=t=>new je;class vt extends je{constructor(e="UNDEFINED"){super();this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((i,o)=>{this.setAttribute(o,i)}),this._prelimAttrs=null}_copy(){return new vt(this.nodeName)}clone(){const e=new vt(this.nodeName),n=this.getAttributes();for(const i in n)e.setAttribute(i,n[i]);return e.insert(0,this.toArray().map(i=>i instanceof H?i.clone():i)),e}toString(){const e=this.getAttributes(),n=[],i=[];for(const a in e)i.push(a);i.sort();const o=i.length;for(let a=0;a<o;a++){const d=i[a];n.push(d+'="'+e[d]+'"')}const r=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${r}${s}>${super.toString()}</${r}>`}removeAttribute(e){this.doc!==null?R(this.doc,n=>{bn(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?R(this.doc,i=>{Si(i,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Ei(this,e)}hasAttribute(e){return xr(this,e)}getAttributes(e){return wr(this)}toDOM(e=document,n={},i){const o=e.createElement(this.nodeName),r=this.getAttributes();for(const s in r)o.setAttribute(s,r[s]);return mn(this,s=>{o.appendChild(s.toDOM(e,n,i))}),i!==void 0&&i._createAssociation(o,this),o}_write(e){e.writeTypeRef(nd),e.writeKey(this.nodeName)}}const Fc=t=>new vt(t.readKey());class Zc extends fn{constructor(e,n,i){super(e,i);this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(o=>{o===null?this.childListChanged=!0:this.attributesChanged.add(o)})}}class _n extends tt{constructor(e){super();this.hookName=e}_copy(){return new _n(this.hookName)}clone(){const e=new _n(this.hookName);return this.forEach((n,i)=>{e.set(i,n)}),e}toDOM(e=document,n={},i){const o=n[this.hookName];let r;return o!==void 0?r=o.createDom(this):r=document.createElement(this.hookName),r.setAttribute("data-yjs-hook",this.hookName),i!==void 0&&i._createAssociation(r,this),r}_write(e){e.writeTypeRef(od),e.writeKey(this.hookName)}}const Bc=t=>new _n(t.readKey());class yn extends it{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new yn}clone(){const e=new yn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,i){const o=e.createTextNode(this.toString());return i!==void 0&&i._createAssociation(o,this),o}toString(){return this.toDelta().map(e=>{const n=[];for(const o in e.attributes){const r=[];for(const s in e.attributes[o])r.push({key:s,value:e.attributes[o][s]});r.sort((s,a)=>s.key<a.key?-1:1),n.push({nodeName:o,attrs:r})}n.sort((o,r)=>o.nodeName<r.nodeName?-1:1);let i="";for(let o=0;o<n.length;o++){const r=n[o];i+=`<${r.nodeName}`;for(let s=0;s<r.attrs.length;s++){const a=r.attrs[s];i+=` ${a.key}="${a.value}"`}i+=">"}i+=e.insert;for(let o=n.length-1;o>=0;o--)i+=`</${n[o].nodeName}>`;return i}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(rd)}}const $c=t=>new yn;class Ni{constructor(e,n){this.id=e,this.length=n}get deleted(){throw ce()}mergeWith(e){return!1}write(e,n,i){throw ce()}integrate(e,n){throw ce()}}const qc=0;class X extends Ni{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),nr(e.doc.store,this)}write(e,n){e.writeInfo(qc),e.writeLen(this.length-n)}getMissing(e,n){return null}}class At{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new At(this.content)}splice(e){throw ce()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const Vc=t=>new At(t.readBuf());class Dt{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Dt(this.len)}splice(e){const n=new Dt(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){sn(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Hc=t=>new Dt(t.readLen());class St{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new St(this.doc)}splice(e){throw ce()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Pc=t=>new St(new Je(qn({guid:t.readString()},t.readAny())));class G{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new G(this.embed)}splice(e){throw ce()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Gc=t=>new G(t.readJSON());class Z{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Z(this.key,this.value)}splice(e){throw ce()}mergeWith(e){return!1}integrate(e,n){n.parent._searchMarker=null}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Yc=t=>new Z(t.readString(),t.readJSON());class kn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new kn(this.arr)}splice(e){const n=new kn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const i=this.arr.length;e.writeLen(i-n);for(let o=n;o<i;o++){const r=this.arr[o];e.writeString(r===void 0?"undefined":JSON.stringify(r))}}getRef(){return 2}}const Qc=t=>{const e=t.readLen(),n=[];for(let i=0;i<e;i++){const o=t.readString();o==="undefined"?n.push(void 0):n.push(JSON.parse(o))}return new kn(n)};class Fe{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Fe(this.arr)}splice(e){const n=new Fe(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const i=this.arr.length;e.writeLen(i-n);for(let o=n;o<i;o++){const r=this.arr[o];e.writeAny(r)}}getRef(){return 8}}const Wc=t=>{const e=t.readLen(),n=[];for(let i=0;i<e;i++)n.push(t.readAny());return new Fe(n)};class q{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new q(this.str)}splice(e){const n=new q(this.str.slice(e));this.str=this.str.slice(0,e);const i=this.str.charCodeAt(e-1);return i>=55296&&i<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",n.str="\uFFFD"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Jc=t=>new q(t.readString()),Kc=[Nc,Tc,Uc,Fc,jc,Bc,$c],Xc=0,ed=1,td=2,nd=3,id=4,od=5,rd=6;class ot{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ot(this.type._copy())}splice(e){throw ce()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(i=>{i.deleted?e._mergeStructs.push(i):i.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(i=>{for(;i!==null;)i.gc(e,!0),i=i.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const sd=t=>new ot(Kc[t.readTypeRef()](t)),Er=(t,e)=>{let n=e,i=0,o;do i>0&&(n=A(n.client,n.clock+i)),o=dn(t,n),i=n.clock-o.id.clock,n=o.redone;while(n!==null&&o instanceof L);return{item:o,diff:i}};const vn=(t,e,n)=>{const{client:i,clock:o}=e.id,r=new L(A(i,o+n),e,A(i,o+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&r.markDeleted(),e.keep&&(r.keep=!0),e.redone!==null&&(r.redone=A(e.redone.client,e.redone.clock+n)),e.right=r,r.right!==null&&(r.right.left=r),t._mergeStructs.push(r),r.parentSub!==null&&r.right===null&&r.parent._map.set(r.parentSub,r),e.length=n,r};class L extends Ni{constructor(e,n,i,o,r,s,a,d){super(e,d.getLength());this.origin=i,this.left=n,this.right=o,this.rightOrigin=r,this.parent=s,this.parentSub=a,this.redone=null,this.content=d,this.info=this.content.isCountable()?Do:0}set marker(e){(this.info&Qn)>0!==e&&(this.info^=Qn)}get marker(){return(this.info&Qn)>0}get keep(){return(this.info&Ao)>0}set keep(e){this.keep!==e&&(this.info^=Ao)}get countable(){return(this.info&Do)>0}get deleted(){return(this.info&Yn)>0}set deleted(e){this.deleted!==e&&(this.info^=Yn)}markDeleted(){this.info|=Yn}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=j(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=j(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Xe&&this.id.client!==this.parent.client&&this.parent.clock>=j(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=ir(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=ve(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===X||this.right&&this.right.constructor===X)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===L&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===L&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Xe){const i=dn(n,this.parent);i.constructor===X?this.parent=null:this.parent=i.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=ir(e,e.doc.store,A(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let i=this.left,o;if(i!==null)o=i.right;else if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start;const r=new Set,s=new Set;for(;o!==null&&o!==this.right;){if(s.add(o),r.add(o),an(this.origin,o.origin)){if(o.id.client<this.id.client)i=o,r.clear();else if(an(this.rightOrigin,o.rightOrigin))break}else if(o.origin!==null&&s.has(dn(e.doc.store,o.origin)))r.has(dn(e.doc.store,o.origin))||(i=o,r.clear());else break;o=o.right}this.left=i}if(this.left!==null){const i=this.left.right;this.right=i,this.left.right=this}else{let i;if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start,this.parent._start=this;this.right=i}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),nr(e.doc.store,this),this.content.integrate(e,this),sr(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new X(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:A(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&an(e.origin,this.lastId)&&this.right===e&&an(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(i=>{i.p===e&&(i.p=this,!this.deleted&&this.countable&&(i.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),sn(e.deleteSet,this.id.client,this.id.clock,this.length),sr(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw ie();this.content.gc(e),n?gc(e,this,new X(this.id,this.length)):this.content=new Dt(this.length)}write(e,n){const i=n>0?A(this.id.client,this.id.clock+n-1):this.origin,o=this.rightOrigin,r=this.parentSub,s=this.content.getRef()&Kt|(i===null?0:Q)|(o===null?0:ge)|(r===null?0:gt);if(e.writeInfo(s),i!==null&&e.writeLeftID(i),o!==null&&e.writeRightID(o),i===null&&o===null){const a=this.parent;if(a._item!==void 0){const d=a._item;if(d===null){const l=Xo(a);e.writeParentInfo(!0),e.writeString(l)}else e.writeParentInfo(!1),e.writeLeftID(d.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Xe?(e.writeParentInfo(!1),e.writeLeftID(a)):ie();r!==null&&e.writeString(r)}this.content.write(e,n)}}const Cr=(t,e)=>ad[e&Kt](t),ad=[()=>{ie()},Hc,Qc,Vc,Jc,Gc,Yc,sd,Wc,Pc,()=>{ie()}],ld=10;class ee extends Ni{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){ie()}write(e,n){e.writeInfo(ld),N(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const cd=typeof atob=="function",dd=typeof btoa=="function",An=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Et=Array.prototype.slice.call(hd),Dn=(t=>{let e={};return t.forEach((n,i)=>e[n]=i),e})(Et),ud=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Sn=String.fromCharCode.bind(String),Mr=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=n=>n)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),fd=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),Ir=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),pd=t=>{let e,n,i,o,r="";const s=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255||(o=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=n<<16|i<<8|o,r+=Et[e>>18&63]+Et[e>>12&63]+Et[e>>6&63]+Et[e&63]}return s?r.slice(0,s-3)+"===".substring(s):r},gd=dd?t=>btoa(t):An?t=>Buffer.from(t,"binary").toString("base64"):pd,Nr=An?t=>Buffer.from(t).toString("base64"):t=>{const e=4096;let n=[];for(let i=0,o=t.length;i<o;i+=e)n.push(Sn.apply(null,t.subarray(i,i+e)));return gd(n.join(""))},zr=(t,e=!1)=>e?fd(Nr(t)):Nr(t),md=t=>{if(t=t.replace(/\s+/g,""),!ud.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",i,o;for(let r=0;r<t.length;)e=Dn[t.charAt(r++)]<<18|Dn[t.charAt(r++)]<<12|(i=Dn[t.charAt(r++)])<<6|(o=Dn[t.charAt(r++)]),n+=i===64?Sn(e>>16&255):o===64?Sn(e>>16&255,e>>8&255):Sn(e>>16&255,e>>8&255,e&255);return n},bd=cd?t=>atob(Ir(t)):An?t=>Buffer.from(t,"base64").toString("binary"):md,wd=An?t=>Mr(Buffer.from(t,"base64")):t=>Mr(bd(t),e=>e.charCodeAt(0)),Tr=t=>wd(xd(t)),xd=t=>Ir(t.replace(/[-_]/g,e=>e=="-"?"+":"/"));class _d{constructor(e,n,i,o){this.context=e,this.attrs=n,this.doc=i,this.yText=o,this.isDocDestroyed=!1,this.sideEffect=new Pt,this.textAttr=n.text,this.textAttr&&Go(this.doc,Tr(this.textAttr),this),this.sideEffect.add(()=>e.mobxUtils.autorun(()=>{this.textAttr=n.text})),this.setupYDocPersistence()}destroy(){this.sideEffect.flushAll()}setupYDocPersistence(){const e=()=>{this.sideEffect.setTimeout(()=>{const n=zr(ac(this.doc));n!==this.textAttr&&this.context.updateAttributes(["text"],n)},1e3,"setAttrs")};this.sideEffect.add(()=>{const n=()=>{this.isDocDestroyed=!0};return this.doc.on("destroy",n),()=>this.doc.off("destroy",n)}),this.sideEffect.add(()=>{const n=(i,o)=>{!this.isDocDestroyed&&o!=="_remote_edit_"&&e()};return this.doc.on("update",n),()=>this.doc.off("update",n)})}}const yd=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}};var zi={exports:{}};(function(t,e){(function(n,i){{var o=i();t&&t.exports&&(e=t.exports=o),e.randomColor=o}})(ca,function(){var n=null,i={};v();var o=[],r=function(f){if(f=f||{},f.seed!==void 0&&f.seed!==null&&f.seed===parseInt(f.seed,10))n=f.seed;else if(typeof f.seed=="string")n=I(f.seed);else{if(f.seed!==void 0&&f.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var w,m,b;if(f.count!==null&&f.count!==void 0){for(var x=f.count,M=[],T=0;T<f.count;T++)o.push(!1);for(f.count=null;x>M.length;){var re=r(f);n!==null&&(f.seed=n),M.push(re)}return f.count=x,M}return w=s(f),m=a(w,f),b=d(w,m,f),l([w,m,b],f)};function s(f){if(o.length>0){var w=U(f.hue),m=g(w),b=(w[1]-w[0])/o.length,x=parseInt((m-w[0])/b);o[x]===!0?x=(x+2)%o.length:o[x]=!0;var M=(w[0]+x*b)%359,T=(w[0]+(x+1)*b)%359;return w=[M,T],m=g(w),m<0&&(m=360+m),m}else{var w=p(f.hue);return m=g(w),m<0&&(m=360+m),m}}function a(f,w){if(w.hue==="monochrome")return 0;if(w.luminosity==="random")return g([0,100]);var m=u(f),b=m[0],x=m[1];switch(w.luminosity){case"bright":b=55;break;case"dark":b=x-10;break;case"light":x=55;break}return g([b,x])}function d(f,w,m){var b=c(f,w),x=100;switch(m.luminosity){case"dark":x=b+20;break;case"light":b=(x+b)/2;break;case"random":b=0,x=100;break}return g([b,x])}function l(f,w){switch(w.format){case"hsvArray":return f;case"hslArray":return _(f);case"hsl":var m=_(f);return"hsl("+m[0]+", "+m[1]+"%, "+m[2]+"%)";case"hsla":var b=_(f),x=w.alpha||Math.random();return"hsla("+b[0]+", "+b[1]+"%, "+b[2]+"%, "+x+")";case"rgbArray":return E(f);case"rgb":var M=E(f);return"rgb("+M.join(", ")+")";case"rgba":var T=E(f),x=w.alpha||Math.random();return"rgba("+T.join(", ")+", "+x+")";default:return y(f)}}function c(f,w){for(var m=h(f).lowerBounds,b=0;b<m.length-1;b++){var x=m[b][0],M=m[b][1],T=m[b+1][0],re=m[b+1][1];if(w>=x&&w<=T){var pe=(re-M)/(T-x),P=M-pe*x;return pe*w+P}}return 0}function p(f){if(typeof parseInt(f)=="number"){var w=parseInt(f);if(w<360&&w>0)return[w,w]}if(typeof f=="string"){if(i[f]){var m=i[f];if(m.hueRange)return m.hueRange}else if(f.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var b=D(f)[0];return[b,b]}}return[0,360]}function u(f){return h(f).saturationRange}function h(f){f>=334&&f<=360&&(f-=360);for(var w in i){var m=i[w];if(m.hueRange&&f>=m.hueRange[0]&&f<=m.hueRange[1])return i[w]}return"Color not found"}function g(f){if(n===null){var w=.618033988749895,m=Math.random();return m+=w,m%=1,Math.floor(f[0]+m*(f[1]+1-f[0]))}else{var b=f[1]||1,x=f[0]||0;n=(n*9301+49297)%233280;var M=n/233280;return Math.floor(x+M*(b-x))}}function y(f){var w=E(f);function m(x){var M=x.toString(16);return M.length==1?"0"+M:M}var b="#"+m(w[0])+m(w[1])+m(w[2]);return b}function k(f,w,m){var b=m[0][0],x=m[m.length-1][0],M=m[m.length-1][1],T=m[0][1];i[f]={hueRange:w,lowerBounds:m,saturationRange:[b,x],brightnessRange:[M,T]}}function v(){k("monochrome",null,[[0,0],[100,0]]),k("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),k("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),k("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),k("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),k("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),k("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),k("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function E(f){var w=f[0];w===0&&(w=1),w===360&&(w=359),w=w/360;var m=f[1]/100,b=f[2]/100,x=Math.floor(w*6),M=w*6-x,T=b*(1-m),re=b*(1-M*m),pe=b*(1-(1-M)*m),P=256,W=256,Te=256;switch(x){case 0:P=b,W=pe,Te=T;break;case 1:P=re,W=b,Te=T;break;case 2:P=T,W=b,Te=pe;break;case 3:P=T,W=re,Te=b;break;case 4:P=pe,W=T,Te=b;break;case 5:P=b,W=T,Te=re;break}var oa=[Math.floor(P*255),Math.floor(W*255),Math.floor(Te*255)];return oa}function D(f){f=f.replace(/^#/,""),f=f.length===3?f.replace(/(.)/g,"$1$1"):f;var w=parseInt(f.substr(0,2),16)/255,m=parseInt(f.substr(2,2),16)/255,b=parseInt(f.substr(4,2),16)/255,x=Math.max(w,m,b),M=x-Math.min(w,m,b),T=x?M/x:0;switch(x){case w:return[60*((m-b)/M%6)||0,T,x];case m:return[60*((b-w)/M+2)||0,T,x];case b:return[60*((w-m)/M+4)||0,T,x]}}function _(f){var w=f[0],m=f[1]/100,b=f[2]/100,x=(2-m)*b;return[w,Math.round(m*b/(x<1?x:2-x)*1e4)/100,x/2*100]}function I(f){for(var w=0,m=0;m!==f.length&&!(w>=Number.MAX_SAFE_INTEGER);m++)w+=f.charCodeAt(m);return w}function U(f){if(isNaN(f)){if(typeof f=="string"){if(i[f]){var m=i[f];if(m.hueRange)return m.hueRange}else if(f.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var b=D(f)[0];return h(b).hueRange}}}else{var w=parseInt(f);if(w<360&&w>0)return h(f).hueRange}return[0,360]}return r})})(zi,zi.exports);var Rr=zi.exports;class kd{constructor(){this.style=document.createElement("style"),document.body.appendChild(this.style)}addRule(e){try{const n=this.style.sheet;if(n){const i=n.insertRule(e);return n.cssRules.item(i)}}catch{return null}return null}deleteRule(e){try{const n=this.style.sheet;if(n){for(let i=0;i<n.cssRules.length;i++)if(e===n.cssRules.item(i)){n.deleteRule(i);break}}}catch{return}}destroy(){this.style.remove()}}class vd{constructor(e,n,i,o,r,s,a,d,l){this.doc=e,this.monaco=n,this.monacoEditor=i,this.monacoModel=o,this.userID=r,this.userName=s,this.decorationID=a,this.cursorColor=d,this.styleManager=l,this.labelVisible=!1,this.hideLabelTimeout=NaN,this.cursorVisible=!1,this.hideCursorTimeout=NaN,this.lastLineNumber=-1,this.lastColumn=-1,this.cursorClassName=`netless-app-monaco-cursor-${this.decorationID}`}renderCursor(e,n){if(this.monacoModel.isDisposed())return;const i=e!==this.rawCursorSrc;if(i&&(this.rawCursorSrc=e,this.cursor=void 0,e))try{this.cursor=JSON.parse(e)}catch(o){console.warn(o)}if(this.cursor)try{const o=wi(mi(this.cursor),this.doc);if(o){const r=this.monacoModel.getPositionAt(o.index);let s=`netless-app-monaco-cursor ${this.cursorClassName}`;return r.lineNumber<=1&&(s+=" netless-app-monaco-cursor-first-line"),this.monacoEditor.getLayoutInfo().width-this.monacoEditor.getOffsetForColumn(r.lineNumber,r.column)<200&&(s+=" netless-app-monaco-cursor-right"),(i||n===this.userID&&(r.lineNumber!==this.lastLineNumber||r.column!==this.lastColumn))&&(this.setCursorVisible(!0),this.setLabelVisible(!0),this.lastLineNumber=r.lineNumber,this.lastColumn=r.column),{range:new this.monaco.Range(r.lineNumber,r.column,r.lineNumber,r.column+1),options:{className:s,hoverMessage:{value:this.userName}}}}}catch(o){console.warn(o)}this.clearCursor()}setLabelVisible(e){window.clearTimeout(this.hideLabelTimeout),e?this.styleRule&&(this.labelVisible||(this.styleRule.style.setProperty("--label","block"),this.styleRule.style.setProperty("--dot","none"),this.labelVisible=!0),this.hideLabelTimeout=setTimeout(()=>this.setLabelVisible(!1),3e3)):this.styleRule&&this.labelVisible&&(this.styleRule.style.setProperty("--label","none"),this.styleRule.style.setProperty("--dot","block"),this.labelVisible=!1)}setCursorVisible(e){window.clearTimeout(this.hideCursorTimeout),e?this.styleRule&&(this.cursorVisible||(this.styleRule.style.setProperty("display","block"),this.cursorVisible=!0),this.hideCursorTimeout=setTimeout(()=>this.setCursorVisible(!1),8e3)):this.styleRule&&this.cursorVisible&&(this.styleRule.style.setProperty("display","none"),this.cursorVisible=!1)}clearCursor(){window.clearTimeout(this.hideCursorTimeout),window.clearTimeout(this.hideLabelTimeout)}destroy(){this.clearCursor(),this._styleRuleMemo&&this.styleManager.deleteRule(this._styleRuleMemo)}get styleRule(){return this._styleRuleMemo||(this._styleRuleMemo=this.styleManager.addRule(`.${this.cursorClassName} { --content: "${this.userName}"; --bg-color: ${this.cursorColor}; }`)),this._styleRuleMemo}}const Or=class{constructor(t,e,n,i,o,r,s,a){this.doc=t,this.monaco=e,this.monacoEditor=n,this.monacoModel=i,this.userID=o,this.userName=r,this.cursorColor=s,this.styleManager=a,this.cursorDecorations=[]}setCursors(t){this.rawCursorStrList=t}renderCursors(t){const e=this.rawCursorStrList||[],n=[];let i=0;for(;i<e.length;i++){this.cursorDecorations[i]||(this.cursorDecorations[i]=new vd(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.genDecorationID(),this.cursorColor,this.styleManager));const o=this.cursorDecorations[i].renderCursor(e[i],t);o&&n.push(o)}if(i<this.cursorDecorations.length){for(let o=i;o<this.cursorDecorations.length;o++)this.cursorDecorations[o]&&this.cursorDecorations[o].clearCursor();this.cursorDecorations.length=i}return n}destroy(){this.cursorDecorations.forEach(t=>{t.destroy()}),this.cursorDecorations.length=0}genDecorationID(){return Or._decorationID++}};let Lr=Or;Lr._decorationID=0;class Ad{constructor(e,n,i,o,r,s,a){this.doc=e,this.monaco=n,this.monacoEditor=i,this.monacoModel=o,this.useID=r,this.selectionColor=s,this.styleManager=a,this.selectionDecorations=[],this.selectionClassName=`netless-app-monaco-selection-${this.useID}`,this.styleRule=this.styleManager.addRule(`.${this.selectionClassName} { background: ${s}; }`)}setSelections(e){if(e!==this.rawSelectionsStr&&(this.rawSelectionsStr=e,this.selections=void 0,this.rawSelectionsStr))try{const n=JSON.parse(this.rawSelectionsStr);Array.isArray(n)&&(this.selections=n)}catch(n){console.warn(n)}}renderSelections(){const e=[];return this.selections&&!this.monacoModel.isDisposed()&&this.selections.forEach(n=>{if(n.start&&n.end){const i=wi(mi(n.start),this.doc),o=wi(mi(n.end),this.doc);if(i&&o){const r=this.monacoModel.getPositionAt(i.index),s=this.monacoModel.getPositionAt(o.index);e.push({range:new this.monaco.Range(r.lineNumber,r.column,s.lineNumber,s.column),options:{zIndex:-1,className:`netless-app-monaco-selection ${this.selectionClassName}`}})}}}),e}destroy(){this.styleRule&&this.styleManager.deleteRule(this.styleRule)}}class Dd{constructor(e,n,i,o,r,s){this.doc=e,this.monaco=n,this.monacoEditor=i,this.monacoModel=o,this.userID=r,this.userName=s,this.styleManager=new kd,this.cursorColor=Rr({luminosity:"dark"}),this.selectionColor=Rr({hue:this.cursorColor,luminosity:"light"}),this.selectionDecorations=new Ad(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.selectionColor,this.styleManager),this.cursorDecorations=new Lr(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.cursorColor,this.styleManager)}setCursor(e){this.cursorDecorations.setCursors(e)}setSelection(e){this.selectionDecorations.setSelections(e)}rerender(e=this.userID){return[...this.cursorDecorations.renderCursors(e),...this.selectionDecorations.renderSelections()]}destroy(){this.cursorDecorations.destroy(),this.selectionDecorations.destroy(),this.styleManager.destroy()}}class Sd{constructor(e,n,i,o,r,s,a,d){this.context=e,this.attrs=n,this.box=i,this.monaco=o,this.monacoEditor=r,this.doc=s,this.yText=a,this.readonly=d,this.decorations=new Map,this.mux=yd(),this.deltaDecorations=[],this.cursorPositions=[];const l=r.getModel();if(this.authorId=String(this.context.getDisplayer().observerId),this.MagixMonacoDocChannel=this.context.appId+"AppMonacoDoc",!l)throw new Error("[NetlessAppMonaco] No Monaco Model");this.monacoModel=l,this.sideEffect=new Pt,this.observerId=String(e.getDisplayer().observerId),this.setupDecorations(),this.setupAttrsUpdate(),this.setupDocUpdate(),this.setupYText(),this.setupMembers()}setReadonly(e){e!==this.readonly&&(this.readonly=e,e||(this.broadcastCursors(),this.broadcastSelections()))}clearDecorationAttrs(){this.context.updateAttributes(["cursors",this.observerId],void 0),this.context.updateAttributes(["selections",this.observerId],void 0)}destroy(){this.sideEffect.flushAll(),this.decorations.forEach(e=>e.destroy()),this.decorations.clear(),this.clearDecorationAttrs()}setupYText(){this.sideEffect.add(()=>{const e=n=>{this.mux(()=>{if(this.monacoModel.isDisposed())return;let i=0;n.delta.forEach(o=>{if(o.retain!=null)i+=o.retain;else if(o.insert!=null){const r=this.monacoModel.getPositionAt(i),s=new this.monaco.Selection(r.lineNumber,r.column,r.lineNumber,r.column);this.monacoModel.applyEdits([{range:s,text:String(o.insert),forceMoveMarkers:!0}]),i+=o.insert.length}else if(o.delete!=null){const r=this.monacoModel.getPositionAt(i),s=this.monacoModel.getPositionAt(i+o.delete),a=new this.monaco.Selection(r.lineNumber,r.column,s.lineNumber,s.column);this.monacoModel.applyEdits([{range:a,text:""}])}else console.error("Unexpected yText Observer")})})};return this.yText.observe(e),()=>this.yText.unobserve(e)}),this.monacoModel.setValue(this.yText.toString()),this.sideEffect.add(()=>{const e=this.monacoModel.onDidChangeContent(n=>{this.mux(()=>{this.doc.transact(()=>{n.changes.sort((i,o)=>o.rangeOffset-i.rangeOffset).forEach(i=>{this.yText.delete(i.rangeOffset,i.rangeLength),this.yText.insert(i.rangeOffset,i.text)})},this)})});return()=>e.dispose()})}setupDocUpdate(){const e=this.context.getDisplayer();this.sideEffect.add(()=>{const n=i=>{if(this.authorId=String(i.authorId),i.authorId!==e.observerId)try{Go(this.doc,Tr(i.payload),"_remote_edit_")}catch(o){console.warn(o)}};return e.addMagixEventListener(this.MagixMonacoDocChannel,n),()=>e.removeMagixEventListener(this.MagixMonacoDocChannel,n)}),this.sideEffect.add(()=>{const n=(i,o)=>{if(o!=="_remote_edit_"&&this.context.getIsWritable()){const r=this.context.getRoom();r&&(this.authorId=String(e.observerId),r.dispatchMagixEvent(this.MagixMonacoDocChannel,zr(i)))}};return this.doc.on("update",n),()=>this.doc.off("update",n)})}setupDecorations(){this.sideEffect.add(()=>{const e=this.monacoEditor.onDidChangeCursorPosition(n=>{this.cursorPositions=[n.position,...n.secondaryPositions],this.readonly||this.broadcastCursors()});return()=>e.dispose()}),this.sideEffect.add(()=>{const e=this.monacoEditor.onDidChangeCursorSelection(()=>{this.readonly||this.broadcastSelections()});return()=>e.dispose()})}broadcastCursors(){try{const e=this.cursorPositions.map(n=>JSON.stringify(bi(this.yText,this.monacoModel.getOffsetAt(n))));this.context.updateAttributes(["cursors",this.observerId],e)}catch(e){console.warn(e)}}broadcastSelections(){const e=this.monacoEditor.getSelections();if(e)try{const n=JSON.stringify(e.filter(i=>!this.monaco.Selection.isEmpty(i)).map(i=>({start:bi(this.yText,this.monacoModel.getOffsetAt(i.getStartPosition())),end:bi(this.yText,this.monacoModel.getOffsetAt(i.getEndPosition()))})));this.context.updateAttributes(["selections",this.observerId],n)}catch(n){console.warn(n)}}setupAttrsUpdate(){this.sideEffect.add(()=>{const e=()=>{this.context.getDisplayer().state.roomMembers.forEach(n=>{var o,r,s;const i=String(n.memberId);if(i!==this.observerId){let a=this.decorations.get(i);a||(a=new Dd(this.doc,this.monaco,this.monacoEditor,this.monacoModel,i,((o=n.payload)==null?void 0:o.nickName)||i),this.decorations.set(i,a)),a.setCursor((r=this.attrs.cursors)==null?void 0:r[i]),a.setSelection((s=this.attrs.selections)==null?void 0:s[i]),this.renderDecorations()}})};return this.context.emitter.on("attributesUpdate",e),()=>this.context.emitter.off("attributesUpdate",e)})}setupMembers(){this.sideEffect.add(()=>{const e=n=>{if(n.roomMembers){const i=new Set(n.roomMembers.map(o=>String(o.memberId)));this.decorations.forEach((o,r)=>{i.has(r)||(o.destroy(),this.decorations.delete(r))}),this.attrs.cursors&&Object.keys(this.attrs.cursors).forEach(o=>{i.has(o)||this.context.updateAttributes(["cursors",o],void 0)}),this.attrs.selections&&Object.keys(this.attrs.selections).forEach(o=>{i.has(o)||this.context.updateAttributes(["selections",o],void 0)})}};return this.context.emitter.on("roomStateChange",e),()=>this.context.emitter.off("roomStateChange",e)})}renderDecorations(){const e=[];this.decorations.forEach(n=>{e.push(...n.rerender(this.authorId))}),this.deltaDecorations=this.monacoModel.deltaDecorations(this.deltaDecorations,e)}}class Ed{constructor(e,n,i){this.context=e,this.attrs=n,this.compiler=i,this.content="",this.namespace="netless-app-monaco-terminal",this.sideEffect=new Pt,this.$content=document.createElement("pre"),this.$content.className=`${this.namespace} tele-fancy-scrollbar`,this.content=this.attrs.terminal,this.render(),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.terminal,o=>{o!=null&&o!==this.content&&(this.content=o,this.render())})),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.codeRunning,()=>{this.render()}))}async runCode(e,n){this.updateCodeRunning(!0),this.updateTerminal(await this.compiler.runCode(e,n)),this.updateCodeRunning(!1)}updateTerminal(e){e!==this.attrs.terminal&&this.context.updateAttributes(["terminal"],e)}updateCodeRunning(e){e!==this.attrs.codeRunning&&(this.context.updateAttributes(["codeRunning"],e),e&&this.context.updateAttributes(["terminal"],""))}render(){this.content?(this.$content.style.display="block",this.attrs.codeRunning?this.$content.textContent=`Code Running...
`:this.$content.textContent=this.content):this.$content.style.display="none"}wrapClassName(e){return`${this.namespace}-${e}`}}/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Cd=4,Ur=0,jr=1,Md=2;function rt(t){let e=t.length;for(;--e>=0;)t[e]=0}const Id=0,Fr=1,Nd=2,zd=3,Td=258,Ti=29,Ct=256,Mt=Ct+1+Ti,st=30,Ri=19,Zr=2*Mt+1,Ze=15,Oi=16,Rd=7,Li=256,Br=16,$r=17,qr=18,Ui=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),En=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Od=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Vr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ld=512,we=new Array((Mt+2)*2);rt(we);const It=new Array(st*2);rt(It);const Nt=new Array(Ld);rt(Nt);const zt=new Array(Td-zd+1);rt(zt);const ji=new Array(Ti);rt(ji);const Cn=new Array(st);rt(Cn);function Fi(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}let Hr,Pr,Gr;function Zi(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Yr=t=>t<256?Nt[t]:Nt[256+(t>>>7)],Tt=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Y=(t,e,n)=>{t.bi_valid>Oi-n?(t.bi_buf|=e<<t.bi_valid&65535,Tt(t,t.bi_buf),t.bi_buf=e>>Oi-t.bi_valid,t.bi_valid+=n-Oi):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},he=(t,e,n)=>{Y(t,n[e*2],n[e*2+1])},Qr=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},Ud=t=>{t.bi_valid===16?(Tt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},jd=(t,e)=>{const n=e.dyn_tree,i=e.max_code,o=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,d=e.stat_desc.max_length;let l,c,p,u,h,g,y=0;for(u=0;u<=Ze;u++)t.bl_count[u]=0;for(n[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<Zr;l++)c=t.heap[l],u=n[n[c*2+1]*2+1]+1,u>d&&(u=d,y++),n[c*2+1]=u,!(c>i)&&(t.bl_count[u]++,h=0,c>=a&&(h=s[c-a]),g=n[c*2],t.opt_len+=g*(u+h),r&&(t.static_len+=g*(o[c*2+1]+h)));if(y!==0){do{for(u=d-1;t.bl_count[u]===0;)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[d]--,y-=2}while(y>0);for(u=d;u!==0;u--)for(c=t.bl_count[u];c!==0;)p=t.heap[--l],!(p>i)&&(n[p*2+1]!==u&&(t.opt_len+=(u-n[p*2+1])*n[p*2],n[p*2+1]=u),c--)}},Wr=(t,e,n)=>{const i=new Array(Ze+1);let o=0,r,s;for(r=1;r<=Ze;r++)i[r]=o=o+n[r-1]<<1;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=Qr(i[a]++,a))}},Fd=()=>{let t,e,n,i,o;const r=new Array(Ze+1);for(n=0,i=0;i<Ti-1;i++)for(ji[i]=n,t=0;t<1<<Ui[i];t++)zt[n++]=i;for(zt[n-1]=i,o=0,i=0;i<16;i++)for(Cn[i]=o,t=0;t<1<<En[i];t++)Nt[o++]=i;for(o>>=7;i<st;i++)for(Cn[i]=o<<7,t=0;t<1<<En[i]-7;t++)Nt[256+o++]=i;for(e=0;e<=Ze;e++)r[e]=0;for(t=0;t<=143;)we[t*2+1]=8,t++,r[8]++;for(;t<=255;)we[t*2+1]=9,t++,r[9]++;for(;t<=279;)we[t*2+1]=7,t++,r[7]++;for(;t<=287;)we[t*2+1]=8,t++,r[8]++;for(Wr(we,Mt+1,r),t=0;t<st;t++)It[t*2+1]=5,It[t*2]=Qr(t,5);Hr=new Fi(we,Ui,Ct+1,Mt,Ze),Pr=new Fi(It,En,0,st,Ze),Gr=new Fi(new Array(0),Od,0,Ri,Rd)},Jr=t=>{let e;for(e=0;e<Mt;e++)t.dyn_ltree[e*2]=0;for(e=0;e<st;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Ri;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Li*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},Kr=t=>{t.bi_valid>8?Tt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Zd=(t,e,n,i)=>{Kr(t),i&&(Tt(t,n),Tt(t,~n)),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},Xr=(t,e,n,i)=>{const o=e*2,r=n*2;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]},Bi=(t,e,n)=>{const i=t.heap[n];let o=n<<1;for(;o<=t.heap_len&&(o<t.heap_len&&Xr(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!Xr(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i},es=(t,e,n)=>{let i,o,r=0,s,a;if(t.last_lit!==0)do i=t.pending_buf[t.d_buf+r*2]<<8|t.pending_buf[t.d_buf+r*2+1],o=t.pending_buf[t.l_buf+r],r++,i===0?he(t,o,e):(s=zt[o],he(t,s+Ct+1,e),a=Ui[s],a!==0&&(o-=ji[s],Y(t,o,a)),i--,s=Yr(i),he(t,s,n),a=En[s],a!==0&&(i-=Cn[s],Y(t,i,a)));while(r<t.last_lit);he(t,Li,e)},$i=(t,e)=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,r=e.stat_desc.elems;let s,a,d=-1,l;for(t.heap_len=0,t.heap_max=Zr,s=0;s<r;s++)n[s*2]!==0?(t.heap[++t.heap_len]=d=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=d<2?++d:0,n[l*2]=1,t.depth[l]=0,t.opt_len--,o&&(t.static_len-=i[l*2+1]);for(e.max_code=d,s=t.heap_len>>1;s>=1;s--)Bi(t,n,s);l=r;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Bi(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[l*2]=n[s*2]+n[a*2],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=l,t.heap[1]=l++,Bi(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],jd(t,e),Wr(n,d,t.bl_count)},ts=(t,e,n)=>{let i,o=-1,r,s=e[0*2+1],a=0,d=7,l=4;for(s===0&&(d=138,l=3),e[(n+1)*2+1]=65535,i=0;i<=n;i++)r=s,s=e[(i+1)*2+1],!(++a<d&&r===s)&&(a<l?t.bl_tree[r*2]+=a:r!==0?(r!==o&&t.bl_tree[r*2]++,t.bl_tree[Br*2]++):a<=10?t.bl_tree[$r*2]++:t.bl_tree[qr*2]++,a=0,o=r,s===0?(d=138,l=3):r===s?(d=6,l=3):(d=7,l=4))},ns=(t,e,n)=>{let i,o=-1,r,s=e[0*2+1],a=0,d=7,l=4;for(s===0&&(d=138,l=3),i=0;i<=n;i++)if(r=s,s=e[(i+1)*2+1],!(++a<d&&r===s)){if(a<l)do he(t,r,t.bl_tree);while(--a!=0);else r!==0?(r!==o&&(he(t,r,t.bl_tree),a--),he(t,Br,t.bl_tree),Y(t,a-3,2)):a<=10?(he(t,$r,t.bl_tree),Y(t,a-3,3)):(he(t,qr,t.bl_tree),Y(t,a-11,7));a=0,o=r,s===0?(d=138,l=3):r===s?(d=6,l=3):(d=7,l=4)}},Bd=t=>{let e;for(ts(t,t.dyn_ltree,t.l_desc.max_code),ts(t,t.dyn_dtree,t.d_desc.max_code),$i(t,t.bl_desc),e=Ri-1;e>=3&&t.bl_tree[Vr[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},$d=(t,e,n,i)=>{let o;for(Y(t,e-257,5),Y(t,n-1,5),Y(t,i-4,4),o=0;o<i;o++)Y(t,t.bl_tree[Vr[o]*2+1],3);ns(t,t.dyn_ltree,e-1),ns(t,t.dyn_dtree,n-1)},qd=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return Ur;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return jr;for(n=32;n<Ct;n++)if(t.dyn_ltree[n*2]!==0)return jr;return Ur};let is=!1;const Vd=t=>{is||(Fd(),is=!0),t.l_desc=new Zi(t.dyn_ltree,Hr),t.d_desc=new Zi(t.dyn_dtree,Pr),t.bl_desc=new Zi(t.bl_tree,Gr),t.bi_buf=0,t.bi_valid=0,Jr(t)},os=(t,e,n,i)=>{Y(t,(Id<<1)+(i?1:0),3),Zd(t,e,n,!0)},Hd=t=>{Y(t,Fr<<1,3),he(t,Li,we),Ud(t)},Pd=(t,e,n,i)=>{let o,r,s=0;t.level>0?(t.strm.data_type===Md&&(t.strm.data_type=qd(t)),$i(t,t.l_desc),$i(t,t.d_desc),s=Bd(t),o=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=o&&(o=r)):o=r=n+5,n+4<=o&&e!==-1?os(t,e,n,i):t.strategy===Cd||r===o?(Y(t,(Fr<<1)+(i?1:0),3),es(t,we,It)):(Y(t,(Nd<<1)+(i?1:0),3),$d(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),es(t,t.dyn_ltree,t.dyn_dtree)),Jr(t),i&&Kr(t)},Gd=(t,e,n)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(zt[n]+Ct+1)*2]++,t.dyn_dtree[Yr(e)*2]++),t.last_lit===t.lit_bufsize-1);var Yd=Vd,Qd=os,Wd=Pd,Jd=Gd,Kd=Hd,Xd={_tr_init:Yd,_tr_stored_block:Qd,_tr_flush_block:Wd,_tr_tally:Jd,_tr_align:Kd};const eh=(t,e,n,i)=>{let o=t&65535|0,r=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+e[i++]|0,r=r+o|0;while(--s);o%=65521,r%=65521}return o|r<<16|0};var Rt=eh;const th=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},nh=new Uint32Array(th()),ih=(t,e,n,i)=>{const o=nh,r=i+n;t^=-1;for(let s=i;s<r;s++)t=t>>>8^o[(t^e[s])&255];return t^-1};var B=ih,at={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ot={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:oh,_tr_stored_block:rh,_tr_flush_block:sh,_tr_tally:Se,_tr_align:ah}=Xd,{Z_NO_FLUSH:Be,Z_PARTIAL_FLUSH:lh,Z_FULL_FLUSH:ch,Z_FINISH:Ee,Z_BLOCK:rs,Z_OK:ue,Z_STREAM_END:ss,Z_STREAM_ERROR:te,Z_DATA_ERROR:dh,Z_BUF_ERROR:qi,Z_DEFAULT_COMPRESSION:hh,Z_FILTERED:uh,Z_HUFFMAN_ONLY:Mn,Z_RLE:fh,Z_FIXED:ph,Z_DEFAULT_STRATEGY:gh,Z_UNKNOWN:mh,Z_DEFLATED:In}=Ot,bh=9,wh=15,xh=8,_h=29,yh=256,Vi=yh+1+_h,kh=30,vh=19,Ah=2*Vi+1,Dh=15,C=3,Ce=258,oe=Ce+C+1,Sh=32,Nn=42,Hi=69,zn=73,Tn=91,Rn=103,$e=113,Lt=666,F=1,Ut=2,qe=3,lt=4,Eh=3,Me=(t,e)=>(t.msg=at[e],e),as=t=>(t<<1)-(t>4?9:0),Ie=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let Ch=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Ne=Ch;const ze=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},V=(t,e)=>{sh(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ze(t.strm)},z=(t,e)=>{t.pending_buf[t.pending++]=e},jt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Mh=(t,e,n,i)=>{let o=t.avail_in;return o>i&&(o=i),o===0?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),n),t.state.wrap===1?t.adler=Rt(t.adler,e,o,n):t.state.wrap===2&&(t.adler=B(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)},ls=(t,e)=>{let n=t.max_chain_length,i=t.strstart,o,r,s=t.prev_length,a=t.nice_match;const d=t.strstart>t.w_size-oe?t.strstart-(t.w_size-oe):0,l=t.window,c=t.w_mask,p=t.prev,u=t.strstart+Ce;let h=l[i+s-1],g=l[i+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(o=e,!(l[o+s]!==g||l[o+s-1]!==h||l[o]!==l[i]||l[++o]!==l[i+1])){i+=2,o++;do;while(l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&l[++i]===l[++o]&&i<u);if(r=Ce-(u-i),i=u-Ce,r>s){if(t.match_start=e,s=r,r>=a)break;h=l[i+s-1],g=l[i+s]}}while((e=p[e&c])>d&&--n!=0);return s<=t.lookahead?s:t.lookahead},Ve=t=>{const e=t.w_size;let n,i,o,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-oe)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,i=t.hash_size,n=i;do o=t.head[--n],t.head[n]=o>=e?o-e:0;while(--i);i=e,n=i;do o=t.prev[--n],t.prev[n]=o>=e?o-e:0;while(--i);r+=e}if(t.strm.avail_in===0)break;if(i=Mh(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=i,t.lookahead+t.insert>=C)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Ne(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Ne(t,t.ins_h,t.window[s+C-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<oe&&t.strm.avail_in!==0)},Ih=(t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ve(t),t.lookahead===0&&e===Be)return F;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const i=t.block_start+n;if((t.strstart===0||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,V(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-oe&&(V(t,!1),t.strm.avail_out===0))return F}return t.insert=0,e===Ee?(V(t,!0),t.strm.avail_out===0?qe:lt):(t.strstart>t.block_start&&(V(t,!1),t.strm.avail_out===0),F)},Pi=(t,e)=>{let n,i;for(;;){if(t.lookahead<oe){if(Ve(t),t.lookahead<oe&&e===Be)return F;if(t.lookahead===0)break}if(n=0,t.lookahead>=C&&(t.ins_h=Ne(t,t.ins_h,t.window[t.strstart+C-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-oe&&(t.match_length=ls(t,n)),t.match_length>=C)if(i=Se(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){t.match_length--;do t.strstart++,t.ins_h=Ne(t,t.ins_h,t.window[t.strstart+C-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ne(t,t.ins_h,t.window[t.strstart+1]);else i=Se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(V(t,!1),t.strm.avail_out===0))return F}return t.insert=t.strstart<C-1?t.strstart:C-1,e===Ee?(V(t,!0),t.strm.avail_out===0?qe:lt):t.last_lit&&(V(t,!1),t.strm.avail_out===0)?F:Ut},ct=(t,e)=>{let n,i,o;for(;;){if(t.lookahead<oe){if(Ve(t),t.lookahead<oe&&e===Be)return F;if(t.lookahead===0)break}if(n=0,t.lookahead>=C&&(t.ins_h=Ne(t,t.ins_h,t.window[t.strstart+C-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-oe&&(t.match_length=ls(t,n),t.match_length<=5&&(t.strategy===uh||t.match_length===C&&t.strstart-t.match_start>4096)&&(t.match_length=C-1)),t.prev_length>=C&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-C,i=Se(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=Ne(t,t.ins_h,t.window[t.strstart+C-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=C-1,t.strstart++,i&&(V(t,!1),t.strm.avail_out===0))return F}else if(t.match_available){if(i=Se(t,0,t.window[t.strstart-1]),i&&V(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return F}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Se(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,e===Ee?(V(t,!0),t.strm.avail_out===0?qe:lt):t.last_lit&&(V(t,!1),t.strm.avail_out===0)?F:Ut},Nh=(t,e)=>{let n,i,o,r;const s=t.window;for(;;){if(t.lookahead<=Ce){if(Ve(t),t.lookahead<=Ce&&e===Be)return F;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=C&&t.strstart>0&&(o=t.strstart-1,i=s[o],i===s[++o]&&i===s[++o]&&i===s[++o])){r=t.strstart+Ce;do;while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&o<r);t.match_length=Ce-(r-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(n=Se(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(V(t,!1),t.strm.avail_out===0))return F}return t.insert=0,e===Ee?(V(t,!0),t.strm.avail_out===0?qe:lt):t.last_lit&&(V(t,!1),t.strm.avail_out===0)?F:Ut},zh=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Ve(t),t.lookahead===0)){if(e===Be)return F;break}if(t.match_length=0,n=Se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(V(t,!1),t.strm.avail_out===0))return F}return t.insert=0,e===Ee?(V(t,!0),t.strm.avail_out===0?qe:lt):t.last_lit&&(V(t,!1),t.strm.avail_out===0)?F:Ut};function fe(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}const Ft=[new fe(0,0,0,0,Ih),new fe(4,4,8,4,Pi),new fe(4,5,16,8,Pi),new fe(4,6,32,32,Pi),new fe(4,4,16,16,ct),new fe(8,16,32,32,ct),new fe(8,16,128,128,ct),new fe(8,32,128,256,ct),new fe(32,128,258,1024,ct),new fe(32,258,258,4096,ct)],Th=t=>{t.window_size=2*t.w_size,Ie(t.head),t.max_lazy_match=Ft[t.level].max_lazy,t.good_match=Ft[t.level].good_length,t.nice_match=Ft[t.level].nice_length,t.max_chain_length=Ft[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=C-1,t.match_available=0,t.ins_h=0};function Rh(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=In,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Ah*2),this.dyn_dtree=new Uint16Array((2*kh+1)*2),this.bl_tree=new Uint16Array((2*vh+1)*2),Ie(this.dyn_ltree),Ie(this.dyn_dtree),Ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Dh+1),this.heap=new Uint16Array(2*Vi+1),Ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Vi+1),Ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const cs=t=>{if(!t||!t.state)return Me(t,te);t.total_in=t.total_out=0,t.data_type=mh;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Nn:$e,t.adler=e.wrap===2?0:1,e.last_flush=Be,oh(e),ue},ds=t=>{const e=cs(t);return e===ue&&Th(t.state),e},Oh=(t,e)=>!t||!t.state||t.state.wrap!==2?te:(t.state.gzhead=e,ue),hs=(t,e,n,i,o,r)=>{if(!t)return te;let s=1;if(e===hh&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>bh||n!==In||i<8||i>15||e<0||e>9||r<0||r>ph)return Me(t,te);i===8&&(i=9);const a=new Rh;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+C-1)/C),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=e,a.strategy=r,a.method=n,ds(t)},Lh=(t,e)=>hs(t,e,In,wh,xh,gh),Uh=(t,e)=>{let n,i;if(!t||!t.state||e>rs||e<0)return t?Me(t,te):te;const o=t.state;if(!t.output||!t.input&&t.avail_in!==0||o.status===Lt&&e!==Ee)return Me(t,t.avail_out===0?qi:te);o.strm=t;const r=o.last_flush;if(o.last_flush=e,o.status===Nn)if(o.wrap===2)t.adler=0,z(o,31),z(o,139),z(o,8),o.gzhead?(z(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),z(o,o.gzhead.time&255),z(o,o.gzhead.time>>8&255),z(o,o.gzhead.time>>16&255),z(o,o.gzhead.time>>24&255),z(o,o.level===9?2:o.strategy>=Mn||o.level<2?4:0),z(o,o.gzhead.os&255),o.gzhead.extra&&o.gzhead.extra.length&&(z(o,o.gzhead.extra.length&255),z(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=B(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=Hi):(z(o,0),z(o,0),z(o,0),z(o,0),z(o,0),z(o,o.level===9?2:o.strategy>=Mn||o.level<2?4:0),z(o,Eh),o.status=$e);else{let s=In+(o.w_bits-8<<4)<<8,a=-1;o.strategy>=Mn||o.level<2?a=0:o.level<6?a=1:o.level===6?a=2:a=3,s|=a<<6,o.strstart!==0&&(s|=Sh),s+=31-s%31,o.status=$e,jt(o,s),o.strstart!==0&&(jt(o,t.adler>>>16),jt(o,t.adler&65535)),t.adler=1}if(o.status===Hi)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(o.gzhead.extra.length&65535)&&!(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=B(t.adler,o.pending_buf,o.pending-n,n)),ze(t),n=o.pending,o.pending===o.pending_buf_size));)z(o,o.gzhead.extra[o.gzindex]&255),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(t.adler=B(t.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=zn)}else o.status=zn;if(o.status===zn)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=B(t.adler,o.pending_buf,o.pending-n,n)),ze(t),n=o.pending,o.pending===o.pending_buf_size)){i=1;break}o.gzindex<o.gzhead.name.length?i=o.gzhead.name.charCodeAt(o.gzindex++)&255:i=0,z(o,i)}while(i!==0);o.gzhead.hcrc&&o.pending>n&&(t.adler=B(t.adler,o.pending_buf,o.pending-n,n)),i===0&&(o.gzindex=0,o.status=Tn)}else o.status=Tn;if(o.status===Tn)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=B(t.adler,o.pending_buf,o.pending-n,n)),ze(t),n=o.pending,o.pending===o.pending_buf_size)){i=1;break}o.gzindex<o.gzhead.comment.length?i=o.gzhead.comment.charCodeAt(o.gzindex++)&255:i=0,z(o,i)}while(i!==0);o.gzhead.hcrc&&o.pending>n&&(t.adler=B(t.adler,o.pending_buf,o.pending-n,n)),i===0&&(o.status=Rn)}else o.status=Rn;if(o.status===Rn&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ze(t),o.pending+2<=o.pending_buf_size&&(z(o,t.adler&255),z(o,t.adler>>8&255),t.adler=0,o.status=$e)):o.status=$e),o.pending!==0){if(ze(t),t.avail_out===0)return o.last_flush=-1,ue}else if(t.avail_in===0&&as(e)<=as(r)&&e!==Ee)return Me(t,qi);if(o.status===Lt&&t.avail_in!==0)return Me(t,qi);if(t.avail_in!==0||o.lookahead!==0||e!==Be&&o.status!==Lt){let s=o.strategy===Mn?zh(o,e):o.strategy===fh?Nh(o,e):Ft[o.level].func(o,e);if((s===qe||s===lt)&&(o.status=Lt),s===F||s===qe)return t.avail_out===0&&(o.last_flush=-1),ue;if(s===Ut&&(e===lh?ah(o):e!==rs&&(rh(o,0,0,!1),e===ch&&(Ie(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),ze(t),t.avail_out===0))return o.last_flush=-1,ue}return e!==Ee?ue:o.wrap<=0?ss:(o.wrap===2?(z(o,t.adler&255),z(o,t.adler>>8&255),z(o,t.adler>>16&255),z(o,t.adler>>24&255),z(o,t.total_in&255),z(o,t.total_in>>8&255),z(o,t.total_in>>16&255),z(o,t.total_in>>24&255)):(jt(o,t.adler>>>16),jt(o,t.adler&65535)),ze(t),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?ue:ss)},jh=t=>{if(!t||!t.state)return te;const e=t.state.status;return e!==Nn&&e!==Hi&&e!==zn&&e!==Tn&&e!==Rn&&e!==$e&&e!==Lt?Me(t,te):(t.state=null,e===$e?Me(t,dh):ue)},Fh=(t,e)=>{let n=e.length;if(!t||!t.state)return te;const i=t.state,o=i.wrap;if(o===2||o===1&&i.status!==Nn||i.lookahead)return te;if(o===1&&(t.adler=Rt(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){o===0&&(Ie(i.head),i.strstart=0,i.block_start=0,i.insert=0);let d=new Uint8Array(i.w_size);d.set(e.subarray(n-i.w_size,n),0),e=d,n=i.w_size}const r=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Ve(i);i.lookahead>=C;){let d=i.strstart,l=i.lookahead-(C-1);do i.ins_h=Ne(i,i.ins_h,i.window[d+C-1]),i.prev[d&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=d,d++;while(--l);i.strstart=d,i.lookahead=C-1,Ve(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=C-1,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=r,i.wrap=o,ue};var Zh=Lh,Bh=hs,$h=ds,qh=cs,Vh=Oh,Hh=Uh,Ph=jh,Gh=Fh,Yh="pako deflate (from Nodeca project)",Zt={deflateInit:Zh,deflateInit2:Bh,deflateReset:$h,deflateResetKeep:qh,deflateSetHeader:Vh,deflate:Hh,deflateEnd:Ph,deflateSetDictionary:Gh,deflateInfo:Yh};const Qh=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Wh=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)Qh(n,i)&&(t[i]=n[i])}}return t},Jh=t=>{let e=0;for(let i=0,o=t.length;i<o;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,o=0,r=t.length;i<r;i++){let s=t[i];n.set(s,o),o+=s.length}return n},On={assign:Wh,flattenChunks:Jh};let us=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){us=!1}const Bt=new Uint8Array(256);for(let t=0;t<256;t++)Bt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Bt[254]=Bt[254]=1;var Kh=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,o,r,s=t.length,a=0;for(o=0;o<s;o++)n=t.charCodeAt(o),(n&64512)==55296&&o+1<s&&(i=t.charCodeAt(o+1),(i&64512)==56320&&(n=65536+(n-55296<<10)+(i-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),r=0,o=0;r<a;o++)n=t.charCodeAt(o),(n&64512)==55296&&o+1<s&&(i=t.charCodeAt(o+1),(i&64512)==56320&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?e[r++]=n:n<2048?(e[r++]=192|n>>>6,e[r++]=128|n&63):n<65536?(e[r++]=224|n>>>12,e[r++]=128|n>>>6&63,e[r++]=128|n&63):(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63,e[r++]=128|n>>>6&63,e[r++]=128|n&63);return e};const Xh=(t,e)=>{if(e<65534&&t.subarray&&us)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var eu=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,o;const r=new Array(n*2);for(o=0,i=0;i<n;){let s=t[i++];if(s<128){r[o++]=s;continue}let a=Bt[s];if(a>4){r[o++]=65533,i+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&i<n;)s=s<<6|t[i++]&63,a--;if(a>1){r[o++]=65533;continue}s<65536?r[o++]=s:(s-=65536,r[o++]=55296|s>>10&1023,r[o++]=56320|s&1023)}return Xh(r,o)},tu=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)==128;)n--;return n<0||n===0?e:n+Bt[t[n]]>e?n:e},$t={string2buf:Kh,buf2string:eu,utf8border:tu};function nu(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fs=nu;const ps=Object.prototype.toString,{Z_NO_FLUSH:iu,Z_SYNC_FLUSH:ou,Z_FULL_FLUSH:ru,Z_FINISH:su,Z_OK:Ln,Z_STREAM_END:au,Z_DEFAULT_COMPRESSION:lu,Z_DEFAULT_STRATEGY:cu,Z_DEFLATED:du}=Ot;function qt(t){this.options=On.assign({level:lu,method:du,chunkSize:16384,windowBits:15,memLevel:8,strategy:cu},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fs,this.strm.avail_out=0;let n=Zt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Ln)throw new Error(at[n]);if(e.header&&Zt.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(typeof e.dictionary=="string"?i=$t.string2buf(e.dictionary):ps.call(e.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(e.dictionary):i=e.dictionary,n=Zt.deflateSetDictionary(this.strm,i),n!==Ln)throw new Error(at[n]);this._dict_set=!0}}qt.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let o,r;if(this.ended)return!1;for(e===~~e?r=e:r=e===!0?su:iu,typeof t=="string"?n.input=$t.string2buf(t):ps.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(r===ou||r===ru)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Zt.deflate(n,r),o===au)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Zt.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Ln;if(n.avail_out===0){this.onData(n.output);continue}if(r>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};qt.prototype.onData=function(t){this.chunks.push(t)};qt.prototype.onEnd=function(t){t===Ln&&(this.result=On.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Gi(t,e){const n=new qt(e);if(n.push(t,!0),n.err)throw n.msg||at[n.err];return n.result}function hu(t,e){return e=e||{},e.raw=!0,Gi(t,e)}function uu(t,e){return e=e||{},e.gzip=!0,Gi(t,e)}var fu=qt,pu=Gi,gu=hu,mu=uu,bu=Ot,wu={Deflate:fu,deflate:pu,deflateRaw:gu,gzip:mu,constants:bu};const Un=30,xu=12;var _u=function(e,n){let i,o,r,s,a,d,l,c,p,u,h,g,y,k,v,E,D,_,I,U,f,w,m,b;const x=e.state;i=e.next_in,m=e.input,o=i+(e.avail_in-5),r=e.next_out,b=e.output,s=r-(n-e.avail_out),a=r+(e.avail_out-257),d=x.dmax,l=x.wsize,c=x.whave,p=x.wnext,u=x.window,h=x.hold,g=x.bits,y=x.lencode,k=x.distcode,v=(1<<x.lenbits)-1,E=(1<<x.distbits)-1;e:do{g<15&&(h+=m[i++]<<g,g+=8,h+=m[i++]<<g,g+=8),D=y[h&v];t:for(;;){if(_=D>>>24,h>>>=_,g-=_,_=D>>>16&255,_===0)b[r++]=D&65535;else if(_&16){I=D&65535,_&=15,_&&(g<_&&(h+=m[i++]<<g,g+=8),I+=h&(1<<_)-1,h>>>=_,g-=_),g<15&&(h+=m[i++]<<g,g+=8,h+=m[i++]<<g,g+=8),D=k[h&E];n:for(;;){if(_=D>>>24,h>>>=_,g-=_,_=D>>>16&255,_&16){if(U=D&65535,_&=15,g<_&&(h+=m[i++]<<g,g+=8,g<_&&(h+=m[i++]<<g,g+=8)),U+=h&(1<<_)-1,U>d){e.msg="invalid distance too far back",x.mode=Un;break e}if(h>>>=_,g-=_,_=r-s,U>_){if(_=U-_,_>c&&x.sane){e.msg="invalid distance too far back",x.mode=Un;break e}if(f=0,w=u,p===0){if(f+=l-_,_<I){I-=_;do b[r++]=u[f++];while(--_);f=r-U,w=b}}else if(p<_){if(f+=l+p-_,_-=p,_<I){I-=_;do b[r++]=u[f++];while(--_);if(f=0,p<I){_=p,I-=_;do b[r++]=u[f++];while(--_);f=r-U,w=b}}}else if(f+=p-_,_<I){I-=_;do b[r++]=u[f++];while(--_);f=r-U,w=b}for(;I>2;)b[r++]=w[f++],b[r++]=w[f++],b[r++]=w[f++],I-=3;I&&(b[r++]=w[f++],I>1&&(b[r++]=w[f++]))}else{f=r-U;do b[r++]=b[f++],b[r++]=b[f++],b[r++]=b[f++],I-=3;while(I>2);I&&(b[r++]=b[f++],I>1&&(b[r++]=b[f++]))}}else if((_&64)==0){D=k[(D&65535)+(h&(1<<_)-1)];continue n}else{e.msg="invalid distance code",x.mode=Un;break e}break}}else if((_&64)==0){D=y[(D&65535)+(h&(1<<_)-1)];continue t}else if(_&32){x.mode=xu;break e}else{e.msg="invalid literal/length code",x.mode=Un;break e}break}}while(i<o&&r<a);I=g>>3,i-=I,g-=I<<3,h&=(1<<g)-1,e.next_in=i,e.next_out=r,e.avail_in=i<o?5+(o-i):5-(i-o),e.avail_out=r<a?257+(a-r):257-(r-a),x.hold=h,x.bits=g};const dt=15,gs=852,ms=592,bs=0,Yi=1,ws=2,yu=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ku=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vu=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Au=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Du=(t,e,n,i,o,r,s,a)=>{const d=a.bits;let l=0,c=0,p=0,u=0,h=0,g=0,y=0,k=0,v=0,E=0,D,_,I,U,f,w=null,m=0,b;const x=new Uint16Array(dt+1),M=new Uint16Array(dt+1);let T=null,re=0,pe,P,W;for(l=0;l<=dt;l++)x[l]=0;for(c=0;c<i;c++)x[e[n+c]]++;for(h=d,u=dt;u>=1&&x[u]===0;u--);if(h>u&&(h=u),u===0)return o[r++]=1<<24|64<<16|0,o[r++]=1<<24|64<<16|0,a.bits=1,0;for(p=1;p<u&&x[p]===0;p++);for(h<p&&(h=p),k=1,l=1;l<=dt;l++)if(k<<=1,k-=x[l],k<0)return-1;if(k>0&&(t===bs||u!==1))return-1;for(M[1]=0,l=1;l<dt;l++)M[l+1]=M[l]+x[l];for(c=0;c<i;c++)e[n+c]!==0&&(s[M[e[n+c]]++]=c);if(t===bs?(w=T=s,b=19):t===Yi?(w=yu,m-=257,T=ku,re-=257,b=256):(w=vu,T=Au,b=-1),E=0,c=0,l=p,f=r,g=h,y=0,I=-1,v=1<<h,U=v-1,t===Yi&&v>gs||t===ws&&v>ms)return 1;for(;;){pe=l-y,s[c]<b?(P=0,W=s[c]):s[c]>b?(P=T[re+s[c]],W=w[m+s[c]]):(P=32+64,W=0),D=1<<l-y,_=1<<g,p=_;do _-=D,o[f+(E>>y)+_]=pe<<24|P<<16|W|0;while(_!==0);for(D=1<<l-1;E&D;)D>>=1;if(D!==0?(E&=D-1,E+=D):E=0,c++,--x[l]==0){if(l===u)break;l=e[n+s[c]]}if(l>h&&(E&U)!==I){for(y===0&&(y=h),f+=p,g=l-y,k=1<<g;g+y<u&&(k-=x[g+y],!(k<=0));)g++,k<<=1;if(v+=1<<g,t===Yi&&v>gs||t===ws&&v>ms)return 1;I=E&U,o[I]=h<<24|g<<16|f-r|0}}return E!==0&&(o[f+E]=l-y<<24|64<<16|0),a.bits=h,0};var Vt=Du;const Su=0,xs=1,_s=2,{Z_FINISH:ys,Z_BLOCK:Eu,Z_TREES:jn,Z_OK:He,Z_STREAM_END:Cu,Z_NEED_DICT:Mu,Z_STREAM_ERROR:ne,Z_DATA_ERROR:ks,Z_MEM_ERROR:vs,Z_BUF_ERROR:Iu,Z_DEFLATED:As}=Ot,Ds=1,Ss=2,Es=3,Cs=4,Ms=5,Is=6,Ns=7,zs=8,Ts=9,Rs=10,Fn=11,xe=12,Qi=13,Os=14,Wi=15,Ls=16,Us=17,js=18,Fs=19,Zn=20,Bn=21,Zs=22,Bs=23,$s=24,qs=25,Vs=26,Ji=27,Hs=28,Ps=29,O=30,Gs=31,Nu=32,zu=852,Tu=592,Ru=15,Ou=Ru,Ys=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Lu(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qs=t=>{if(!t||!t.state)return ne;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ds,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(zu),e.distcode=e.distdyn=new Int32Array(Tu),e.sane=1,e.back=-1,He},Ws=t=>{if(!t||!t.state)return ne;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Qs(t)},Js=(t,e)=>{let n;if(!t||!t.state)return ne;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?ne:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,Ws(t))},Ks=(t,e)=>{if(!t)return ne;const n=new Lu;t.state=n,n.window=null;const i=Js(t,e);return i!==He&&(t.state=null),i},Uu=t=>Ks(t,Ou);let Xs=!0,Ki,Xi;const ju=t=>{if(Xs){Ki=new Int32Array(512),Xi=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Vt(xs,t.lens,0,288,Ki,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Vt(_s,t.lens,0,32,Xi,0,t.work,{bits:5}),Xs=!1}t.lencode=Ki,t.lenbits=9,t.distcode=Xi,t.distbits=5},ea=(t,e,n,i)=>{let o;const r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(e.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>i&&(o=i),r.window.set(e.subarray(n-i,n-i+o),r.wnext),i-=o,i?(r.window.set(e.subarray(n-i,n),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0},Fu=(t,e)=>{let n,i,o,r,s,a,d,l,c,p,u,h,g,y,k=0,v,E,D,_,I,U,f,w;const m=new Uint8Array(4);let b,x;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return ne;n=t.state,n.mode===xe&&(n.mode=Qi),s=t.next_out,o=t.output,d=t.avail_out,r=t.next_in,i=t.input,a=t.avail_in,l=n.hold,c=n.bits,p=a,u=d,w=He;e:for(;;)switch(n.mode){case Ds:if(n.wrap===0){n.mode=Qi;break}for(;c<16;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if(n.wrap&2&&l===35615){n.check=0,m[0]=l&255,m[1]=l>>>8&255,n.check=B(n.check,m,2,0),l=0,c=0,n.mode=Ss;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=O;break}if((l&15)!==As){t.msg="unknown compression method",n.mode=O;break}if(l>>>=4,c-=4,f=(l&15)+8,n.wbits===0)n.wbits=f;else if(f>n.wbits){t.msg="invalid window size",n.mode=O;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=l&512?Rs:xe,l=0,c=0;break;case Ss:for(;c<16;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if(n.flags=l,(n.flags&255)!==As){t.msg="unknown compression method",n.mode=O;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=O;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&(m[0]=l&255,m[1]=l>>>8&255,n.check=B(n.check,m,2,0)),l=0,c=0,n.mode=Es;case Es:for(;c<32;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}n.head&&(n.head.time=l),n.flags&512&&(m[0]=l&255,m[1]=l>>>8&255,m[2]=l>>>16&255,m[3]=l>>>24&255,n.check=B(n.check,m,4,0)),l=0,c=0,n.mode=Cs;case Cs:for(;c<16;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&(m[0]=l&255,m[1]=l>>>8&255,n.check=B(n.check,m,2,0)),l=0,c=0,n.mode=Ms;case Ms:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&(m[0]=l&255,m[1]=l>>>8&255,n.check=B(n.check,m,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=Is;case Is:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(f=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(r,r+h),f)),n.flags&512&&(n.check=B(n.check,i,h,r)),a-=h,r+=h,n.length-=h),n.length))break e;n.length=0,n.mode=Ns;case Ns:if(n.flags&2048){if(a===0)break e;h=0;do f=i[r+h++],n.head&&f&&n.length<65536&&(n.head.name+=String.fromCharCode(f));while(f&&h<a);if(n.flags&512&&(n.check=B(n.check,i,h,r)),a-=h,r+=h,f)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=zs;case zs:if(n.flags&4096){if(a===0)break e;h=0;do f=i[r+h++],n.head&&f&&n.length<65536&&(n.head.comment+=String.fromCharCode(f));while(f&&h<a);if(n.flags&512&&(n.check=B(n.check,i,h,r)),a-=h,r+=h,f)break e}else n.head&&(n.head.comment=null);n.mode=Ts;case Ts:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if(l!==(n.check&65535)){t.msg="header crc mismatch",n.mode=O;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=xe;break;case Rs:for(;c<32;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}t.adler=n.check=Ys(l),l=0,c=0,n.mode=Fn;case Fn:if(n.havedict===0)return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,n.hold=l,n.bits=c,Mu;t.adler=n.check=1,n.mode=xe;case xe:if(e===Eu||e===jn)break e;case Qi:if(n.last){l>>>=c&7,c-=c&7,n.mode=Ji;break}for(;c<3;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}switch(n.last=l&1,l>>>=1,c-=1,l&3){case 0:n.mode=Os;break;case 1:if(ju(n),n.mode=Zn,e===jn){l>>>=2,c-=2;break e}break;case 2:n.mode=Us;break;case 3:t.msg="invalid block type",n.mode=O}l>>>=2,c-=2;break;case Os:for(l>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if((l&65535)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=O;break}if(n.length=l&65535,l=0,c=0,n.mode=Wi,e===jn)break e;case Wi:n.mode=Ls;case Ls:if(h=n.length,h){if(h>a&&(h=a),h>d&&(h=d),h===0)break e;o.set(i.subarray(r,r+h),s),a-=h,r+=h,d-=h,s+=h,n.length-=h;break}n.mode=xe;break;case Us:for(;c<14;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if(n.nlen=(l&31)+257,l>>>=5,c-=5,n.ndist=(l&31)+1,l>>>=5,c-=5,n.ncode=(l&15)+4,l>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=O;break}n.have=0,n.mode=js;case js:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}n.lens[M[n.have++]]=l&7,l>>>=3,c-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,b={bits:n.lenbits},w=Vt(Su,n.lens,0,19,n.lencode,0,n.work,b),n.lenbits=b.bits,w){t.msg="invalid code lengths set",n.mode=O;break}n.have=0,n.mode=Fs;case Fs:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[l&(1<<n.lenbits)-1],v=k>>>24,E=k>>>16&255,D=k&65535,!(v<=c);){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if(D<16)l>>>=v,c-=v,n.lens[n.have++]=D;else{if(D===16){for(x=v+2;c<x;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if(l>>>=v,c-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=O;break}f=n.lens[n.have-1],h=3+(l&3),l>>>=2,c-=2}else if(D===17){for(x=v+3;c<x;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}l>>>=v,c-=v,f=0,h=3+(l&7),l>>>=3,c-=3}else{for(x=v+7;c<x;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}l>>>=v,c-=v,f=0,h=11+(l&127),l>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=O;break}for(;h--;)n.lens[n.have++]=f}}if(n.mode===O)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=O;break}if(n.lenbits=9,b={bits:n.lenbits},w=Vt(xs,n.lens,0,n.nlen,n.lencode,0,n.work,b),n.lenbits=b.bits,w){t.msg="invalid literal/lengths set",n.mode=O;break}if(n.distbits=6,n.distcode=n.distdyn,b={bits:n.distbits},w=Vt(_s,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,b),n.distbits=b.bits,w){t.msg="invalid distances set",n.mode=O;break}if(n.mode=Zn,e===jn)break e;case Zn:n.mode=Bn;case Bn:if(a>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,n.hold=l,n.bits=c,_u(t,u),s=t.next_out,o=t.output,d=t.avail_out,r=t.next_in,i=t.input,a=t.avail_in,l=n.hold,c=n.bits,n.mode===xe&&(n.back=-1);break}for(n.back=0;k=n.lencode[l&(1<<n.lenbits)-1],v=k>>>24,E=k>>>16&255,D=k&65535,!(v<=c);){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if(E&&(E&240)==0){for(_=v,I=E,U=D;k=n.lencode[U+((l&(1<<_+I)-1)>>_)],v=k>>>24,E=k>>>16&255,D=k&65535,!(_+v<=c);){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}l>>>=_,c-=_,n.back+=_}if(l>>>=v,c-=v,n.back+=v,n.length=D,E===0){n.mode=Vs;break}if(E&32){n.back=-1,n.mode=xe;break}if(E&64){t.msg="invalid literal/length code",n.mode=O;break}n.extra=E&15,n.mode=Zs;case Zs:if(n.extra){for(x=n.extra;c<x;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Bs;case Bs:for(;k=n.distcode[l&(1<<n.distbits)-1],v=k>>>24,E=k>>>16&255,D=k&65535,!(v<=c);){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if((E&240)==0){for(_=v,I=E,U=D;k=n.distcode[U+((l&(1<<_+I)-1)>>_)],v=k>>>24,E=k>>>16&255,D=k&65535,!(_+v<=c);){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}l>>>=_,c-=_,n.back+=_}if(l>>>=v,c-=v,n.back+=v,E&64){t.msg="invalid distance code",n.mode=O;break}n.offset=D,n.extra=E&15,n.mode=$s;case $s:if(n.extra){for(x=n.extra;c<x;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=O;break}n.mode=qs;case qs:if(d===0)break e;if(h=u-d,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=O;break}h>n.wnext?(h-=n.wnext,g=n.wsize-h):g=n.wnext-h,h>n.length&&(h=n.length),y=n.window}else y=o,g=s-n.offset,h=n.length;h>d&&(h=d),d-=h,n.length-=h;do o[s++]=y[g++];while(--h);n.length===0&&(n.mode=Bn);break;case Vs:if(d===0)break e;o[s++]=n.length,d--,n.mode=Bn;break;case Ji:if(n.wrap){for(;c<32;){if(a===0)break e;a--,l|=i[r++]<<c,c+=8}if(u-=d,t.total_out+=u,n.total+=u,u&&(t.adler=n.check=n.flags?B(n.check,o,u,s-u):Rt(n.check,o,u,s-u)),u=d,(n.flags?l:Ys(l))!==n.check){t.msg="incorrect data check",n.mode=O;break}l=0,c=0}n.mode=Hs;case Hs:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,l+=i[r++]<<c,c+=8}if(l!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=O;break}l=0,c=0}n.mode=Ps;case Ps:w=Cu;break e;case O:w=ks;break e;case Gs:return vs;case Nu:default:return ne}return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,n.hold=l,n.bits=c,(n.wsize||u!==t.avail_out&&n.mode<O&&(n.mode<Ji||e!==ys))&&ea(t,t.output,t.next_out,u-t.avail_out),p-=t.avail_in,u-=t.avail_out,t.total_in+=p,t.total_out+=u,n.total+=u,n.wrap&&u&&(t.adler=n.check=n.flags?B(n.check,o,u,t.next_out-u):Rt(n.check,o,u,t.next_out-u)),t.data_type=n.bits+(n.last?64:0)+(n.mode===xe?128:0)+(n.mode===Zn||n.mode===Wi?256:0),(p===0&&u===0||e===ys)&&w===He&&(w=Iu),w},Zu=t=>{if(!t||!t.state)return ne;let e=t.state;return e.window&&(e.window=null),t.state=null,He},Bu=(t,e)=>{if(!t||!t.state)return ne;const n=t.state;return(n.wrap&2)==0?ne:(n.head=e,e.done=!1,He)},$u=(t,e)=>{const n=e.length;let i,o,r;return!t||!t.state||(i=t.state,i.wrap!==0&&i.mode!==Fn)?ne:i.mode===Fn&&(o=1,o=Rt(o,e,n,0),o!==i.check)?ks:(r=ea(t,e,n,n),r?(i.mode=Gs,vs):(i.havedict=1,He))};var qu=Ws,Vu=Js,Hu=Qs,Pu=Uu,Gu=Ks,Yu=Fu,Qu=Zu,Wu=Bu,Ju=$u,Ku="pako inflate (from Nodeca project)",_e={inflateReset:qu,inflateReset2:Vu,inflateResetKeep:Hu,inflateInit:Pu,inflateInit2:Gu,inflate:Yu,inflateEnd:Qu,inflateGetHeader:Wu,inflateSetDictionary:Ju,inflateInfo:Ku};function Xu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ef=Xu;const ta=Object.prototype.toString,{Z_NO_FLUSH:tf,Z_FINISH:nf,Z_OK:Ht,Z_STREAM_END:eo,Z_NEED_DICT:to,Z_STREAM_ERROR:of,Z_DATA_ERROR:na,Z_MEM_ERROR:rf}=Ot;function no(t){this.options=On.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fs,this.strm.avail_out=0;let n=_e.inflateInit2(this.strm,e.windowBits);if(n!==Ht)throw new Error(at[n]);if(this.header=new ef,_e.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=$t.string2buf(e.dictionary):ta.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=_e.inflateSetDictionary(this.strm,e.dictionary),n!==Ht)))throw new Error(at[n])}no.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,o=this.options.dictionary;let r,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?nf:tf,ta.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),r=_e.inflate(n,s),r===to&&o&&(r=_e.inflateSetDictionary(n,o),r===Ht?r=_e.inflate(n,s):r===na&&(r=to));n.avail_in>0&&r===eo&&n.state.wrap>0&&t[n.next_in]!==0;)_e.inflateReset(n),r=_e.inflate(n,s);switch(r){case of:case na:case to:case rf:return this.onEnd(r),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||r===eo))if(this.options.to==="string"){let d=$t.utf8border(n.output,n.next_out),l=n.next_out-d,c=$t.buf2string(n.output,d);n.next_out=l,n.avail_out=i-l,l&&n.output.set(n.output.subarray(d,d+l),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(r===Ht&&a===0)){if(r===eo)return r=_e.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};no.prototype.onData=function(t){this.chunks.push(t)};no.prototype.onEnd=function(t){t===Ht&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=On.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:bf,deflate:wf,deflateRaw:sf,gzip:xf}=wu;var af=sf;const $n=class{hasLanguage(t){return Object.prototype.hasOwnProperty.call($n.lanMap,t)}getLanguages(){return Object.keys($n.lanMap)}async runCode(t,e){if(!this.hasLanguage(e))return`Language not supported!
`;try{const n=unescape(encodeURIComponent($n.lanMap[e])),i=unescape(encodeURIComponent(t)),o=`Vlang\0${1}\0${n}\0VTIO_CFLAGS\0${0}\0F.code.tio\0${i.length}\0${i}F.input.tio\0${0}\0Vargs\0${0}\0R`,r=await fetch("https://tio.run/cgi-bin/run/api/",{method:"POST",body:new Blob([af(lf(o),{level:9})])});if(!r.ok)return`${r.status} ${r.statusText}`;const s=await r.text(),a=s.slice(0,16),d=s.split(`
`);if(!s.includes("Real time:"))return s.split(a).join("");for(let u=d.length-1;u>=0;u--){const h=d[u];if(h.startsWith(a)||(d.pop(),h.startsWith("Real time:")))break}const l=d.join(`
`),[c,p]=l.slice(16).split(a);return p||c}catch(n){return`${n instanceof Error?n.message:String(n)}
`}}};let ia=$n;ia.lanMap={clojure:"clojure",coffeescript:"coffeescript",c:"c-gcc",cpp:"cpp-gcc",csharp:"cs-mono",dart:"dart",elixir:"elixir",fsharp:"fs-mono",go:"go",java:"java-jdk",javascript:"javascript-node",julia:"julia",kotlin:"kotlin",lua:"lua","objective-c":"objective-c-gcc",pascal:"pascal-fpc",perl:"perl6",php:"php",powershell:"powershell",python:"python3",r:"r",ruby:"ruby",rust:"rust",scala:"scala",shell:"bash",sql:"spl",swift:"swift4",tcl:"tcl",typescript:"typescript",vb:"vb-core"};function lf(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}class cf{constructor(e,n,i,o,r){this.context=e,this.attrs=n,this.box=i,this.monaco=o,this.readonly=r,this.compiler=new ia,this.sideEffect=new Pt,this.terminal=new Ed(e,n,this.compiler),this.yDoc=new Je,this.yText=this.yDoc.getText("monaco"),this.$container=this.renderContainer(),this.box.mountContent(this.$container);const s=document.createElement("div");s.className=this.wrapClassName("editor"),this.$container.appendChild(s),this.editor=this.monaco.editor.create(s,{value:"",automaticLayout:!0,readOnly:r,language:this.attrs.lang,fixedOverflowWidgets:!1});const a=this.renderFooter();this.$container.appendChild(a),this.yBinding=new Sd(e,n,i,this.monaco,this.editor,this.yDoc,this.yText,r)}setReadonly(e){e!==this.readonly&&(this.readonly=e,this.$container.classList.toggle(this.wrapClassName("readonly"),e),this.editor.updateOptions({readOnly:e}),this.yBinding.setReadonly(e))}renderContainer(){const e=document.createElement("div");return e.className=this.wrapClassName("editor-container"),this.readonly&&e.classList.add(this.wrapClassName("cursor-readonly")),e}renderFooter(){const e=document.createElement("div");e.className=this.wrapClassName("footer"),this.readonly&&e.classList.add(this.wrapClassName("readonly"));const n=document.createElement("div");n.className=this.wrapClassName("footer-ctrl"),e.appendChild(n);const i=document.createElement("select");i.className=this.wrapClassName("lang-select"),this.monaco.languages.getLanguages().forEach(r=>{const s=document.createElement("option");s.value=r.id,s.textContent=r.id,i.appendChild(s)}),i.value=this.attrs.lang,n.appendChild(i);const o=document.createElement("button");return o.className=this.wrapClassName("run-code"),o.textContent="Run",o.disabled=!this.compiler.hasLanguage(this.attrs.lang),n.appendChild(o),this.sideEffect.addEventListener(i,"change",()=>{const r=i.value;!this.readonly&&r&&r!==this.attrs.lang&&this.context.updateAttributes(["lang"],r)}),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.lang,r=>{r&&(this.monaco.editor.setModelLanguage(this.yBinding.monacoModel,r),i.value=r,o.disabled=!this.compiler.hasLanguage(r))})),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.codeRunning,r=>{o.disabled=r})),this.sideEffect.addEventListener(o,"click",async()=>{const r=this.editor.getValue();this.readonly||!r.trim()||(this.context.updateAttributes(["codeRunning"],!0),await this.terminal.runCode(r,this.attrs.lang),this.context.updateAttributes(["codeRunning"],!1))}),e.appendChild(this.terminal.$content),e}wrapClassName(e){return`netless-app-monaco-${e}`}destroy(){this.editor.dispose()}}const _f={kind:la,async setup(t){const e=t.getBox(),n=da(t,{text:"",cursors:{},selections:{},lang:"javascript",terminal:"",codeRunning:!1});e.mountStyles(ha+ua);const i=t.getAppOptions();i&&i.loader&&bo.config(i.loader);const o=await bo.init(),r=new cf(t,n,e,o,!t.getIsWritable()),s=new _d(t,n,r.yDoc,r.yText);return t.emitter.on("writableChange",a=>{r.setReadonly(!a)}),t.emitter.on("destroy",()=>{s.destroy(),r.destroy()}),r}};export{_f as default};
