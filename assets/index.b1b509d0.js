var t=Object.defineProperty,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(e,o,n)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,r=(t,r)=>{for(var s in r||(r={}))o.call(r,s)&&i(t,s,r[s]);if(e)for(var s of e(r))n.call(r,s)&&i(t,s,r[s]);return t};"undefined"!=typeof require&&require;import{s}from"./side-effect-manager.es.3578cf95.js";import{k as a}from"./playground.84000608.js";import{K as c}from"./vendor.11e371e9.js";import"./index.4639e69b.js";function l(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){l(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function g(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach((function(e){p(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function f(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return function(t){return e.reduceRight((function(t,e){return e(t)}),t)}}function b(t){return function e(){for(var o=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.length>=t.length?t.apply(this,i):function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(o,[].concat(i,n))}}}function w(t){return{}.toString.call(t).includes("Object")}function x(t){return"function"==typeof t}var y=b((function(t,e){throw new Error(t[e]||t.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),k={changes:function(t,e){return w(e)||y("changeType"),Object.keys(e).some((function(e){return o=t,n=e,!Object.prototype.hasOwnProperty.call(o,n);var o,n}))&&y("changeField"),e},selector:function(t){x(t)||y("selectorType")},handler:function(t){x(t)||w(t)||y("handlerType"),w(t)&&Object.values(t).some((function(t){return!x(t)}))&&y("handlersType")},initial:function(t){var e;t||y("initialIsRequired"),w(t)||y("initialType"),e=t,Object.keys(e).length||y("initialContent")}};function v(t,e){return x(e)?e(t.current):e}function _(t,e){return t.current=m(m({},t.current),e),e}function A(t,e,o){return x(e)?e(t.current):Object.keys(o).forEach((function(o){var n;return null===(n=e[o])||void 0===n?void 0:n.call(e,t.current[o])})),o}var D={create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k.initial(t),k.handler(e);var o={current:t},n=b(A)(o,e),i=b(_)(o),r=b(k.changes)(t),s=b(v)(o);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return k.selector(t),t(o.current)}function c(t){f(n,i,r,s)(t)}return[a,c]}};var M,C={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},E=(M=function(t,e){throw new Error(t[e]||t.default)},function t(){for(var e=this,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return n.length>=M.length?M.apply(this,n):function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t.apply(e,[].concat(n,i))}})(C),z={config:function(t){var e;return t||E("configIsRequired"),e=t,{}.toString.call(e).includes("Object")||E("configType"),t.urls?(console.warn(C.deprecation),{paths:{vs:t.urls.monacoBase}}):t}};function S(t,e){return Object.keys(e).forEach((function(o){e[o]instanceof Object&&t[o]&&Object.assign(e[o],S(t[o],e[o]))})),h(h({},t),e)}var N={type:"cancelation",msg:"operation is manually canceled"};function I(t){var e=!1,o=new Promise((function(o,n){t.then((function(t){return e?n(N):o(t)})),t.catch(n)}));return o.cancel=function(){return e=!0},o}var O,R,j=D.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.25.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),L=(R=2,function(t){if(Array.isArray(t))return t}(O=j)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var o=[],n=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);n=!0);}catch(c){i=!0,r=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return o}}(O,R)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(t,e):void 0}}(O,R)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),T=L[0],U=L[1];function q(t){return document.body.appendChild(t)}function Z(t){var e,o,n=T((function(t){return{config:t.config,reject:t.reject}})),i=(e="".concat(n.config.paths.vs,"/loader.js"),o=document.createElement("script"),e&&(o.src=e),o);return i.onload=function(){return t()},i.onerror=n.reject,i}function B(){var t=T((function(t){return{config:t.config,resolve:t.resolve,reject:t.reject}})),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],(function(e){P(e),t.resolve(e)}),(function(e){t.reject(e)}))}function P(t){T().monaco||U({monaco:t})}var F=new Promise((function(t,e){return U({resolve:t,reject:e})})),V={config:function(t){U((function(e){return{config:S(e.config,z.config(t))}}))},init:function(){if(!T((function(t){return{isInitialized:t.isInitialized}})).isInitialized){if(window.monaco&&window.monaco.editor)return P(window.monaco),I(Promise.resolve(window.monaco));!function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return function(t){return e.reduceRight((function(t,e){return e(t)}),t)}}(q,Z)(B),U({isInitialized:!0})}return I(F)},__getMonacoInstance:function(){return T((function(t){return t.monaco}))}};function Q(t,e){let o=t.getAttributes();if(o||(t.setAttributes(e),o=t.getAttributes()),!o)throw new Error("[NetlessAppMonaco] No attributes");var n;return null==(n=e)||"object"!=typeof n||Array.isArray(n)||Object.keys(e).forEach((n=>{Object.prototype.hasOwnProperty.call(o,n)||t.updateAttributes([n],e[n])})),o}const Y=()=>new Map,G=t=>{const e=Y();return t.forEach(((t,o)=>{e.set(o,t)})),e},W=(t,e,o)=>{let n=t.get(e);return void 0===n&&t.set(e,n=o()),n},H=()=>new Set,J=t=>t[t.length-1],$=(t,e)=>{for(let o=0;o<e.length;o++)t.push(e[o])},K=Array.from;class X{constructor(){this._observers=Y()}on(t,e){W(this._observers,t,H).add(e)}once(t,e){const o=(...n)=>{this.off(t,o),e(...n)};this.on(t,o)}off(t,e){const o=this._observers.get(t);void 0!==o&&(o.delete(e),0===o.size&&this._observers.delete(t))}emit(t,e){return K((this._observers.get(t)||Y()).values()).forEach((t=>t(...e)))}destroy(){this._observers=Y()}}const tt=Math.floor,et=Math.abs,ot=(t,e)=>t<e?t:e,nt=(t,e)=>t>e?t:e,it=t=>0!==t?t<0:1/t<0,rt=/^\s*/g,st=/([A-Z])/g,at=(t,e)=>(t=>t.replace(rt,""))(t.replace(st,(t=>`${e}${(t=>t.toLowerCase())(t)}`)));"undefined"!=typeof TextEncoder&&new TextEncoder;let ct="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ct&&1===ct.decode(new Uint8Array).length&&(ct=null);const lt=t=>void 0===t?null:t;let dt=new class{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}},ht=!0;try{"undefined"!=typeof localStorage&&(dt=localStorage,ht=!1)}catch(Ra){}const ut=dt,pt="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name);let gt;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var mt;(t=>(()=>{if(void 0===gt)if(pt){gt=Y();const t=process.argv;let e=null;for(let o=0;o<t.length;o++){const n=t[o];"-"===n[0]?(null!==e&&gt.set(e,""),e=n):null!==e&&(gt.set(e,n),e=null)}null!==e&&gt.set(e,"")}else"object"==typeof location?(gt=Y(),(location.search||"?").slice(1).split("&").forEach((t=>{if(0!==t.length){const[e,o]=t.split("=");gt.set(`--${at(e,"-")}`,o),gt.set(`-${at(e,"-")}`,o)}}))):gt=Y();return gt})().has(t))("--"+(mt="production"))||(t=>{lt(pt?process.env[t.toUpperCase()]:ut.getItem(t))})(mt);class ft{constructor(t){this.arr=t,this.pos=0}}const bt=t=>new ft(t),wt=t=>((t,e)=>{const o=St(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,o})(t,yt(t)),xt=t=>t.arr[t.pos++],yt=t=>{let e=0,o=0;for(;;){const n=t.arr[t.pos++];if(e|=(127&n)<<o,o+=7,n<128)return e>>>0;if(o>35)throw new Error("Integer out of range!")}},kt=t=>{let e=t.arr[t.pos++],o=63&e,n=6;const i=(64&e)>0?-1:1;if(0==(128&e))return i*o;for(;;){if(e=t.arr[t.pos++],o|=(127&e)<<n,n+=7,e<128)return i*(o>>>0);if(n>41)throw new Error("Integer out of range!")}},vt=t=>{let e=yt(t);if(0===e)return"";{let o=String.fromCodePoint(xt(t));if(--e<100)for(;e--;)o+=String.fromCodePoint(xt(t));else for(;e>0;){const n=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,o+=String.fromCodePoint.apply(null,i),e-=n}return decodeURIComponent(escape(o))}},_t=(t,e)=>{const o=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,o},At=[t=>{},t=>null,kt,t=>_t(t,4).getFloat32(0,!1),t=>_t(t,8).getFloat64(0,!1),t=>_t(t,8).getBigInt64(0,!1),t=>!1,t=>!0,vt,t=>{const e=yt(t),o={};for(let n=0;n<e;n++){o[vt(t)]=Dt(t)}return o},t=>{const e=yt(t),o=[];for(let n=0;n<e;n++)o.push(Dt(t));return o},wt],Dt=t=>At[127-xt(t)](t);class Mt extends ft{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){var t;return 0===this.count&&(this.s=this.reader(this),(t=this).pos!==t.arr.length?this.count=yt(this)+1:this.count=-1),this.count--,this.s}}class Ct extends ft{constructor(t){super(t),this.s=0,this.count=0}read(){if(0===this.count){this.s=kt(this);const t=it(this.s);this.count=1,t&&(this.s=-this.s,this.count=yt(this)+2)}return this.count--,this.s}}class Et extends ft{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const t=kt(this),e=1&t;this.diff=t>>1,this.count=1,e&&(this.count=yt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class zt{constructor(t){this.decoder=new Ct(t),this.str=vt(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}const St=(t,e,o)=>new Uint8Array(t,e,o),Nt=t=>{const e=(o=t.byteLength,new Uint8Array(o));var o;return e.set(t),e},It=Number.isInteger||(t=>"number"==typeof t&&isFinite(t)&&tt(t)===t);class Ot{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Rt=()=>new Ot,jt=t=>{const e=new Uint8Array((t=>{let e=t.cpos;for(let o=0;o<t.bufs.length;o++)e+=t.bufs[o].length;return e})(t));let o=0;for(let n=0;n<t.bufs.length;n++){const i=t.bufs[n];e.set(i,o),o+=i.length}return e.set(St(t.cbuf.buffer,0,t.cpos),o),e},Lt=(t,e)=>{const o=t.cbuf.length;t.cpos===o&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(2*o),t.cpos=0),t.cbuf[t.cpos++]=e},Tt=Lt,Ut=(t,e)=>{for(;e>127;)Lt(t,128|127&e),e>>>=7;Lt(t,127&e)},qt=(t,e)=>{const o=it(e);for(o&&(e=-e),Lt(t,(e>63?128:0)|(o?64:0)|63&e),e>>>=6;e>0;)Lt(t,(e>127?128:0)|127&e),e>>>=7},Zt=(t,e)=>{const o=unescape(encodeURIComponent(e)),n=o.length;Ut(t,n);for(let i=0;i<n;i++)Lt(t,o.codePointAt(i))},Bt=(t,e)=>{const o=t.cbuf.length,n=t.cpos,i=ot(o-n,e.length),r=e.length-i;t.cbuf.set(e.subarray(0,i),n),t.cpos+=i,r>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(nt(2*o,r)),t.cbuf.set(e.subarray(i)),t.cpos=r)},Pt=(t,e)=>{Ut(t,e.byteLength),Bt(t,e)},Ft=(t,e)=>{((t,e)=>{const o=t.cbuf.length;o-t.cpos<e&&(t.bufs.push(St(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(2*nt(o,e)),t.cpos=0)})(t,e);const o=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,o},Vt=new DataView(new ArrayBuffer(4)),Qt=(t,e)=>{switch(typeof e){case"string":Lt(t,119),Zt(t,e);break;case"number":It(e)&&e<=2147483647?(Lt(t,125),qt(t,e)):(o=e,Vt.setFloat32(0,o),Vt.getFloat32(0)===o?(Lt(t,124),((t,e)=>{Ft(t,4).setFloat32(0,e,!1)})(t,e)):(Lt(t,123),((t,e)=>{Ft(t,8).setFloat64(0,e,!1)})(t,e)));break;case"bigint":Lt(t,122),((t,e)=>{Ft(t,8).setBigInt64(0,e,!1)})(t,e);break;case"object":if(null===e)Lt(t,126);else if(e instanceof Array){Lt(t,117),Ut(t,e.length);for(let o=0;o<e.length;o++)Qt(t,e[o])}else if(e instanceof Uint8Array)Lt(t,116),Pt(t,e);else{Lt(t,118);const o=Object.keys(e);Ut(t,o.length);for(let n=0;n<o.length;n++){const i=o[n];Zt(t,i),Qt(t,e[i])}}break;case"boolean":Lt(t,e?120:121);break;default:Lt(t,127)}var o};class Yt extends Ot{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&Ut(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const Gt=t=>{t.count>0&&(qt(t.encoder,1===t.count?t.s:-t.s),t.count>1&&Ut(t.encoder,t.count-2))};class Wt{constructor(){this.encoder=new Ot,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Gt(this),this.count=1,this.s=t)}toUint8Array(){return Gt(this),jt(this.encoder)}}const Ht=t=>{if(t.count>0){const e=t.diff<<1|(1===t.count?0:1);qt(t.encoder,e),t.count>1&&Ut(t.encoder,t.count-2)}};class Jt{constructor(){this.encoder=new Ot,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(Ht(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return Ht(this),jt(this.encoder)}}class $t{constructor(){this.sarr=[],this.s="",this.lensE=new Wt}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new Ot;return this.sarr.push(this.s),this.s="",Zt(t,this.sarr.join("")),Bt(t,this.lensE.toUint8Array()),jt(t)}}const Kt="undefined"==typeof crypto?null:crypto,Xt=null!==Kt?t=>{const e=new ArrayBuffer(t),o=new Uint8Array(e);return Kt.getRandomValues(o),e}:t=>{const e=new ArrayBuffer(t),o=new Uint8Array(e);for(let n=0;n<t;n++)o[n]=Math.ceil(4294967295*Math.random()>>>0);return e},te=()=>new Uint32Array(Xt(4))[0],ee=[1e7]+-1e3+-4e3+-8e3+-1e11,oe=()=>ee.replace(/[018]/g,(t=>(t^te()&15>>t/4).toString(16))),ne=t=>new Error(t),ie=()=>{throw ne("Method unimplemented")},re=()=>{throw ne("Unexpected case")},se=Object.keys,ae=t=>se(t).length,ce=(t,e)=>t===e||ae(t)===ae(e)&&((t,e)=>{for(const o in t)if(!e(t[o],o))return!1;return!0})(t,((t,o)=>(void 0!==t||((t,e)=>Object.prototype.hasOwnProperty.call(t,e))(e,o))&&e[o]===t)),le=(t,e,o=0)=>{try{for(;o<t.length;o++)t[o](...e)}finally{o<t.length&&le(t,e,o+1)}},de=Symbol;class he{constructor(t,e){this.left=t,this.right=e}}const ue=(t,e)=>new he(t,e),pe="undefined"!=typeof document?document:{};"undefined"!=typeof DOMParser&&new DOMParser;pe.ELEMENT_NODE,pe.TEXT_NODE,pe.CDATA_SECTION_NODE,pe.COMMENT_NODE,pe.DOCUMENT_NODE,pe.DOCUMENT_TYPE_NODE,pe.DOCUMENT_FRAGMENT_NODE;Date.now;const ge=de(),me=de(),fe=de(),be=de(),we=de(),xe=de(),ye=de(),ke=de(),ve=de(),_e={[ge]:ue("font-weight","bold"),[me]:ue("font-weight","normal"),[fe]:ue("color","blue"),[we]:ue("color","green"),[be]:ue("color","grey"),[xe]:ue("color","red"),[ye]:ue("color","purple"),[ke]:ue("color","orange"),[ve]:ue("color","black")},Ae={[ge]:"[1m",[me]:"[2m",[fe]:"[34m",[we]:"[32m",[be]:"[37m",[xe]:"[31m",[ye]:"[35m",[ke]:"[38;5;208m",[ve]:"[0m"},De=pt?t=>{const e=[],o=[];let n=0;for(;n<t.length;n++){const o=t[n],i=Ae[o];if(void 0!==i)e.push(i);else{if(o.constructor!==String&&o.constructor!==Number)break;e.push(o)}}for(n>0&&(e.push("[0m"),o.push(e.join("")));n<t.length;n++){const e=t[n];e instanceof Symbol||o.push(e)}return o}:t=>{const e=[],o=[],n=Y();let i=[],r=0;for(;r<t.length;r++){const i=t[r],s=_e[i];if(void 0!==s)n.set(s.left,s.right);else{if(i.constructor!==String&&i.constructor!==Number)break;{const t=((t,e)=>{const o=[];for(const[n,i]of t)o.push(e(i,n));return o})(n,((t,e)=>`${e}:${t};`)).join("");r>0||t.length>0?(e.push("%c"+i),o.push(t)):e.push(i)}}}for(r>0&&(i=o,i.unshift(e.join("")));r<t.length;r++){const e=t[r];e instanceof Symbol||i.push(e)}return i},Me=new Set,Ce=t=>({[Symbol.iterator](){return this},next:t}),Ee=(t,e)=>Ce((()=>{const{done:o,value:n}=t.next();return{done:o,value:o?void 0:e(n)}}));class ze{constructor(t,e){this.clock=t,this.len=e}}class Se{constructor(){this.clients=new Map}}const Ne=(t,e,o)=>e.clients.forEach(((e,n)=>{const i=t.doc.store.clients.get(n);for(let r=0;r<e.length;r++){const n=e[r];So(t,i,n.clock,n.len,o)}})),Ie=(t,e)=>{const o=t.clients.get(e.client);return void 0!==o&&null!==((t,e)=>{let o=0,n=t.length-1;for(;o<=n;){const i=tt((o+n)/2),r=t[i],s=r.clock;if(s<=e){if(e<s+r.len)return i;o=i+1}else n=i-1}return null})(o,e.clock)},Oe=t=>{t.clients.forEach((t=>{let e,o;for(t.sort(((t,e)=>t.clock-e.clock)),e=1,o=1;e<t.length;e++){const n=t[o-1],i=t[e];n.clock+n.len>=i.clock?n.len=nt(n.len,i.clock+i.len-n.clock):(o<e&&(t[o]=i),o++)}t.length=o}))},Re=t=>{const e=new Se;for(let o=0;o<t.length;o++)t[o].clients.forEach(((n,i)=>{if(!e.clients.has(i)){const r=n.slice();for(let e=o+1;e<t.length;e++)$(r,t[e].clients.get(i)||[]);e.clients.set(i,r)}}));return Oe(e),e},je=(t,e,o,n)=>{W(t.clients,e,(()=>[])).push(new ze(o,n))},Le=()=>new Se,Te=(t,e)=>{Ut(t.restEncoder,e.clients.size),e.clients.forEach(((e,o)=>{t.resetDsCurVal(),Ut(t.restEncoder,o);const n=e.length;Ut(t.restEncoder,n);for(let i=0;i<n;i++){const o=e[i];t.writeDsClock(o.clock),t.writeDsLen(o.len)}}))},Ue=t=>{const e=new Se,o=yt(t.restDecoder);for(let n=0;n<o;n++){t.resetDsCurVal();const o=yt(t.restDecoder),n=yt(t.restDecoder);if(n>0){const i=W(e.clients,o,(()=>[]));for(let e=0;e<n;e++)i.push(new ze(t.readDsClock(),t.readDsLen()))}}return e},qe=(t,e,o)=>{const n=new Se,i=yt(t.restDecoder);for(let r=0;r<i;r++){t.resetDsCurVal();const i=yt(t.restDecoder),r=yt(t.restDecoder),s=o.clients.get(i)||[],a=_o(o,i);for(let o=0;o<r;o++){const o=t.readDsClock(),r=o+t.readDsLen();if(o<a){a<r&&je(n,i,a,r-a);let t=Do(s,o),c=s[t];for(!c.deleted&&c.id.clock<o&&(s.splice(t+1,0,li(e,c,o-c.id.clock)),t++);t<s.length&&(c=s[t++],c.id.clock<r);)c.deleted||(r<c.id.clock+c.length&&s.splice(t,0,li(e,c,r-c.id.clock)),c.delete(e))}else je(n,i,o,r-o)}}if(n.clients.size>0){const t=new Ye;return Ut(t.restEncoder,0),Te(t,n),t.toUint8Array()}return null},Ze=te;class Be extends X{constructor({guid:t=oe(),gc:e=!0,gcFilter:o=(()=>!0),meta:n=null,autoLoad:i=!1}={}){super(),this.gc=e,this.gcFilter=o,this.clientID=Ze(),this.guid=t,this.share=new Map,this.store=new ko,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=i,this.autoLoad=i,this.meta=n}load(){const t=this._item;null===t||this.shouldLoad||Lo(t.parent.doc,(t=>{t.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map((t=>t.guid)))}transact(t,e=null){Lo(this,t,e)}get(t,e=en){const o=W(this.share,t,(()=>{const t=new e;return t._integrate(this,null),t})),n=o.constructor;if(e!==en&&n!==e){if(n===en){const n=new e;n._map=o._map,o._map.forEach((t=>{for(;null!==t;t=t.left)t.parent=n})),n._start=o._start;for(let t=n._start;null!==t;t=t.right)t.parent=n;return n._length=o._length,this.share.set(t,n),n._integrate(this,null),n}throw new Error(`Type with the name ${t} has already been defined with a different constructor`)}return o}getArray(t=""){return this.get(t,yn)}getText(t=""){return this.get(t,Ln)}getMap(t=""){return this.get(t,vn)}getXmlFragment(t=""){return this.get(t,Un)}toJSON(){const t={};return this.share.forEach(((e,o)=>{t[o]=e.toJSON()})),t}destroy(){K(this.subdocs).forEach((t=>t.destroy()));const t=this._item;if(null!==t){this._item=null;const e=t.content;t.deleted?e.doc=null:(e.doc=new Be(r({guid:this.guid},e.opts)),e.doc._item=t),Lo(t.parent.doc,(o=>{t.deleted||o.subdocsAdded.add(e.doc),o.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}}class Pe{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return yt(this.restDecoder)}readDsLen(){return yt(this.restDecoder)}}class Fe extends Pe{readLeftID(){return ao(yt(this.restDecoder),yt(this.restDecoder))}readRightID(){return ao(yt(this.restDecoder),yt(this.restDecoder))}readClient(){return yt(this.restDecoder)}readInfo(){return xt(this.restDecoder)}readString(){return vt(this.restDecoder)}readParentInfo(){return 1===yt(this.restDecoder)}readTypeRef(){return yt(this.restDecoder)}readLen(){return yt(this.restDecoder)}readAny(){return Dt(this.restDecoder)}readBuf(){return Nt(wt(this.restDecoder))}readJSON(){return JSON.parse(vt(this.restDecoder))}readKey(){return vt(this.restDecoder)}}class Ve extends class{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=yt(this.restDecoder),this.dsCurrVal}readDsLen(){const t=yt(this.restDecoder)+1;return this.dsCurrVal+=t,t}}{constructor(t){super(t),this.keys=[],yt(t),this.keyClockDecoder=new Et(wt(t)),this.clientDecoder=new Ct(wt(t)),this.leftClockDecoder=new Et(wt(t)),this.rightClockDecoder=new Et(wt(t)),this.infoDecoder=new Mt(wt(t),xt),this.stringDecoder=new zt(wt(t)),this.parentInfoDecoder=new Mt(wt(t),xt),this.typeRefDecoder=new Ct(wt(t)),this.lenDecoder=new Ct(wt(t))}readLeftID(){return new ro(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ro(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Dt(this.restDecoder)}readBuf(){return wt(this.restDecoder)}readJSON(){return Dt(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const t=this.stringDecoder.read();return this.keys.push(t),t}}}class Qe extends class{constructor(){this.restEncoder=Rt()}toUint8Array(){return jt(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){Ut(this.restEncoder,t)}writeDsLen(t){Ut(this.restEncoder,t)}}{writeLeftID(t){Ut(this.restEncoder,t.client),Ut(this.restEncoder,t.clock)}writeRightID(t){Ut(this.restEncoder,t.client),Ut(this.restEncoder,t.clock)}writeClient(t){Ut(this.restEncoder,t)}writeInfo(t){Tt(this.restEncoder,t)}writeString(t){Zt(this.restEncoder,t)}writeParentInfo(t){Ut(this.restEncoder,t?1:0)}writeTypeRef(t){Ut(this.restEncoder,t)}writeLen(t){Ut(this.restEncoder,t)}writeAny(t){Qt(this.restEncoder,t)}writeBuf(t){Pt(this.restEncoder,t)}writeJSON(t){Zt(this.restEncoder,JSON.stringify(t))}writeKey(t){Zt(this.restEncoder,t)}}class Ye extends class{constructor(){this.restEncoder=Rt(),this.dsCurrVal=0}toUint8Array(){return jt(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const e=t-this.dsCurrVal;this.dsCurrVal=t,Ut(this.restEncoder,e)}writeDsLen(t){0===t&&re(),Ut(this.restEncoder,t-1),this.dsCurrVal+=t}}{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Jt,this.clientEncoder=new Wt,this.leftClockEncoder=new Jt,this.rightClockEncoder=new Jt,this.infoEncoder=new Yt(Tt),this.stringEncoder=new $t,this.parentInfoEncoder=new Yt(Tt),this.typeRefEncoder=new Wt,this.lenEncoder=new Wt}toUint8Array(){const t=Rt();return Ut(t,0),Pt(t,this.keyClockEncoder.toUint8Array()),Pt(t,this.clientEncoder.toUint8Array()),Pt(t,this.leftClockEncoder.toUint8Array()),Pt(t,this.rightClockEncoder.toUint8Array()),Pt(t,jt(this.infoEncoder)),Pt(t,this.stringEncoder.toUint8Array()),Pt(t,jt(this.parentInfoEncoder)),Pt(t,this.typeRefEncoder.toUint8Array()),Pt(t,this.lenEncoder.toUint8Array()),Bt(t,jt(this.restEncoder)),jt(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){Qt(this.restEncoder,t)}writeBuf(t){Pt(this.restEncoder,t)}writeJSON(t){Qt(this.restEncoder,t)}writeKey(t){void 0===this.keyMap.get(t)?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(this.keyClock++)}}const Ge=(t,e,o)=>{const n=new Map;o.forEach(((t,o)=>{_o(e,o)>t&&n.set(o,t)})),vo(e).forEach(((t,e)=>{o.has(e)||n.set(e,0)})),Ut(t.restEncoder,n.size),Array.from(n.entries()).sort(((t,e)=>e[0]-t[0])).forEach((([o,n])=>{((t,e,o,n)=>{n=nt(n,e[0].id.clock);const i=Do(e,n);Ut(t.restEncoder,e.length-i),t.writeClient(o),Ut(t.restEncoder,n);const r=e[i];r.write(t,n-r.id.clock);for(let s=i+1;s<e.length;s++)e[s].write(t,0)})(t,e.clients.get(o),o,n)}))},We=(t,e,o,n=new Ve(t))=>Lo(e,(t=>{t.local=!1;let e=!1;const o=t.doc,i=o.store,r=((t,e,o)=>{const n=[];let i=Array.from(o.keys()).sort(((t,e)=>t-e));if(0===i.length)return null;const r=()=>{if(0===i.length)return null;let t=o.get(i[i.length-1]);for(;t.refs.length===t.i;){if(i.pop(),!(i.length>0))return null;t=o.get(i[i.length-1])}return t};let s=r();if(null===s&&0===n.length)return null;const a=new ko,c=new Map,l=(t,e)=>{const o=c.get(t);(null==o||o>e)&&c.set(t,e)};let d=s.refs[s.i++];const h=new Map,u=()=>{for(const t of n){const e=t.id.client,n=o.get(e);n?(n.i--,a.clients.set(e,n.refs.slice(n.i)),o.delete(e),n.i=0,n.refs=[]):a.clients.set(e,[t]),i=i.filter((t=>t!==e))}n.length=0};for(;;){if(d.constructor!==pi){const i=W(h,d.id.client,(()=>_o(e,d.id.client)))-d.id.clock;if(i<0)n.push(d),l(d.id.client,d.id.clock-1),u();else{const r=d.getMissing(t,e);if(null!==r){n.push(d);const t=o.get(r)||{refs:[],i:0};if(t.refs.length!==t.i){d=t.refs[t.i++];continue}l(r,_o(e,r)),u()}else(0===i||i<d.length)&&(d.integrate(t,i),h.set(d.id.client,d.id.clock+d.length))}}if(n.length>0)d=n.pop();else if(null!==s&&s.i<s.refs.length)d=s.refs[s.i++];else{if(s=r(),null===s)break;d=s.refs[s.i++]}}if(a.clients.size>0){const t=new Ye;return Ge(t,a,new Map),Ut(t.restEncoder,0),{missing:c,update:t.toUint8Array()}}return null})(t,i,((t,e)=>{const o=Y(),n=yt(t.restDecoder);for(let i=0;i<n;i++){const n=yt(t.restDecoder),i=new Array(n),r=t.readClient();let s=yt(t.restDecoder);o.set(r,{i:0,refs:i});for(let o=0;o<n;o++){const n=t.readInfo();switch(31&n){case 0:{const e=t.readLen();i[o]=new Vn(ao(r,s),e),s+=e;break}case 10:{const e=yt(t.restDecoder);i[o]=new pi(ao(r,s),e),s+=e;break}default:{const a=0==(192&n),c=new di(ao(r,s),null,128==(128&n)?t.readLeftID():null,null,64==(64&n)?t.readRightID():null,a?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,a&&32==(32&n)?t.readString():null,hi(t,n));i[o]=c,s+=c.length}}}}return o})(n,o)),s=i.pendingStructs;if(s){for(const[t,o]of s.missing)if(o<_o(i,t)){e=!0;break}if(r){for(const[t,e]of r.missing){const o=s.missing.get(t);(null==o||o>e)&&s.missing.set(t,e)}s.update=Bo([s.update,r.update])}}else i.pendingStructs=r;const a=qe(n,t,i);if(i.pendingDs){const e=new Ve(bt(i.pendingDs));yt(e.restDecoder);const o=qe(e,t,i);i.pendingDs=a&&o?Bo([a,o]):a||o}else i.pendingDs=a;if(e){const e=i.pendingStructs.update;i.pendingStructs=null,He(t.doc,e)}}),o,!1),He=(t,e,o,n=Ve)=>{const i=bt(e);We(i,t,o,new n(i))},Je=(t,e,o)=>He(t,e,o,Fe),$e=(t,e,o=new Map)=>{Ge(t,e.store,o),Te(t,(t=>{const e=Le();return t.clients.forEach(((t,o)=>{const n=[];for(let e=0;e<t.length;e++){const o=t[e];if(o.deleted){const i=o.id.clock;let r=o.length;if(e+1<t.length)for(let o=t[e+1];e+1<t.length&&o.deleted;o=t[1+ ++e])r+=o.length;n.push(new ze(i,r))}}n.length>0&&e.clients.set(o,n)})),e})(e.store))},Ke=(t,e)=>((t,e=new Uint8Array([0]),o=new Ye)=>{const n=Xe(e);$e(o,t,n);const i=[o.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(Po(t.store.pendingStructs.update,e)),i.length>1){if(o.constructor===Qe)return qo(i.map(((t,e)=>0===e?t:Yo(t))));if(o.constructor===Ye)return Bo(i)}return i[0]})(t,e,new Qe),Xe=t=>(t=>{const e=new Map,o=yt(t.restDecoder);for(let n=0;n<o;n++){const o=yt(t.restDecoder),n=yt(t.restDecoder);e.set(o,n)}return e})(new Pe(bt(t)));class to{constructor(){this.l=[]}}const eo=()=>new to,oo=(t,e)=>t.l.push(e),no=(t,e)=>{const o=t.l,n=o.length;t.l=o.filter((t=>e!==t)),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},io=(t,e,o)=>le(t.l,[e,o]);class ro{constructor(t,e){this.client=t,this.clock=e}}const so=(t,e)=>t===e||null!==t&&null!==e&&t.client===e.client&&t.clock===e.clock,ao=(t,e)=>new ro(t,e),co=t=>{for(const[e,o]of t.doc.share.entries())if(o===t)return e;throw re()};class lo{constructor(t,e,o,n=0){this.type=t,this.tname=e,this.item=o,this.assoc=n}}const ho=t=>new lo(null==t.type?null:ao(t.type.client,t.type.clock),t.tname||null,null==t.item?null:ao(t.item.client,t.item.clock),null==t.assoc?0:t.assoc);class uo{constructor(t,e,o=0){this.type=t,this.index=e,this.assoc=o}}const po=(t,e,o)=>{let n=null,i=null;return null===t._item?i=co(t):n=ao(t._item.id.client,t._item.id.clock),new lo(n,i,e,o)},go=(t,e,o=0)=>{let n=t._start;if(o<0){if(0===e)return po(t,null,o);e--}for(;null!==n;){if(!n.deleted&&n.countable){if(n.length>e)return po(t,ao(n.id.client,n.id.clock+e),o);e-=n.length}if(null===n.right&&o<0)return po(t,n.lastId,o);n=n.right}return po(t,null,o)},mo=(t,e)=>{const o=e.store,n=t.item,i=t.type,r=t.tname,s=t.assoc;let a=null,c=0;if(null!==n){if(_o(o,n.client)<=n.clock)return null;const t=ci(o,n),e=t.item;if(!(e instanceof di))return null;if(a=e.parent,null===a._item||!a._item.deleted){c=e.deleted||!e.countable?0:t.diff+(s>=0?0:1);let o=e.left;for(;null!==o;)!o.deleted&&o.countable&&(c+=o.length),o=o.left}}else{if(null!==r)a=e.get(r);else{if(null===i)throw re();{if(_o(o,i.client)<=i.clock)return null;const{item:t}=ci(o,i);if(!(t instanceof di&&t.content instanceof ai))return null;a=t.content.type}}c=s>=0?a._length:0}return((t,e,o=0)=>new uo(t,e,o))(a,c,t.assoc)};class fo{constructor(t,e){this.ds=t,this.sv=e}}var bo,wo;bo=Le(),wo=new Map,new fo(bo,wo);const xo=(t,e)=>void 0===e?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Ie(e.ds,t.id),yo=(t,e)=>{const o=W(t.meta,yo,H),n=t.doc.store;o.has(e)||(e.sv.forEach(((e,o)=>{e<_o(n,o)&&Eo(t,ao(o,e))})),Ne(t,e.ds,(t=>{})),o.add(e))};class ko{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const vo=t=>{const e=new Map;return t.clients.forEach(((t,o)=>{const n=t[t.length-1];e.set(o,n.id.clock+n.length)})),e},_o=(t,e)=>{const o=t.clients.get(e);if(void 0===o)return 0;const n=o[o.length-1];return n.id.clock+n.length},Ao=(t,e)=>{let o=t.clients.get(e.id.client);if(void 0===o)o=[],t.clients.set(e.id.client,o);else{const t=o[o.length-1];if(t.id.clock+t.length!==e.id.clock)throw re()}o.push(e)},Do=(t,e)=>{let o=0,n=t.length-1,i=t[n],r=i.id.clock;if(r===e)return n;let s=tt(e/(r+i.length-1)*n);for(;o<=n;){if(i=t[s],r=i.id.clock,r<=e){if(e<r+i.length)return s;o=s+1}else n=s-1;s=tt((o+n)/2)}throw re()},Mo=(t,e)=>{const o=t.clients.get(e.client);return o[Do(o,e.clock)]},Co=(t,e,o)=>{const n=Do(e,o),i=e[n];return i.id.clock<o&&i instanceof di?(e.splice(n+1,0,li(t,i,o-i.id.clock)),n+1):n},Eo=(t,e)=>{const o=t.doc.store.clients.get(e.client);return o[Co(t,o,e.clock)]},zo=(t,e,o)=>{const n=e.clients.get(o.client),i=Do(n,o.clock),r=n[i];return o.clock!==r.id.clock+r.length-1&&r.constructor!==Vn&&n.splice(i+1,0,li(t,r,o.clock-r.id.clock+1)),r},So=(t,e,o,n,i)=>{if(0===n)return;const r=o+n;let s,a=Co(t,e,o);do{s=e[a++],r<s.id.clock+s.length&&Co(t,e,r),i(s)}while(a<e.length&&e[a].id.clock<r)};class No{constructor(t,e,o){this.doc=t,this.deleteSet=new Se,this.beforeState=vo(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const Io=(t,e)=>!(0===e.deleteSet.clients.size&&!((t,e)=>{for(const[o,n]of t)if(e(n,o))return!0;return!1})(e.afterState,((t,o)=>e.beforeState.get(o)!==t)))&&(Oe(e.deleteSet),((t,e)=>{Ge(t,e.doc.store,e.beforeState)})(t,e),Te(t,e.deleteSet),!0),Oo=(t,e,o)=>{const n=e._item;(null===n||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&W(t.changed,e,H).add(o)},Ro=(t,e)=>{const o=t[e-1],n=t[e];o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)&&(t.splice(e,1),n instanceof di&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o))},jo=(t,e)=>{if(e<t.length){const o=t[e],n=o.doc,i=n.store,r=o.deleteSet,s=o._mergeStructs;try{Oe(r),o.afterState=vo(o.doc.store),n._transaction=null,n.emit("beforeObserverCalls",[o,n]);const a=[];o.changed.forEach(((t,e)=>a.push((()=>{null!==e._item&&e._item.deleted||e._callObserver(o,t)})))),a.push((()=>{o.changedParentTypes.forEach(((t,e)=>a.push((()=>{null!==e._item&&e._item.deleted||((t=t.filter((t=>null===t.target._item||!t.target._item.deleted))).forEach((t=>{t.currentTarget=e})),t.sort(((t,e)=>t.path.length-e.path.length)),io(e._dEH,t,o))})))),a.push((()=>n.emit("afterTransaction",[o,n])))})),le(a,[])}finally{n.gc&&((t,e,o)=>{for(const[n,i]of t.clients.entries()){const t=e.clients.get(n);for(let n=i.length-1;n>=0;n--){const r=i[n],s=r.clock+r.len;for(let n=Do(t,r.clock),i=t[n];n<t.length&&i.id.clock<s;i=t[++n]){const i=t[n];if(r.clock+r.len<=i.id.clock)break;i instanceof di&&i.deleted&&!i.keep&&o(i)&&i.gc(e,!1)}}}})(r,i,n.gcFilter),((t,e)=>{t.clients.forEach(((t,o)=>{const n=e.clients.get(o);for(let e=t.length-1;e>=0;e--){const o=t[e];for(let t=ot(n.length-1,1+Do(n,o.clock+o.len-1)),e=n[t];t>0&&e.id.clock>=o.clock;e=n[--t])Ro(n,t)}}))})(r,i),o.afterState.forEach(((t,e)=>{const n=o.beforeState.get(e)||0;if(n!==t){const t=i.clients.get(e),o=nt(Do(t,n),1);for(let e=t.length-1;e>=o;e--)Ro(t,e)}}));for(let t=0;t<s.length;t++){const{client:e,clock:o}=s[t].id,n=i.clients.get(e),r=Do(n,o);r+1<n.length&&Ro(n,r+1),r>0&&Ro(n,r)}if(o.local||o.afterState.get(n.clientID)===o.beforeState.get(n.clientID)||(n.clientID=Ze(),((...t)=>{console.log(...De(t)),Me.forEach((e=>e.print(t)))})(ke,ge,"[yjs] ",me,xe,"Changed the client-id because another client seems to be using it.")),n.emit("afterTransactionCleanup",[o,n]),n._observers.has("update")){const t=new Qe;Io(t,o)&&n.emit("update",[t.toUint8Array(),o.origin,n,o])}if(n._observers.has("updateV2")){const t=new Ye;Io(t,o)&&n.emit("updateV2",[t.toUint8Array(),o.origin,n,o])}o.subdocsAdded.forEach((t=>n.subdocs.add(t))),o.subdocsRemoved.forEach((t=>n.subdocs.delete(t))),n.emit("subdocs",[{loaded:o.subdocsLoaded,added:o.subdocsAdded,removed:o.subdocsRemoved}]),o.subdocsRemoved.forEach((t=>t.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):jo(t,e+1)}}},Lo=(t,e,o=null,n=!0)=>{const i=t._transactionCleanups;let r=!1;null===t._transaction&&(r=!0,t._transaction=new No(t,o,n),i.push(t._transaction),1===i.length&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{r&&i[0]===t._transaction&&jo(i,0)}};class To{constructor(t,e){this.gen=function*(t){const e=yt(t.restDecoder);for(let o=0;o<e;o++){const e=yt(t.restDecoder),o=t.readClient();let n=yt(t.restDecoder);for(let i=0;i<e;i++){const e=t.readInfo();if(10===e){const e=yt(t.restDecoder);yield new pi(ao(o,n),e),n+=e}else if(0!=(31&e)){const i=0==(192&e),r=new di(ao(o,n),null,128==(128&e)?t.readLeftID():null,null,64==(64&e)?t.readRightID():null,i?t.readParentInfo()?t.readString():t.readLeftID():null,i&&32==(32&e)?t.readString():null,hi(t,e));yield r,n+=r.length}else{const e=t.readLen();yield new Vn(ao(o,n),e),n+=e}}}}(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===pi);return this.curr}}class Uo{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const qo=t=>Bo(t,Fe,Qe),Zo=(t,e)=>{if(t.constructor===Vn){const{client:o,clock:n}=t.id;return new Vn(ao(o,n+e),t.length-e)}if(t.constructor===pi){const{client:o,clock:n}=t.id;return new pi(ao(o,n+e),t.length-e)}{const o=t,{client:n,clock:i}=o.id;return new di(ao(n,i+e),null,ao(n,i+e-1),null,o.rightOrigin,o.parent,o.parentSub,o.content.splice(e))}},Bo=(t,e=Ve,o=Ye)=>{const n=t.map((t=>new e(bt(t))));let i=n.map((t=>new To(t,!0))),r=null;const s=new o,a=new Uo(s);for(;i=i.filter((t=>null!==t.curr)),i.sort(((t,e)=>{if(t.curr.id.client===e.curr.id.client){const o=t.curr.id.clock-e.curr.id.clock;return 0===o?t.curr.constructor===e.curr.constructor?0:t.curr.constructor===pi?1:-1:o}return e.curr.id.client-t.curr.id.client})),0!==i.length;){const t=i[0],e=t.curr.id.client;if(null!==r){let o=t.curr,n=!1;for(;null!==o&&o.id.clock+o.length<=r.struct.id.clock+r.struct.length&&o.id.client>=r.struct.id.client;)o=t.next(),n=!0;if(null===o||o.id.client!==e||n&&o.id.clock>r.struct.id.clock+r.struct.length)continue;if(e!==r.struct.id.client)Vo(a,r.struct,r.offset),r={struct:o,offset:0},t.next();else if(r.struct.id.clock+r.struct.length<o.id.clock)if(r.struct.constructor===pi)r.struct.length=o.id.clock+o.length-r.struct.id.clock;else{Vo(a,r.struct,r.offset);const t=o.id.clock-r.struct.id.clock-r.struct.length;r={struct:new pi(ao(e,r.struct.id.clock+r.struct.length),t),offset:0}}else{const e=r.struct.id.clock+r.struct.length-o.id.clock;e>0&&(r.struct.constructor===pi?r.struct.length-=e:o=Zo(o,e)),r.struct.mergeWith(o)||(Vo(a,r.struct,r.offset),r={struct:o,offset:0},t.next())}}else r={struct:t.curr,offset:0},t.next();for(let o=t.curr;null!==o&&o.id.client===e&&o.id.clock===r.struct.id.clock+r.struct.length&&o.constructor!==pi;o=t.next())Vo(a,r.struct,r.offset),r={struct:o,offset:0}}null!==r&&(Vo(a,r.struct,r.offset),r=null),Qo(a);const c=n.map((t=>Ue(t))),l=Re(c);return Te(s,l),s.toUint8Array()},Po=(t,e,o=Ve,n=Ye)=>{const i=Xe(e),r=new n,s=new Uo(r),a=new o(bt(t)),c=new To(a,!1);for(;c.curr;){const t=c.curr,e=t.id.client,o=i.get(e)||0;if(c.curr.constructor!==pi)if(t.id.clock+t.length>o)for(Vo(s,t,nt(o-t.id.clock,0)),c.next();c.curr&&c.curr.id.client===e;)Vo(s,c.curr,0),c.next();else for(;c.curr&&c.curr.id.client===e&&c.curr.id.clock+c.curr.length<=o;)c.next();else c.next()}Qo(s);const l=Ue(a);return Te(r,l),r.toUint8Array()},Fo=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:jt(t.encoder.restEncoder)}),t.encoder.restEncoder=Rt(),t.written=0)},Vo=(t,e,o)=>{t.written>0&&t.currClient!==e.id.client&&Fo(t),0===t.written&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Ut(t.encoder.restEncoder,e.id.clock+o)),e.write(t.encoder,o),t.written++},Qo=t=>{Fo(t);const e=t.encoder.restEncoder;Ut(e,t.clientStructs.length);for(let o=0;o<t.clientStructs.length;o++){const n=t.clientStructs[o];Ut(e,n.written),Bt(e,n.restEncoder)}},Yo=t=>((t,e,o)=>{const n=new e(bt(t)),i=new To(n,!1),r=new o,s=new Uo(r);for(let c=i.curr;null!==c;c=i.next())Vo(s,c,0);Qo(s);const a=Ue(n);return Te(r,a),r.toUint8Array()})(t,Ve,Qe);class Go{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null}get path(){return Wo(this.currentTarget,this.target)}deletes(t){return Ie(this.transaction.deleteSet,t.id)}get keys(){if(null===this._keys){const t=new Map,e=this.target;this.transaction.changed.get(e).forEach((o=>{if(null!==o){const n=e._map.get(o);let i,r;if(this.adds(n)){let t=n.left;for(;null!==t&&this.adds(t);)t=t.left;if(this.deletes(n)){if(null===t||!this.deletes(t))return;i="delete",r=J(t.content.getContent())}else null!==t&&this.deletes(t)?(i="update",r=J(t.content.getContent())):(i="add",r=void 0)}else{if(!this.deletes(n))return;i="delete",r=J(n.content.getContent())}t.set(o,{action:i,oldValue:r})}})),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(null===t){const e=this.target,o=H(),n=H(),i=[];t={added:o,deleted:n,delta:i,keys:this.keys};if(this.transaction.changed.get(e).has(null)){let t=null;const r=()=>{t&&i.push(t)};for(let i=e._start;null!==i;i=i.right)i.deleted?this.deletes(i)&&!this.adds(i)&&(null!==t&&void 0!==t.delete||(r(),t={delete:0}),t.delete+=i.length,n.add(i)):this.adds(i)?(null!==t&&void 0!==t.insert||(r(),t={insert:[]}),t.insert=t.insert.concat(i.content.getContent()),o.add(i)):(null!==t&&void 0!==t.retain||(r(),t={retain:0}),t.retain+=i.length);null!==t&&void 0===t.retain&&r()}this._changes=t}return t}}const Wo=(t,e)=>{const o=[];for(;null!==e._item&&e!==t;){if(null!==e._item.parentSub)o.unshift(e._item.parentSub);else{let t=0,n=e._item.parent._start;for(;n!==e._item&&null!==n;)n.deleted||t++,n=n.right;o.unshift(t)}e=e._item.parent}return o};let Ho=0;class Jo{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=Ho++}}const $o=(t,e,o)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=o,t.timestamp=Ho++},Ko=(t,e)=>{if(null===t._start||0===e||null===t._searchMarker)return null;const o=0===t._searchMarker.length?null:t._searchMarker.reduce(((t,o)=>et(e-t.index)<et(e-o.index)?t:o));let n=t._start,i=0;for(null!==o&&(n=o.p,i=o.index,(t=>{t.timestamp=Ho++})(o));null!==n.right&&i<e;){if(!n.deleted&&n.countable){if(e<i+n.length)break;i+=n.length}n=n.right}for(;null!==n.left&&i>e;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);for(;null!==n.left&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);return null!==o&&et(o.index-i)<n.parent.length/80?($o(o,n,i),o):((t,e,o)=>{if(t.length>=80){const n=t.reduce(((t,e)=>t.timestamp<e.timestamp?t:e));return $o(n,e,o),n}{const n=new Jo(e,o);return t.push(n),n}})(t._searchMarker,n,i)},Xo=(t,e,o)=>{for(let n=t.length-1;n>=0;n--){const i=t[n];if(o>0){let e=i.p;for(e.marker=!1;e&&(e.deleted||!e.countable);)e=e.left,e&&!e.deleted&&e.countable&&(i.index-=e.length);if(null===e||!0===e.marker){t.splice(n,1);continue}i.p=e,e.marker=!0}(e<i.index||o>0&&e===i.index)&&(i.index=nt(e,i.index+o))}},tn=(t,e,o)=>{const n=t,i=e.changedParentTypes;for(;W(i,t,(()=>[])).push(o),null!==t._item;)t=t._item.parent;io(n._eH,o,e)};class en{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=eo(),this._dEH=eo(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw ie()}clone(){throw ie()}_write(t){}get _first(){let t=this._start;for(;null!==t&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){oo(this._eH,t)}observeDeep(t){oo(this._dEH,t)}unobserve(t){no(this._eH,t)}unobserveDeep(t){no(this._dEH,t)}toJSON(){}}const on=(t,e,o)=>{e<0&&(e=t._length+e),o<0&&(o=t._length+o);let n=o-e;const i=[];let r=t._start;for(;null!==r&&n>0;){if(r.countable&&!r.deleted){const t=r.content.getContent();if(t.length<=e)e-=t.length;else{for(let o=e;o<t.length&&n>0;o++)i.push(t[o]),n--;e=0}}r=r.right}return i},nn=t=>{const e=[];let o=t._start;for(;null!==o;){if(o.countable&&!o.deleted){const t=o.content.getContent();for(let o=0;o<t.length;o++)e.push(t[o])}o=o.right}return e},rn=(t,e)=>{let o=0,n=t._start;for(;null!==n;){if(n.countable&&!n.deleted){const i=n.content.getContent();for(let n=0;n<i.length;n++)e(i[n],o++,t)}n=n.right}},sn=(t,e)=>{const o=[];return rn(t,((n,i)=>{o.push(e(n,i,t))})),o},an=t=>{let e=t._start,o=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(null===o){for(;null!==e&&e.deleted;)e=e.right;if(null===e)return{done:!0,value:void 0};o=e.content.getContent(),n=0,e=e.right}const t=o[n++];return o.length<=n&&(o=null),{done:!1,value:t}}}},cn=(t,e)=>{const o=Ko(t,e);let n=t._start;for(null!==o&&(n=o.p,e-=o.index);null!==n;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},ln=(t,e,o,n)=>{let i=o;const r=t.doc,s=r.clientID,a=r.store,c=null===o?e._start:o.right;let l=[];const d=()=>{l.length>0&&(i=new di(ao(s,_o(a,s)),i,i&&i.lastId,c,c&&c.id,e,null,new $n(l)),i.integrate(t,0),l=[])};n.forEach((o=>{switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(o);break;default:switch(d(),o.constructor){case Uint8Array:case ArrayBuffer:i=new di(ao(s,_o(a,s)),i,i&&i.lastId,c,c&&c.id,e,null,new Qn(new Uint8Array(o))),i.integrate(t,0);break;case Be:i=new di(ao(s,_o(a,s)),i,i&&i.lastId,c,c&&c.id,e,null,new Gn(o)),i.integrate(t,0);break;default:if(!(o instanceof en))throw new Error("Unexpected content type in insert operation");i=new di(ao(s,_o(a,s)),i,i&&i.lastId,c,c&&c.id,e,null,new ai(o)),i.integrate(t,0)}}})),d()},dn=ne("Length exceeded!"),hn=(t,e,o,n)=>{if(o>e._length)throw dn;if(0===o)return e._searchMarker&&Xo(e._searchMarker,o,n.length),ln(t,e,null,n);const i=o,r=Ko(e,o);let s=e._start;for(null!==r&&(s=r.p,0===(o-=r.index)&&(s=s.prev,o+=s&&s.countable&&!s.deleted?s.length:0));null!==s;s=s.right)if(!s.deleted&&s.countable){if(o<=s.length){o<s.length&&Eo(t,ao(s.id.client,s.id.clock+o));break}o-=s.length}return e._searchMarker&&Xo(e._searchMarker,i,n.length),ln(t,e,s,n)},un=(t,e,o,n)=>{if(0===n)return;const i=o,r=n,s=Ko(e,o);let a=e._start;for(null!==s&&(a=s.p,o-=s.index);null!==a&&o>0;a=a.right)!a.deleted&&a.countable&&(o<a.length&&Eo(t,ao(a.id.client,a.id.clock+o)),o-=a.length);for(;n>0&&null!==a;)a.deleted||(n<a.length&&Eo(t,ao(a.id.client,a.id.clock+n)),a.delete(t),n-=a.length),a=a.right;if(n>0)throw dn;e._searchMarker&&Xo(e._searchMarker,i,-r+n)},pn=(t,e,o)=>{const n=e._map.get(o);void 0!==n&&n.delete(t)},gn=(t,e,o,n)=>{const i=e._map.get(o)||null,r=t.doc,s=r.clientID;let a;if(null==n)a=new $n([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new $n([n]);break;case Uint8Array:a=new Qn(n);break;case Be:a=new Gn(n);break;default:if(!(n instanceof en))throw new Error("Unexpected content type");a=new ai(n)}new di(ao(s,_o(r.store,s)),i,i&&i.lastId,null,null,e,o,a).integrate(t,0)},mn=(t,e)=>{const o=t._map.get(e);return void 0===o||o.deleted?void 0:o.content.getContent()[o.length-1]},fn=t=>{const e={};return t._map.forEach(((t,o)=>{t.deleted||(e[o]=t.content.getContent()[t.length-1])})),e},bn=(t,e)=>{const o=t._map.get(e);return void 0!==o&&!o.deleted},wn=t=>{return e=t.entries(),o=t=>!t[1].deleted,Ce((()=>{let t;do{t=e.next()}while(!t.done&&!o(t.value));return t}));var e,o};class xn extends Go{constructor(t,e){super(t,e),this._transaction=e}}class yn extends en{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const e=new yn;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new yn}clone(){const t=new yn;return t.insert(0,this.toArray().map((t=>t instanceof en?t.clone():t))),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(t,e){super._callObserver(t,e),tn(this,t,new xn(this,t))}insert(t,e){null!==this.doc?Lo(this.doc,(o=>{hn(o,this,t,e)})):this._prelimContent.splice(t,0,...e)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}delete(t,e=1){null!==this.doc?Lo(this.doc,(o=>{un(o,this,t,e)})):this._prelimContent.splice(t,e)}get(t){return cn(this,t)}toArray(){return nn(this)}slice(t=0,e=this.length){return on(this,t,e)}toJSON(){return this.map((t=>t instanceof en?t.toJSON():t))}map(t){return sn(this,t)}forEach(t){rn(this,t)}[Symbol.iterator](){return an(this)}_write(t){t.writeTypeRef(ti)}}class kn extends Go{constructor(t,e,o){super(t,e),this.keysChanged=o}}class vn extends en{constructor(t){super(),this._prelimContent=null,this._prelimContent=void 0===t?new Map:new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach(((t,e)=>{this.set(e,t)})),this._prelimContent=null}_copy(){return new vn}clone(){const t=new vn;return this.forEach(((e,o)=>{t.set(o,e instanceof en?e.clone():e)})),t}_callObserver(t,e){tn(this,t,new kn(this,t,e))}toJSON(){const t={};return this._map.forEach(((e,o)=>{if(!e.deleted){const n=e.content.getContent()[e.length-1];t[o]=n instanceof en?n.toJSON():n}})),t}get size(){return[...wn(this._map)].length}keys(){return Ee(wn(this._map),(t=>t[0]))}values(){return Ee(wn(this._map),(t=>t[1].content.getContent()[t[1].length-1]))}entries(){return Ee(wn(this._map),(t=>[t[0],t[1].content.getContent()[t[1].length-1]]))}forEach(t){return this._map.forEach(((e,o)=>{e.deleted||t(e.content.getContent()[e.length-1],o,this)})),{}}[Symbol.iterator](){return this.entries()}delete(t){null!==this.doc?Lo(this.doc,(e=>{pn(e,this,t)})):this._prelimContent.delete(t)}set(t,e){return null!==this.doc?Lo(this.doc,(o=>{gn(o,this,t,e)})):this._prelimContent.set(t,e),e}get(t){return mn(this,t)}has(t){return bn(this,t)}clear(){null!==this.doc?Lo(this.doc,(t=>{this.forEach((function(e,o,n){pn(t,n,o)}))})):this._prelimContent.clear()}_write(t){t.writeTypeRef(ei)}}const _n=(t,e)=>t===e||"object"==typeof t&&"object"==typeof e&&t&&e&&ce(t,e);class An{constructor(t,e,o,n){this.left=t,this.right=e,this.index=o,this.currentAttributes=n}forward(){switch(null===this.right&&re(),this.right.content.constructor){case Wn:case Kn:this.right.deleted||(this.index+=this.right.length);break;case Hn:this.right.deleted||En(this.currentAttributes,this.right.content)}this.left=this.right,this.right=this.right.right}}const Dn=(t,e,o)=>{for(;null!==e.right&&o>0;){switch(e.right.content.constructor){case Wn:case Kn:e.right.deleted||(o<e.right.length&&Eo(t,ao(e.right.id.client,e.right.id.clock+o)),e.index+=e.right.length,o-=e.right.length);break;case Hn:e.right.deleted||En(e.currentAttributes,e.right.content)}e.left=e.right,e.right=e.right.right}return e},Mn=(t,e,o)=>{const n=new Map,i=Ko(e,o);if(i){const e=new An(i.p.left,i.p,i.index,n);return Dn(t,e,o-i.index)}{const i=new An(null,e._start,0,n);return Dn(t,i,o)}},Cn=(t,e,o,n)=>{for(;null!==o.right&&(!0===o.right.deleted||o.right.content.constructor===Hn&&_n(n.get(o.right.content.key),o.right.content.value));)o.right.deleted||n.delete(o.right.content.key),o.forward();const i=t.doc,r=i.clientID;n.forEach(((n,s)=>{const a=o.left,c=o.right,l=new di(ao(r,_o(i.store,r)),a,a&&a.lastId,c,c&&c.id,e,null,new Hn(s,n));l.integrate(t,0),o.right=l,o.forward()}))},En=(t,e)=>{const{key:o,value:n}=e;null===n?t.delete(o):t.set(o,n)},zn=(t,e)=>{for(;null!==t.right&&(t.right.deleted||t.right.content.constructor===Hn&&_n(e[t.right.content.key]||null,t.right.content.value));)t.forward()},Sn=(t,e,o,n)=>{const i=t.doc,r=i.clientID,s=new Map;for(const a in n){const c=n[a],l=o.currentAttributes.get(a)||null;if(!_n(l,c)){s.set(a,l);const{left:n,right:d}=o;o.right=new di(ao(r,_o(i.store,r)),n,n&&n.lastId,d,d&&d.id,e,null,new Hn(a,c)),o.right.integrate(t,0),o.forward()}}return s},Nn=(t,e,o,n,i)=>{o.currentAttributes.forEach(((t,e)=>{void 0===i[e]&&(i[e]=null)}));const r=t.doc,s=r.clientID;zn(o,i);const a=Sn(t,e,o,i),c=n.constructor===String?new Kn(n):new Wn(n);let{left:l,right:d,index:h}=o;e._searchMarker&&Xo(e._searchMarker,o.index,c.getLength()),d=new di(ao(s,_o(r.store,s)),l,l&&l.lastId,d,d&&d.id,e,null,c),d.integrate(t,0),o.right=d,o.index=h,o.forward(),Cn(t,e,o,a)},In=(t,e,o,n,i)=>{const r=t.doc,s=r.clientID;zn(o,i);const a=Sn(t,e,o,i);for(;n>0&&null!==o.right;){if(!o.right.deleted)switch(o.right.content.constructor){case Hn:{const{key:e,value:n}=o.right.content,r=i[e];void 0!==r&&(_n(r,n)?a.delete(e):a.set(e,n),o.right.delete(t));break}case Wn:case Kn:n<o.right.length&&Eo(t,ao(o.right.id.client,o.right.id.clock+n)),n-=o.right.length}o.forward()}if(n>0){let i="";for(;n>0;n--)i+="\n";o.right=new di(ao(s,_o(r.store,s)),o.left,o.left&&o.left.lastId,o.right,o.right&&o.right.id,e,null,new Kn(i)),o.right.integrate(t,0),o.forward()}Cn(t,e,o,a)},On=(t,e,o,n,i)=>{for(;o&&o.content.constructor!==Kn&&o.content.constructor!==Wn;)o.deleted||o.content.constructor!==Hn||En(i,o.content),o=o.right;let r=0;for(;e!==o;){if(!e.deleted){const o=e.content;switch(o.constructor){case Hn:{const{key:s,value:a}=o;(i.get(s)||null)===a&&(n.get(s)||null)!==a||(e.delete(t),r++);break}}}e=e.right}return r},Rn=(t,e,o)=>{const n=o,i=G(e.currentAttributes),r=e.right;for(;o>0&&null!==e.right;){if(!1===e.right.deleted)switch(e.right.content.constructor){case Wn:case Kn:o<e.right.length&&Eo(t,ao(e.right.id.client,e.right.id.clock+o)),o-=e.right.length,e.right.delete(t)}e.forward()}r&&On(t,r,e.right,i,G(e.currentAttributes));const s=(e.left||e.right).parent;return s._searchMarker&&Xo(s._searchMarker,e.index,-n+o),e};class jn extends Go{constructor(t,e,o){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,o.forEach((t=>{null===t?this.childListChanged=!0:this.keysChanged.add(t)}))}get changes(){if(null===this._changes){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(null===this._delta){const t=this.target.doc,e=[];Lo(t,(t=>{const o=new Map,n=new Map;let i=this.target._start,r=null;const s={};let a="",c=0,l=0;const d=()=>{if(null!==r){let t;switch(r){case"delete":t={delete:l},l=0;break;case"insert":t={insert:a},o.size>0&&(t.attributes={},o.forEach(((e,o)=>{null!==e&&(t.attributes[o]=e)}))),a="";break;case"retain":if(t={retain:c},Object.keys(s).length>0){t.attributes={};for(const e in s)t.attributes[e]=s[e]}c=0}e.push(t),r=null}};for(;null!==i;){switch(i.content.constructor){case Wn:this.adds(i)?this.deletes(i)||(d(),r="insert",a=i.content.embed,d()):this.deletes(i)?("delete"!==r&&(d(),r="delete"),l+=1):i.deleted||("retain"!==r&&(d(),r="retain"),c+=1);break;case Kn:this.adds(i)?this.deletes(i)||("insert"!==r&&(d(),r="insert"),a+=i.content.str):this.deletes(i)?("delete"!==r&&(d(),r="delete"),l+=i.length):i.deleted||("retain"!==r&&(d(),r="retain"),c+=i.length);break;case Hn:{const{key:e,value:a}=i.content;if(this.adds(i)){if(!this.deletes(i)){const c=o.get(e)||null;_n(c,a)?i.delete(t):("retain"===r&&d(),_n(a,n.get(e)||null)?delete s[e]:s[e]=a)}}else if(this.deletes(i)){n.set(e,a);const t=o.get(e)||null;_n(t,a)||("retain"===r&&d(),s[e]=t)}else if(!i.deleted){n.set(e,a);const o=s[e];void 0!==o&&(_n(o,a)?i.delete(t):("retain"===r&&d(),null===a?s[e]=a:delete s[e]))}i.deleted||("insert"===r&&d(),En(o,i.content));break}}i=i.right}for(d();e.length>0;){const t=e[e.length-1];if(void 0===t.retain||void 0!==t.attributes)break;e.pop()}})),this._delta=e}return this._delta}}class Ln extends en{constructor(t){super(),this._pending=void 0!==t?[()=>this.insert(0,t)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach((t=>t()))}catch(Ra){console.error(Ra)}this._pending=null}_copy(){return new Ln}clone(){const t=new Ln;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);const o=new jn(this,t,e),n=t.doc;if(tn(this,t,o),!t.local){let e=!1;for(const[o,i]of t.afterState.entries()){const r=t.beforeState.get(o)||0;if(i!==r&&(So(t,n.store.clients.get(o),r,i,(t=>{t.deleted||t.content.constructor!==Hn||(e=!0)})),e))break}e||Ne(t,t.deleteSet,(t=>{t instanceof Vn||e||t.parent===this&&t.content.constructor===Hn&&(e=!0)})),Lo(n,(t=>{e?(t=>{let e=0;Lo(t.doc,(o=>{let n=t._start,i=t._start,r=Y();const s=G(r);for(;i;){if(!1===i.deleted)switch(i.content.constructor){case Hn:En(s,i.content);break;case Wn:case Kn:e+=On(o,n,i,r,s),r=G(s),n=i}i=i.right}}))})(this):Ne(t,t.deleteSet,(e=>{e instanceof Vn||e.parent===this&&((t,e)=>{for(;e&&e.right&&(e.right.deleted||e.right.content.constructor!==Kn&&e.right.content.constructor!==Wn);)e=e.right;const o=new Set;for(;e&&(e.deleted||e.content.constructor!==Kn&&e.content.constructor!==Wn);){if(!e.deleted&&e.content.constructor===Hn){const n=e.content.key;o.has(n)?e.delete(t):o.add(n)}e=e.left}})(t,e)}))}))}}toString(){let t="",e=this._start;for(;null!==e;)!e.deleted&&e.countable&&e.content.constructor===Kn&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:e=!0}={}){null!==this.doc?Lo(this.doc,(o=>{const n=new An(null,this._start,0,new Map);for(let i=0;i<t.length;i++){const r=t[i];if(void 0!==r.insert){const s=e||"string"!=typeof r.insert||i!==t.length-1||null!==n.right||"\n"!==r.insert.slice(-1)?r.insert:r.insert.slice(0,-1);("string"!=typeof s||s.length>0)&&Nn(o,this,n,s,r.attributes||{})}else void 0!==r.retain?In(o,this,n,r.retain,r.attributes||{}):void 0!==r.delete&&Rn(o,n,r.delete)}})):this._pending.push((()=>this.applyDelta(t)))}toDelta(t,e,o){const n=[],i=new Map,r=this.doc;let s="",a=this._start;function c(){if(s.length>0){const t={};let e=!1;i.forEach(((o,n)=>{e=!0,t[n]=o}));const o={insert:s};e&&(o.attributes=t),n.push(o),s=""}}return Lo(r,(r=>{for(t&&yo(r,t),e&&yo(r,e);null!==a;){if(xo(a,t)||void 0!==e&&xo(a,e))switch(a.content.constructor){case Kn:{const n=i.get("ychange");void 0===t||xo(a,t)?void 0===e||xo(a,e)?void 0!==n&&(c(),i.delete("ychange")):void 0!==n&&n.user===a.id.client&&"added"===n.state||(c(),i.set("ychange",o?o("added",a.id):{type:"added"})):void 0!==n&&n.user===a.id.client&&"removed"===n.state||(c(),i.set("ychange",o?o("removed",a.id):{type:"removed"})),s+=a.content.str;break}case Wn:{c();const t={insert:a.content.embed};if(i.size>0){const e={};t.attributes=e,i.forEach(((t,o)=>{e[o]=t}))}n.push(t);break}case Hn:xo(a,t)&&(c(),En(i,a.content))}a=a.right}c()}),yo),n}insert(t,e,o){if(e.length<=0)return;const n=this.doc;null!==n?Lo(n,(n=>{const i=Mn(n,this,t);o||(o={},i.currentAttributes.forEach(((t,e)=>{o[e]=t}))),Nn(n,this,i,e,o)})):this._pending.push((()=>this.insert(t,e,o)))}insertEmbed(t,e,o={}){if(e.constructor!==Object)throw new Error("Embed must be an Object");const n=this.doc;null!==n?Lo(n,(n=>{const i=Mn(n,this,t);Nn(n,this,i,e,o)})):this._pending.push((()=>this.insertEmbed(t,e,o)))}delete(t,e){if(0===e)return;const o=this.doc;null!==o?Lo(o,(o=>{Rn(o,Mn(o,this,t),e)})):this._pending.push((()=>this.delete(t,e)))}format(t,e,o){if(0===e)return;const n=this.doc;null!==n?Lo(n,(n=>{const i=Mn(n,this,t);null!==i.right&&In(n,this,i,e,o)})):this._pending.push((()=>this.format(t,e,o)))}removeAttribute(t){null!==this.doc?Lo(this.doc,(e=>{pn(e,this,t)})):this._pending.push((()=>this.removeAttribute(t)))}setAttribute(t,e){null!==this.doc?Lo(this.doc,(o=>{gn(o,this,t,e)})):this._pending.push((()=>this.setAttribute(t,e)))}getAttribute(t){return mn(this,t)}getAttributes(t){return fn(this)}_write(t){t.writeTypeRef(oi)}}class Tn{constructor(t,e=(()=>!0)){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(null!==t&&(!this._firstCall||t.deleted||!this._filter(e)))do{if(e=t.content.type,t.deleted||e.constructor!==qn&&e.constructor!==Un||null===e._start)for(;null!==t;){if(null!==t.right){t=t.right;break}t=t.parent===this._root?null:t.parent._item}else t=e._start}while(null!==t&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,null===t?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class Un extends en{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Un}clone(){const t=new Un;return t.insert(0,this.toArray().map((t=>t instanceof en?t.clone():t))),t}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(t){return new Tn(this,t)}querySelector(t){t=t.toUpperCase();const e=new Tn(this,(e=>e.nodeName&&e.nodeName.toUpperCase()===t)).next();return e.done?null:e.value}querySelectorAll(t){return t=t.toUpperCase(),Array.from(new Tn(this,(e=>e.nodeName&&e.nodeName.toUpperCase()===t)))}_callObserver(t,e){tn(this,t,new Zn(this,e,t))}toString(){return sn(this,(t=>t.toString())).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},o){const n=t.createDocumentFragment();return void 0!==o&&o._createAssociation(n,this),rn(this,(i=>{n.insertBefore(i.toDOM(t,e,o),null)})),n}insert(t,e){null!==this.doc?Lo(this.doc,(o=>{hn(o,this,t,e)})):this._prelimContent.splice(t,0,...e)}insertAfter(t,e){if(null!==this.doc)Lo(this.doc,(o=>{const n=t&&t instanceof en?t._item:t;ln(o,this,n,e)}));else{const o=this._prelimContent,n=null===t?0:o.findIndex((e=>e===t))+1;if(0===n&&null!==t)throw ne("Reference item not found");o.splice(n,0,...e)}}delete(t,e=1){null!==this.doc?Lo(this.doc,(o=>{un(o,this,t,e)})):this._prelimContent.splice(t,e)}toArray(){return nn(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return cn(this,t)}slice(t=0,e=this.length){return on(this,t,e)}_write(t){t.writeTypeRef(ii)}}class qn extends Un{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach(((t,e)=>{this.setAttribute(e,t)})),this._prelimAttrs=null}_copy(){return new qn(this.nodeName)}clone(){const t=new qn(this.nodeName),e=this.getAttributes();for(const o in e)t.setAttribute(o,e[o]);return t.insert(0,this.toArray().map((t=>t instanceof en?t.clone():t))),t}toString(){const t=this.getAttributes(),e=[],o=[];for(const r in t)o.push(r);o.sort();const n=o.length;for(let r=0;r<n;r++){const n=o[r];e.push(n+'="'+t[n]+'"')}const i=this.nodeName.toLocaleLowerCase();return`<${i}${e.length>0?" "+e.join(" "):""}>${super.toString()}</${i}>`}removeAttribute(t){null!==this.doc?Lo(this.doc,(e=>{pn(e,this,t)})):this._prelimAttrs.delete(t)}setAttribute(t,e){null!==this.doc?Lo(this.doc,(o=>{gn(o,this,t,e)})):this._prelimAttrs.set(t,e)}getAttribute(t){return mn(this,t)}hasAttribute(t){return bn(this,t)}getAttributes(t){return fn(this)}toDOM(t=document,e={},o){const n=t.createElement(this.nodeName),i=this.getAttributes();for(const r in i)n.setAttribute(r,i[r]);return rn(this,(i=>{n.appendChild(i.toDOM(t,e,o))})),void 0!==o&&o._createAssociation(n,this),n}_write(t){t.writeTypeRef(ni),t.writeKey(this.nodeName)}}class Zn extends Go{constructor(t,e,o){super(t,o),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach((t=>{null===t?this.childListChanged=!0:this.attributesChanged.add(t)}))}}class Bn extends vn{constructor(t){super(),this.hookName=t}_copy(){return new Bn(this.hookName)}clone(){const t=new Bn(this.hookName);return this.forEach(((e,o)=>{t.set(o,e)})),t}toDOM(t=document,e={},o){const n=e[this.hookName];let i;return i=void 0!==n?n.createDom(this):document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),void 0!==o&&o._createAssociation(i,this),i}_write(t){t.writeTypeRef(ri),t.writeKey(this.hookName)}}class Pn extends Ln{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Pn}clone(){const t=new Pn;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,o){const n=t.createTextNode(this.toString());return void 0!==o&&o._createAssociation(n,this),n}toString(){return this.toDelta().map((t=>{const e=[];for(const n in t.attributes){const o=[];for(const e in t.attributes[n])o.push({key:e,value:t.attributes[n][e]});o.sort(((t,e)=>t.key<e.key?-1:1)),e.push({nodeName:n,attrs:o})}e.sort(((t,e)=>t.nodeName<e.nodeName?-1:1));let o="";for(let n=0;n<e.length;n++){const t=e[n];o+=`<${t.nodeName}`;for(let e=0;e<t.attrs.length;e++){const n=t.attrs[e];o+=` ${n.key}="${n.value}"`}o+=">"}o+=t.insert;for(let n=e.length-1;n>=0;n--)o+=`</${e[n].nodeName}>`;return o})).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(si)}}class Fn{constructor(t,e){this.id=t,this.length=e}get deleted(){throw ie()}mergeWith(t){return!1}write(t,e,o){throw ie()}integrate(t,e){throw ie()}}class Vn extends Fn{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){e>0&&(this.id.clock+=e,this.length-=e),Ao(t.doc.store,this)}write(t,e){t.writeInfo(0),t.writeLen(this.length-e)}getMissing(t,e){return null}}class Qn{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Qn(this.content)}splice(t){throw ie()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}class Yn{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Yn(this.len)}splice(t){const e=new Yn(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){je(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}class Gn{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),null!==t.meta&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Gn(this.doc)}splice(t){throw ie()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}class Wn{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Wn(this.embed)}splice(t){throw ie()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}class Hn{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Hn(this.key,this.value)}splice(t){throw ie()}mergeWith(t){return!1}integrate(t,e){e.parent._searchMarker=null}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}class Jn{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Jn(this.arr)}splice(t){const e=new Jn(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const o=this.arr.length;t.writeLen(o-e);for(let n=e;n<o;n++){const e=this.arr[n];t.writeString(void 0===e?"undefined":JSON.stringify(e))}}getRef(){return 2}}class $n{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $n(this.arr)}splice(t){const e=new $n(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const o=this.arr.length;t.writeLen(o-e);for(let n=e;n<o;n++){const e=this.arr[n];t.writeAny(e)}}getRef(){return 8}}class Kn{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Kn(this.str)}splice(t){const e=new Kn(this.str.slice(t));this.str=this.str.slice(0,t);const o=this.str.charCodeAt(t-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,t-1)+"�",e.str="�"+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(0===e?this.str:this.str.slice(e))}getRef(){return 4}}const Xn=[t=>new yn,t=>new vn,t=>new Ln,t=>new qn(t.readKey()),t=>new Un,t=>new Bn(t.readKey()),t=>new Pn],ti=0,ei=1,oi=2,ni=3,ii=4,ri=5,si=6;class ai{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ai(this.type._copy())}splice(t){throw ie()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;null!==e;)e.deleted?t._mergeStructs.push(e):e.delete(t),e=e.right;this.type._map.forEach((e=>{e.deleted?t._mergeStructs.push(e):e.delete(t)})),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;null!==e;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach((e=>{for(;null!==e;)e.gc(t,!0),e=e.left})),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const ci=(t,e)=>{let o,n=e,i=0;do{i>0&&(n=ao(n.client,n.clock+i)),o=Mo(t,n),i=n.clock-o.id.clock,n=o.redone}while(null!==n&&o instanceof di);return{item:o,diff:i}},li=(t,e,o)=>{const{client:n,clock:i}=e.id,r=new di(ao(n,i+o),e,ao(n,i+o-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(o));return e.deleted&&r.markDeleted(),e.keep&&(r.keep=!0),null!==e.redone&&(r.redone=ao(e.redone.client,e.redone.clock+o)),e.right=r,null!==r.right&&(r.right.left=r),t._mergeStructs.push(r),null!==r.parentSub&&null===r.right&&r.parent._map.set(r.parentSub,r),e.length=o,r};class di extends Fn{constructor(t,e,o,n,i,r,s,a){super(t,a.getLength()),this.origin=o,this.left=e,this.right=n,this.rightOrigin=i,this.parent=r,this.parentSub=s,this.redone=null,this.content=a,this.info=this.content.isCountable()?2:0}set marker(t){(8&this.info)>0!==t&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(t){this.keep!==t&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(t){this.deleted!==t&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(t,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=_o(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=_o(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ro&&this.id.client!==this.parent.client&&this.parent.clock>=_o(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=zo(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Eo(t,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===Vn||this.right&&this.right.constructor===Vn)&&(this.parent=null),this.parent){if(this.parent.constructor===ro){const t=Mo(e,this.parent);t.constructor===Vn?this.parent=null:this.parent=t.content.type}}else this.left&&this.left.constructor===di&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===di&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(t,e){if(e>0&&(this.id.clock+=e,this.left=zo(t,t.doc.store,ao(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let e,o=this.left;if(null!==o)e=o.right;else if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start;const n=new Set,i=new Set;for(;null!==e&&e!==this.right;){if(i.add(e),n.add(e),so(this.origin,e.origin)){if(e.id.client<this.id.client)o=e,n.clear();else if(so(this.rightOrigin,e.rightOrigin))break}else{if(null===e.origin||!i.has(Mo(t.doc.store,e.origin)))break;n.has(Mo(t.doc.store,e.origin))||(o=e,n.clear())}e=e.right}this.left=o}if(null!==this.left){const t=this.left.right;this.right=t,this.left.right=this}else{let t;if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start,this.parent._start=this;this.right=t}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(t)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Ao(t.doc.store,this),this.content.integrate(t,this),Oo(t,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(t)}else new Vn(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;null!==t&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;null!==t&&t.deleted;)t=t.left;return t}get lastId(){return 1===this.length?this.id:ao(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&so(t.origin,this.lastId)&&this.right===t&&so(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&null===this.redone&&null===t.redone&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const e=this.parent._searchMarker;return e&&e.forEach((e=>{e.p===t&&(e.p=this,!this.deleted&&this.countable&&(e.index-=this.length))})),t.keep&&(this.keep=!0),this.right=t.right,null!==this.right&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const e=this.parent;this.countable&&null===this.parentSub&&(e._length-=this.length),this.markDeleted(),je(t.deleteSet,this.id.client,this.id.clock,this.length),Oo(t,e,this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw re();this.content.gc(t),e?((t,e,o)=>{const n=t.clients.get(e.id.client);n[Do(n,e.id.clock)]=o})(t,this,new Vn(this.id,this.length)):this.content=new Yn(this.length)}write(t,e){const o=e>0?ao(this.id.client,this.id.clock+e-1):this.origin,n=this.rightOrigin,i=this.parentSub,r=31&this.content.getRef()|(null===o?0:128)|(null===n?0:64)|(null===i?0:32);if(t.writeInfo(r),null!==o&&t.writeLeftID(o),null!==n&&t.writeRightID(n),null===o&&null===n){const e=this.parent;if(void 0!==e._item){const o=e._item;if(null===o){const o=co(e);t.writeParentInfo(!0),t.writeString(o)}else t.writeParentInfo(!1),t.writeLeftID(o.id)}else e.constructor===String?(t.writeParentInfo(!0),t.writeString(e)):e.constructor===ro?(t.writeParentInfo(!1),t.writeLeftID(e)):re();null!==i&&t.writeString(i)}this.content.write(t,e)}}const hi=(t,e)=>ui[31&e](t),ui=[()=>{re()},t=>new Yn(t.readLen()),t=>{const e=t.readLen(),o=[];for(let n=0;n<e;n++){const e=t.readString();"undefined"===e?o.push(void 0):o.push(JSON.parse(e))}return new Jn(o)},t=>new Qn(t.readBuf()),t=>new Kn(t.readString()),t=>new Wn(t.readJSON()),t=>new Hn(t.readString(),t.readJSON()),t=>new ai(Xn[t.readTypeRef()](t)),t=>{const e=t.readLen(),o=[];for(let n=0;n<e;n++)o.push(t.readAny());return new $n(o)},t=>new Gn(new Be(r({guid:t.readString()},t.readAny()))),()=>{re()}];class pi extends Fn{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,e){re()}write(t,e){t.writeInfo(10),Ut(t.restEncoder,this.length-e)}getMissing(t,e){return null}}const gi="function"==typeof atob,mi="function"==typeof btoa,fi="function"==typeof Buffer;"function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder&&new TextEncoder;const bi=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),wi=(t=>{let e={};return bi.forEach(((t,o)=>e[t]=o)),e})(),xi=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,yi=String.fromCharCode.bind(String),ki="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),vi=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),_i=mi?t=>btoa(t):fi?t=>Buffer.from(t,"binary").toString("base64"):t=>{let e,o,n,i,r="";const s=t.length%3;for(let a=0;a<t.length;){if((o=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=o<<16|n<<8|i,r+=bi[e>>18&63]+bi[e>>12&63]+bi[e>>6&63]+bi[63&e]}return s?r.slice(0,s-3)+"===".substring(s):r},Ai=fi?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let o=0,n=t.length;o<n;o+=4096)e.push(yi.apply(null,t.subarray(o,o+4096)));return _i(e.join(""))},Di=(t,e=!1)=>e?Ai(t).replace(/[+\/]/g,(t=>"+"==t?"-":"_")).replace(/=+$/m,""):Ai(t),Mi=gi?t=>atob(vi(t)):fi?t=>Buffer.from(t,"base64").toString("binary"):t=>{if(t=t.replace(/\s+/g,""),!xi.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,o,n,i="";for(let r=0;r<t.length;)e=wi[t.charAt(r++)]<<18|wi[t.charAt(r++)]<<12|(o=wi[t.charAt(r++)])<<6|(n=wi[t.charAt(r++)]),i+=64===o?yi(e>>16&255):64===n?yi(e>>16&255,e>>8&255):yi(e>>16&255,e>>8&255,255&e);return i},Ci=fi?t=>ki(Buffer.from(t,"base64")):t=>ki(Mi(t),(t=>t.charCodeAt(0))),Ei=t=>Ci(zi(t)),zi=t=>vi(t.replace(/[-_]/g,(t=>"-"==t?"+":"/")));class Si{constructor(t,e,o,n){this.context=t,this.attrs=e,this.doc=o,this.yText=n,this.isDocDestroyed=!1,this.sideEffect=new s,this.textAttr=e.text,this.textAttr&&Je(this.doc,Ei(this.textAttr),this),this.sideEffect.add((()=>t.mobxUtils.autorun((()=>{this.textAttr=e.text})))),this.setupYDocPersistence()}destroy(){this.sideEffect.flushAll()}setupYDocPersistence(){const t=()=>{this.sideEffect.setTimeout((()=>{const t=Di(Ke(this.doc));t!==this.textAttr&&this.context.updateAttributes(["text"],t)}),1e3,"setAttrs")};this.sideEffect.add((()=>{const t=()=>{this.isDocDestroyed=!0};return this.doc.on("destroy",t),()=>this.doc.off("destroy",t)})),this.sideEffect.add((()=>{const e=(e,o)=>{this.isDocDestroyed||"_remote_edit_"===o||t()};return this.doc.on("update",e),()=>this.doc.off("update",e)}))}}var Ni,Ii,Oi,Ri={exports:{}};Ni=Ri,Ii=Ri.exports,Oi=function(){var t=null,e={};m();var o=[],n=function(e){if(void 0!==(e=e||{}).seed&&null!==e.seed&&e.seed===parseInt(e.seed,10))t=e.seed;else if("string"==typeof e.seed)t=x(e.seed);else{if(void 0!==e.seed&&null!==e.seed)throw new TypeError("The seed value must be an integer or string");t=null}var c,l;if(null!==e.count&&void 0!==e.count){for(var d=e.count,h=[],u=0;u<e.count;u++)o.push(!1);for(e.count=null;d>h.length;){var p=n(e);null!==t&&(e.seed=t),h.push(p)}return e.count=d,h}return a([c=i(e),l=r(c,e),s(c,l,e)],e)};function i(t){if(o.length>0){var e=u(r=y(t.hue)),n=(r[1]-r[0])/o.length,i=parseInt((e-r[0])/n);return!0===o[i]?i=(i+2)%o.length:o[i]=!0,(e=u(r=[(r[0]+i*n)%359,(r[0]+(i+1)*n)%359]))<0&&(e=360+e),e}var r;return(e=u(r=l(t.hue)))<0&&(e=360+e),e}function r(t,e){if("monochrome"===e.hue)return 0;if("random"===e.luminosity)return u([0,100]);var o=d(t),n=o[0],i=o[1];switch(e.luminosity){case"bright":n=55;break;case"dark":n=i-10;break;case"light":i=55}return u([n,i])}function s(t,e,o){var n=c(t,e),i=100;switch(o.luminosity){case"dark":i=n+20;break;case"light":n=(i+n)/2;break;case"random":n=0,i=100}return u([n,i])}function a(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return w(t);case"hsl":var o=w(t);return"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)";case"hsla":var n=w(t),i=e.alpha||Math.random();return"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+i+")";case"rgbArray":return f(t);case"rgb":return"rgb("+f(t).join(", ")+")";case"rgba":var r=f(t);return i=e.alpha||Math.random(),"rgba("+r.join(", ")+", "+i+")";default:return p(t)}}function c(t,e){for(var o=h(t).lowerBounds,n=0;n<o.length-1;n++){var i=o[n][0],r=o[n][1],s=o[n+1][0],a=o[n+1][1];if(e>=i&&e<=s){var c=(a-r)/(s-i);return c*e+(r-c*i)}}return 0}function l(t){if("number"==typeof parseInt(t)){var o=parseInt(t);if(o<360&&o>0)return[o,o]}if("string"==typeof t)if(e[t]){var n=e[t];if(n.hueRange)return n.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=b(t)[0];return[i,i]}return[0,360]}function d(t){return h(t).saturationRange}function h(t){for(var o in t>=334&&t<=360&&(t-=360),e){var n=e[o];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return e[o]}return"Color not found"}function u(e){if(null===t){var o=.618033988749895,n=Math.random();return n+=o,n%=1,Math.floor(e[0]+n*(e[1]+1-e[0]))}var i=e[1]||1,r=e[0]||0,s=(t=(9301*t+49297)%233280)/233280;return Math.floor(r+s*(i-r))}function p(t){var e=f(t);function o(t){var e=t.toString(16);return 1==e.length?"0"+e:e}return"#"+o(e[0])+o(e[1])+o(e[2])}function g(t,o,n){var i=n[0][0],r=n[n.length-1][0],s=n[n.length-1][1],a=n[0][1];e[t]={hueRange:o,lowerBounds:n,saturationRange:[i,r],brightnessRange:[s,a]}}function m(){g("monochrome",null,[[0,0],[100,0]]),g("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),g("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),g("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),g("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),g("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),g("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),g("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function f(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var o=t[1]/100,n=t[2]/100,i=Math.floor(6*e),r=6*e-i,s=n*(1-o),a=n*(1-r*o),c=n*(1-(1-r)*o),l=256,d=256,h=256;switch(i){case 0:l=n,d=c,h=s;break;case 1:l=a,d=n,h=s;break;case 2:l=s,d=n,h=c;break;case 3:l=s,d=a,h=n;break;case 4:l=c,d=s,h=n;break;case 5:l=n,d=s,h=a}return[Math.floor(255*l),Math.floor(255*d),Math.floor(255*h)]}function b(t){t=3===(t=t.replace(/^#/,"")).length?t.replace(/(.)/g,"$1$1"):t;var e=parseInt(t.substr(0,2),16)/255,o=parseInt(t.substr(2,2),16)/255,n=parseInt(t.substr(4,2),16)/255,i=Math.max(e,o,n),r=i-Math.min(e,o,n),s=i?r/i:0;switch(i){case e:return[(o-n)/r%6*60||0,s,i];case o:return[60*((n-e)/r+2)||0,s,i];case n:return[60*((e-o)/r+4)||0,s,i]}}function w(t){var e=t[0],o=t[1]/100,n=t[2]/100,i=(2-o)*n;return[e,Math.round(o*n/(i<1?i:2-i)*1e4)/100,i/2*100]}function x(t){for(var e=0,o=0;o!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);o++)e+=t.charCodeAt(o);return e}function y(t){if(isNaN(t)){if("string"==typeof t)if(e[t]){var o=e[t];if(o.hueRange)return o.hueRange}else if(t.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return h(b(t)[0]).hueRange}else{var n=parseInt(t);if(n<360&&n>0)return h(t).hueRange}return[0,360]}return n}(),Ni&&Ni.exports&&(Ii=Ni.exports=Oi),Ii.randomColor=Oi;var ji=Ri.exports;class Li{constructor(){this.style=document.createElement("style"),document.body.appendChild(this.style)}addRule(t){try{const e=this.style.sheet;if(e){const o=e.insertRule(t);return e.cssRules.item(o)}}catch{return null}return null}deleteRule(t){try{const e=this.style.sheet;if(e)for(let o=0;o<e.cssRules.length;o++)if(t===e.cssRules.item(o)){e.deleteRule(o);break}}catch{return}}destroy(){this.style.remove()}}class Ti{constructor(t,e,o,n,i,r,s,a,c){this.doc=t,this.monaco=e,this.monacoEditor=o,this.monacoModel=n,this.userID=i,this.userName=r,this.decorationID=s,this.cursorColor=a,this.styleManager=c,this.labelVisible=!1,this.hideLabelTimeout=NaN,this.cursorVisible=!1,this.hideCursorTimeout=NaN,this.lastLineNumber=-1,this.lastColumn=-1,this.cursorClassName=`netless-app-monaco-cursor-${this.decorationID}`}renderCursor(t,e){const o=t!==this.rawCursorSrc;if(o&&(this.rawCursorSrc=t,this.cursor=void 0,t))try{this.cursor=JSON.parse(t)}catch(Ra){console.warn(Ra)}if(this.cursor)try{const t=mo(ho(this.cursor),this.doc);if(t){const n=this.monacoModel.getPositionAt(t.index);let i=`netless-app-monaco-cursor ${this.cursorClassName}`;return n.lineNumber<=1&&(i+=" netless-app-monaco-cursor-first-line"),this.monacoEditor.getLayoutInfo().width-this.monacoEditor.getOffsetForColumn(n.lineNumber,n.column)<200&&(i+=" netless-app-monaco-cursor-right"),(o||e===this.userID&&(n.lineNumber!==this.lastLineNumber||n.column!==this.lastColumn))&&(this.setCursorVisible(!0),this.setLabelVisible(!0),this.lastLineNumber=n.lineNumber,this.lastColumn=n.column),{range:new this.monaco.Range(n.lineNumber,n.column,n.lineNumber,n.column+1),options:{className:i,hoverMessage:{value:this.userName}}}}}catch(Ra){console.warn(Ra)}this.clearCursor()}setLabelVisible(t){window.clearTimeout(this.hideLabelTimeout),t?this.styleRule&&(this.labelVisible||(this.styleRule.style.setProperty("--label","block"),this.styleRule.style.setProperty("--dot","none"),this.labelVisible=!0),this.hideLabelTimeout=setTimeout((()=>this.setLabelVisible(!1)),3e3)):this.styleRule&&this.labelVisible&&(this.styleRule.style.setProperty("--label","none"),this.styleRule.style.setProperty("--dot","block"),this.labelVisible=!1)}setCursorVisible(t){window.clearTimeout(this.hideCursorTimeout),t?this.styleRule&&(this.cursorVisible||(this.styleRule.style.setProperty("display","block"),this.cursorVisible=!0),this.hideCursorTimeout=setTimeout((()=>this.setCursorVisible(!1)),8e3)):this.styleRule&&this.cursorVisible&&(this.styleRule.style.setProperty("display","none"),this.cursorVisible=!1)}clearCursor(){window.clearTimeout(this.hideCursorTimeout),window.clearTimeout(this.hideLabelTimeout)}destroy(){this.clearCursor(),this._styleRuleMemo&&this.styleManager.deleteRule(this._styleRuleMemo)}get styleRule(){return this._styleRuleMemo||(this._styleRuleMemo=this.styleManager.addRule(`.${this.cursorClassName} { --content: "${this.userName}"; --bg-color: ${this.cursorColor}; }`)),this._styleRuleMemo}}const Ui=class{constructor(t,e,o,n,i,r,s,a){this.doc=t,this.monaco=e,this.monacoEditor=o,this.monacoModel=n,this.userID=i,this.userName=r,this.cursorColor=s,this.styleManager=a,this.cursorDecorations=[]}setCursors(t){this.rawCursorStrList=t}renderCursors(t){const e=this.rawCursorStrList||[],o=[];let n=0;for(;n<e.length;n++){this.cursorDecorations[n]||(this.cursorDecorations[n]=new Ti(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.genDecorationID(),this.cursorColor,this.styleManager));const i=this.cursorDecorations[n].renderCursor(e[n],t);i&&o.push(i)}if(n<this.cursorDecorations.length){for(let t=n;t<this.cursorDecorations.length;t++)this.cursorDecorations[t]&&this.cursorDecorations[t].clearCursor();this.cursorDecorations.length=n}return o}destroy(){this.cursorDecorations.forEach((t=>{t.destroy()})),this.cursorDecorations.length=0}genDecorationID(){return Ui._decorationID++}};let qi=Ui;qi._decorationID=0;class Zi{constructor(t,e,o,n,i,r,s){this.doc=t,this.monaco=e,this.monacoEditor=o,this.monacoModel=n,this.useID=i,this.selectionColor=r,this.styleManager=s,this.selectionDecorations=[],this.selectionClassName=`netless-app-monaco-selection-${this.useID}`,this.styleRule=this.styleManager.addRule(`.${this.selectionClassName} { background: ${r}; }`)}setSelections(t){if(t!==this.rawSelectionsStr&&(this.rawSelectionsStr=t,this.selections=void 0,this.rawSelectionsStr))try{const t=JSON.parse(this.rawSelectionsStr);Array.isArray(t)&&(this.selections=t)}catch(Ra){console.warn(Ra)}}renderSelections(){const t=[];return this.selections&&this.selections.forEach((e=>{if(e.start&&e.end){const o=mo(ho(e.start),this.doc),n=mo(ho(e.end),this.doc);if(o&&n){const e=this.monacoModel.getPositionAt(o.index),i=this.monacoModel.getPositionAt(n.index);t.push({range:new this.monaco.Range(e.lineNumber,e.column,i.lineNumber,i.column),options:{zIndex:-1,className:`netless-app-monaco-selection ${this.selectionClassName}`}})}}})),t}destroy(){this.styleRule&&this.styleManager.deleteRule(this.styleRule)}}class Bi{constructor(t,e,o,n,i,r){this.doc=t,this.monaco=e,this.monacoEditor=o,this.monacoModel=n,this.userID=i,this.userName=r,this.styleManager=new Li,this.cursorColor=ji({luminosity:"dark"}),this.selectionColor=ji({hue:this.cursorColor,luminosity:"light"}),this.selectionDecorations=new Zi(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.selectionColor,this.styleManager),this.cursorDecorations=new qi(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.cursorColor,this.styleManager)}setCursor(t){this.cursorDecorations.setCursors(t)}setSelection(t){this.selectionDecorations.setSelections(t)}rerender(t=this.userID){return[...this.cursorDecorations.renderCursors(t),...this.selectionDecorations.renderSelections()]}destroy(){this.cursorDecorations.destroy(),this.selectionDecorations.destroy(),this.styleManager.destroy()}}class Pi{constructor(t,e,o,n,i,r,a,c){this.context=t,this.attrs=e,this.box=o,this.monaco=n,this.monacoEditor=i,this.doc=r,this.yText=a,this.readonly=c,this.decorations=new Map,this.mux=(()=>{let t=!0;return(e,o)=>{if(t){t=!1;try{e()}finally{t=!0}}else void 0!==o&&o()}})(),this.deltaDecorations=[],this.cursorPositions=[];const l=i.getModel();if(this.authorId=String(this.context.getDisplayer().observerId),this.MagixMonacoDocChannel=this.context.appId+"AppMonacoDoc",!l)throw new Error("[NetlessAppMonaco] No Monaco Model");this.monacoModel=l,this.sideEffect=new s,this.observerId=String(t.getDisplayer().observerId),this.setupDecorations(),this.setupAttrsUpdate(),this.setupDocUpdate(),this.setupYText(),this.setupMembers()}setReadonly(t){t!==this.readonly&&(this.readonly=t,t||(this.broadcastCursors(),this.broadcastSelections()))}clearDecorationAttrs(){this.context.updateAttributes(["cursors",this.observerId],void 0),this.context.updateAttributes(["selections",this.observerId],void 0)}destroy(){this.sideEffect.flushAll(),this.decorations.forEach((t=>t.destroy())),this.decorations.clear(),this.clearDecorationAttrs()}setupYText(){this.sideEffect.add((()=>{const t=t=>{this.mux((()=>{let e=0;t.delta.forEach((t=>{if(null!=t.retain)e+=t.retain;else if(null!=t.insert){const o=this.monacoModel.getPositionAt(e),n=new this.monaco.Selection(o.lineNumber,o.column,o.lineNumber,o.column);this.monacoModel.applyEdits([{range:n,text:String(t.insert),forceMoveMarkers:!0}]),e+=t.insert.length}else if(null!=t.delete){const o=this.monacoModel.getPositionAt(e),n=this.monacoModel.getPositionAt(e+t.delete),i=new this.monaco.Selection(o.lineNumber,o.column,n.lineNumber,n.column);this.monacoModel.applyEdits([{range:i,text:""}])}else console.error("Unexpected yText Observer")}))}))};return this.yText.observe(t),()=>this.yText.unobserve(t)})),this.monacoModel.setValue(this.yText.toString()),this.sideEffect.add((()=>{const t=this.monacoModel.onDidChangeContent((t=>{this.mux((()=>{this.doc.transact((()=>{t.changes.sort(((t,e)=>e.rangeOffset-t.rangeOffset)).forEach((t=>{this.yText.delete(t.rangeOffset,t.rangeLength),this.yText.insert(t.rangeOffset,t.text)}))}),this)}))}));return()=>t.dispose()}))}setupDocUpdate(){const t=this.context.getDisplayer();this.sideEffect.add((()=>{const e=e=>{if(this.authorId=String(e.authorId),e.authorId!==t.observerId)try{Je(this.doc,Ei(e.payload),"_remote_edit_")}catch(Ra){console.warn(Ra)}};return t.addMagixEventListener(this.MagixMonacoDocChannel,e),()=>t.removeMagixEventListener(this.MagixMonacoDocChannel,e)})),this.sideEffect.add((()=>{const e=(e,o)=>{if("_remote_edit_"!==o&&this.context.getIsWritable()){const o=this.context.getRoom();o&&(this.authorId=String(t.observerId),o.dispatchMagixEvent(this.MagixMonacoDocChannel,Di(e)))}};return this.doc.on("update",e),()=>this.doc.off("update",e)}))}setupDecorations(){this.sideEffect.add((()=>{const t=this.monacoEditor.onDidChangeCursorPosition((t=>{this.cursorPositions=[t.position,...t.secondaryPositions],this.readonly||this.broadcastCursors()}));return()=>t.dispose()})),this.sideEffect.add((()=>{const t=this.monacoEditor.onDidChangeCursorSelection((()=>{this.readonly||this.broadcastSelections()}));return()=>t.dispose()}))}broadcastCursors(){try{const t=this.cursorPositions.map((t=>JSON.stringify(go(this.yText,this.monacoModel.getOffsetAt(t)))));this.context.updateAttributes(["cursors",this.observerId],t)}catch(Ra){console.warn(Ra)}}broadcastSelections(){const t=this.monacoEditor.getSelections();if(t)try{const e=JSON.stringify(t.filter((t=>!this.monaco.Selection.isEmpty(t))).map((t=>({start:go(this.yText,this.monacoModel.getOffsetAt(t.getStartPosition())),end:go(this.yText,this.monacoModel.getOffsetAt(t.getEndPosition()))}))));this.context.updateAttributes(["selections",this.observerId],e)}catch(Ra){console.warn(Ra)}}setupAttrsUpdate(){this.sideEffect.add((()=>{const t=()=>{this.context.getDisplayer().state.roomMembers.forEach((t=>{var e,o,n;const i=String(t.memberId);if(i!==this.observerId){let r=this.decorations.get(i);r||(r=new Bi(this.doc,this.monaco,this.monacoEditor,this.monacoModel,i,(null==(e=t.payload)?void 0:e.cursorName)||i),this.decorations.set(i,r)),r.setCursor(null==(o=this.attrs.cursors)?void 0:o[i]),r.setSelection(null==(n=this.attrs.selections)?void 0:n[i]),this.renderDecorations()}}))};return this.context.emitter.on("attributesUpdate",t),()=>this.context.emitter.off("attributesUpdate",t)}))}setupMembers(){this.sideEffect.add((()=>{const t=t=>{if(t.roomMembers){const e=new Set(t.roomMembers.map((t=>String(t.memberId))));this.decorations.forEach(((t,o)=>{e.has(o)||(t.destroy(),this.decorations.delete(o))})),this.attrs.cursors&&Object.keys(this.attrs.cursors).forEach((t=>{e.has(t)||this.context.updateAttributes(["cursors",t],void 0)})),this.attrs.selections&&Object.keys(this.attrs.selections).forEach((t=>{e.has(t)||this.context.updateAttributes(["selections",t],void 0)}))}};return this.context.emitter.on("roomStateChange",t),()=>this.context.emitter.off("roomStateChange",t)}))}renderDecorations(){const t=[];this.decorations.forEach((e=>{t.push(...e.rerender(this.authorId))})),this.deltaDecorations=this.monacoModel.deltaDecorations(this.deltaDecorations,t)}}class Fi{constructor(t,e,o){this.context=t,this.attrs=e,this.compiler=o,this.content="",this.namespace="netless-app-monaco-terminal",this.sideEffect=new s,this.$content=document.createElement("pre"),this.$content.className=this.namespace,this.content=this.attrs.terminal,this.render(),this.sideEffect.add((()=>this.context.mobxUtils.reaction((()=>this.attrs.terminal),(t=>{null!=t&&t!==this.content&&(this.content=t,this.render())})))),this.sideEffect.add((()=>this.context.mobxUtils.reaction((()=>this.attrs.codeRunning),(()=>{this.render()}))))}async runCode(t,e){this.updateCodeRunning(!0),this.updateTerminal(await this.compiler.runCode(t,e)),this.updateCodeRunning(!1)}updateTerminal(t){t!==this.attrs.terminal&&this.context.updateAttributes(["terminal"],t)}updateCodeRunning(t){t!==this.attrs.codeRunning&&this.context.updateAttributes(["codeRunning"],t)}render(){this.attrs.codeRunning?this.$content.textContent="Code Running...\n":this.$content.textContent=this.content}wrapClassName(t){return`${this.namespace}-${t}`}}
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function Vi(t){let e=t.length;for(;--e>=0;)t[e]=0}const Qi=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Yi=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Gi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hi=new Array(576);Vi(Hi);const Ji=new Array(60);Vi(Ji);const $i=new Array(512);Vi($i);const Ki=new Array(256);Vi(Ki);const Xi=new Array(29);Vi(Xi);const tr=new Array(30);function er(t,e,o,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=o,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let or,nr,ir;function rr(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Vi(tr);const sr=t=>t<256?$i[t]:$i[256+(t>>>7)],ar=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},cr=(t,e,o)=>{t.bi_valid>16-o?(t.bi_buf|=e<<t.bi_valid&65535,ar(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=o-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=o)},lr=(t,e,o)=>{cr(t,o[2*e],o[2*e+1])},dr=(t,e)=>{let o=0;do{o|=1&t,t>>>=1,o<<=1}while(--e>0);return o>>>1},hr=(t,e,o)=>{const n=new Array(16);let i,r,s=0;for(i=1;i<=15;i++)n[i]=s=s+o[i-1]<<1;for(r=0;r<=e;r++){let e=t[2*r+1];0!==e&&(t[2*r]=dr(n[e]++,e))}},ur=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},pr=t=>{t.bi_valid>8?ar(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},gr=(t,e,o,n)=>{const i=2*e,r=2*o;return t[i]<t[r]||t[i]===t[r]&&n[e]<=n[o]},mr=(t,e,o)=>{const n=t.heap[o];let i=o<<1;for(;i<=t.heap_len&&(i<t.heap_len&&gr(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!gr(e,n,t.heap[i],t.depth));)t.heap[o]=t.heap[i],o=i,i<<=1;t.heap[o]=n},fr=(t,e,o)=>{let n,i,r,s,a=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],i=t.pending_buf[t.l_buf+a],a++,0===n?lr(t,i,e):(r=Ki[i],lr(t,r+256+1,e),s=Qi[r],0!==s&&(i-=Xi[r],cr(t,i,s)),n--,r=sr(n),lr(t,r,o),s=Yi[r],0!==s&&(n-=tr[r],cr(t,n,s)))}while(a<t.last_lit);lr(t,256,e)},br=(t,e)=>{const o=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,r=e.stat_desc.elems;let s,a,c,l=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<r;s++)0!==o[2*s]?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):o[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,o[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[2*c+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)mr(t,o,s);c=r;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],mr(t,o,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,o[2*c]=o[2*s]+o[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,o[2*s+1]=o[2*a+1]=c,t.heap[1]=c++,mr(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const o=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let l,d,h,u,p,g,m=0;for(u=0;u<=15;u++)t.bl_count[u]=0;for(o[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)d=t.heap[l],u=o[2*o[2*d+1]+1]+1,u>c&&(u=c,m++),o[2*d+1]=u,d>n||(t.bl_count[u]++,p=0,d>=a&&(p=s[d-a]),g=o[2*d],t.opt_len+=g*(u+p),r&&(t.static_len+=g*(i[2*d+1]+p)));if(0!==m){do{for(u=c-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[c]--,m-=2}while(m>0);for(u=c;0!==u;u--)for(d=t.bl_count[u];0!==d;)h=t.heap[--l],h>n||(o[2*h+1]!==u&&(t.opt_len+=(u-o[2*h+1])*o[2*h],o[2*h+1]=u),d--)}})(t,e),hr(o,l,t.bl_count)},wr=(t,e,o)=>{let n,i,r=-1,s=e[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),e[2*(o+1)+1]=65535,n=0;n<=o;n++)i=s,s=e[2*(n+1)+1],++a<c&&i===s||(a<l?t.bl_tree[2*i]+=a:0!==i?(i!==r&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4))},xr=(t,e,o)=>{let n,i,r=-1,s=e[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),n=0;n<=o;n++)if(i=s,s=e[2*(n+1)+1],!(++a<c&&i===s)){if(a<l)do{lr(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==r&&(lr(t,i,t.bl_tree),a--),lr(t,16,t.bl_tree),cr(t,a-3,2)):a<=10?(lr(t,17,t.bl_tree),cr(t,a-3,3)):(lr(t,18,t.bl_tree),cr(t,a-11,7));a=0,r=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4)}};let yr=!1;const kr=(t,e,o,n)=>{cr(t,0+(n?1:0),3),((t,e,o,n)=>{pr(t),n&&(ar(t,o),ar(t,~o)),t.pending_buf.set(t.window.subarray(e,e+o),t.pending),t.pending+=o})(t,e,o,!0)};var vr={_tr_init:t=>{yr||((()=>{let t,e,o,n,i;const r=new Array(16);for(o=0,n=0;n<28;n++)for(Xi[n]=o,t=0;t<1<<Qi[n];t++)Ki[o++]=n;for(Ki[o-1]=n,i=0,n=0;n<16;n++)for(tr[n]=i,t=0;t<1<<Yi[n];t++)$i[i++]=n;for(i>>=7;n<30;n++)for(tr[n]=i<<7,t=0;t<1<<Yi[n]-7;t++)$i[256+i++]=n;for(e=0;e<=15;e++)r[e]=0;for(t=0;t<=143;)Hi[2*t+1]=8,t++,r[8]++;for(;t<=255;)Hi[2*t+1]=9,t++,r[9]++;for(;t<=279;)Hi[2*t+1]=7,t++,r[7]++;for(;t<=287;)Hi[2*t+1]=8,t++,r[8]++;for(hr(Hi,287,r),t=0;t<30;t++)Ji[2*t+1]=5,Ji[2*t]=dr(t,5);or=new er(Hi,Qi,257,286,15),nr=new er(Ji,Yi,0,30,15),ir=new er(new Array(0),Gi,0,19,7)})(),yr=!0),t.l_desc=new rr(t.dyn_ltree,or),t.d_desc=new rr(t.dyn_dtree,nr),t.bl_desc=new rr(t.bl_tree,ir),t.bi_buf=0,t.bi_valid=0,ur(t)},_tr_stored_block:kr,_tr_flush_block:(t,e,o,n)=>{let i,r,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,o=4093624447;for(e=0;e<=31;e++,o>>>=1)if(1&o&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),br(t,t.l_desc),br(t,t.d_desc),s=(t=>{let e;for(wr(t,t.dyn_ltree,t.l_desc.max_code),wr(t,t.dyn_dtree,t.d_desc.max_code),br(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*Wi[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=i&&(i=r)):i=r=o+5,o+4<=i&&-1!==e?kr(t,e,o,n):4===t.strategy||r===i?(cr(t,2+(n?1:0),3),fr(t,Hi,Ji)):(cr(t,4+(n?1:0),3),((t,e,o,n)=>{let i;for(cr(t,e-257,5),cr(t,o-1,5),cr(t,n-4,4),i=0;i<n;i++)cr(t,t.bl_tree[2*Wi[i]+1],3);xr(t,t.dyn_ltree,e-1),xr(t,t.dyn_dtree,o-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),fr(t,t.dyn_ltree,t.dyn_dtree)),ur(t),n&&pr(t)},_tr_tally:(t,e,o)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&o,t.last_lit++,0===e?t.dyn_ltree[2*o]++:(t.matches++,e--,t.dyn_ltree[2*(Ki[o]+256+1)]++,t.dyn_dtree[2*sr(e)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{cr(t,2,3),lr(t,256,Hi),(t=>{16===t.bi_valid?(ar(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var _r=(t,e,o,n)=>{let i=65535&t|0,r=t>>>16&65535|0,s=0;for(;0!==o;){s=o>2e3?2e3:o,o-=s;do{i=i+e[n++]|0,r=r+i|0}while(--s);i%=65521,r%=65521}return i|r<<16|0};const Ar=new Uint32Array((()=>{let t,e=[];for(var o=0;o<256;o++){t=o;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[o]=t}return e})());var Dr=(t,e,o,n)=>{const i=Ar,r=n+o;t^=-1;for(let s=n;s<r;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},Mr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Er,_tr_stored_block:zr,_tr_flush_block:Sr,_tr_tally:Nr,_tr_align:Ir}=vr,{Z_NO_FLUSH:Or,Z_PARTIAL_FLUSH:Rr,Z_FULL_FLUSH:jr,Z_FINISH:Lr,Z_BLOCK:Tr,Z_OK:Ur,Z_STREAM_END:qr,Z_STREAM_ERROR:Zr,Z_DATA_ERROR:Br,Z_BUF_ERROR:Pr,Z_DEFAULT_COMPRESSION:Fr,Z_FILTERED:Vr,Z_HUFFMAN_ONLY:Qr,Z_RLE:Yr,Z_FIXED:Gr,Z_DEFAULT_STRATEGY:Wr,Z_UNKNOWN:Hr,Z_DEFLATED:Jr}=Cr,$r=(t,e)=>(t.msg=Mr[e],e),Kr=t=>(t<<1)-(t>4?9:0),Xr=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let ts=(t,e,o)=>(e<<t.hash_shift^o)&t.hash_mask;const es=t=>{const e=t.state;let o=e.pending;o>t.avail_out&&(o=t.avail_out),0!==o&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+o),t.next_out),t.next_out+=o,e.pending_out+=o,t.total_out+=o,t.avail_out-=o,e.pending-=o,0===e.pending&&(e.pending_out=0))},os=(t,e)=>{Sr(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,es(t.strm)},ns=(t,e)=>{t.pending_buf[t.pending++]=e},is=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},rs=(t,e,o,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),o),1===t.state.wrap?t.adler=_r(t.adler,e,i,o):2===t.state.wrap&&(t.adler=Dr(t.adler,e,i,o)),t.next_in+=i,t.total_in+=i,i)},ss=(t,e)=>{let o,n,i=t.max_chain_length,r=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,d=t.w_mask,h=t.prev,u=t.strstart+258;let p=l[r+s-1],g=l[r+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(o=e,l[o+s]===g&&l[o+s-1]===p&&l[o]===l[r]&&l[++o]===l[r+1]){r+=2,o++;do{}while(l[++r]===l[++o]&&l[++r]===l[++o]&&l[++r]===l[++o]&&l[++r]===l[++o]&&l[++r]===l[++o]&&l[++r]===l[++o]&&l[++r]===l[++o]&&l[++r]===l[++o]&&r<u);if(n=258-(u-r),r=u-258,n>s){if(t.match_start=e,s=n,n>=a)break;p=l[r+s-1],g=l[r+s]}}}while((e=h[e&d])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead},as=t=>{const e=t.w_size;let o,n,i,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,o=n;do{i=t.head[--o],t.head[o]=i>=e?i-e:0}while(--n);n=e,o=n;do{i=t.prev[--o],t.prev[o]=i>=e?i-e:0}while(--n);r+=e}if(0===t.strm.avail_in)break;if(n=rs(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=ts(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=ts(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},cs=(t,e)=>{let o,n;for(;;){if(t.lookahead<262){if(as(t),t.lookahead<262&&e===Or)return 1;if(0===t.lookahead)break}if(o=0,t.lookahead>=3&&(t.ins_h=ts(t,t.ins_h,t.window[t.strstart+3-1]),o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==o&&t.strstart-o<=t.w_size-262&&(t.match_length=ss(t,o)),t.match_length>=3)if(n=Nr(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ts(t,t.ins_h,t.window[t.strstart+3-1]),o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ts(t,t.ins_h,t.window[t.strstart+1]);else n=Nr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(os(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Lr?(os(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(os(t,!1),0===t.strm.avail_out)?1:2},ls=(t,e)=>{let o,n,i;for(;;){if(t.lookahead<262){if(as(t),t.lookahead<262&&e===Or)return 1;if(0===t.lookahead)break}if(o=0,t.lookahead>=3&&(t.ins_h=ts(t,t.ins_h,t.window[t.strstart+3-1]),o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==o&&t.prev_length<t.max_lazy_match&&t.strstart-o<=t.w_size-262&&(t.match_length=ss(t,o),t.match_length<=5&&(t.strategy===Vr||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=Nr(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=ts(t,t.ins_h,t.window[t.strstart+3-1]),o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(os(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=Nr(t,0,t.window[t.strstart-1]),n&&os(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Nr(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Lr?(os(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(os(t,!1),0===t.strm.avail_out)?1:2};function ds(t,e,o,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=o,this.max_chain=n,this.func=i}const hs=[new ds(0,0,0,0,((t,e)=>{let o=65535;for(o>t.pending_buf_size-5&&(o=t.pending_buf_size-5);;){if(t.lookahead<=1){if(as(t),0===t.lookahead&&e===Or)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+o;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,os(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(os(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Lr?(os(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(os(t,!1),t.strm.avail_out),1)})),new ds(4,4,8,4,cs),new ds(4,5,16,8,cs),new ds(4,6,32,32,cs),new ds(4,4,16,16,ls),new ds(8,16,32,32,ls),new ds(8,16,128,128,ls),new ds(8,32,128,256,ls),new ds(32,128,258,1024,ls),new ds(32,258,258,4096,ls)];function us(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Jr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Xr(this.dyn_ltree),Xr(this.dyn_dtree),Xr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Xr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Xr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ps=t=>{if(!t||!t.state)return $r(t,Zr);t.total_in=t.total_out=0,t.data_type=Hr;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=Or,Er(e),Ur},gs=t=>{const e=ps(t);var o;return e===Ur&&((o=t.state).window_size=2*o.w_size,Xr(o.head),o.max_lazy_match=hs[o.level].max_lazy,o.good_match=hs[o.level].good_length,o.nice_match=hs[o.level].nice_length,o.max_chain_length=hs[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),e},ms=(t,e,o,n,i,r)=>{if(!t)return Zr;let s=1;if(e===Fr&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||o!==Jr||n<8||n>15||e<0||e>9||r<0||r>Gr)return $r(t,Zr);8===n&&(n=9);const a=new us;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=r,a.method=o,gs(t)};var fs={deflateInit:(t,e)=>ms(t,e,Jr,15,8,Wr),deflateInit2:ms,deflateReset:gs,deflateResetKeep:ps,deflateSetHeader:(t,e)=>t&&t.state?2!==t.state.wrap?Zr:(t.state.gzhead=e,Ur):Zr,deflate:(t,e)=>{let o,n;if(!t||!t.state||e>Tr||e<0)return t?$r(t,Zr):Zr;const i=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==Lr)return $r(t,0===t.avail_out?Pr:Zr);i.strm=t;const r=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,ns(i,31),ns(i,139),ns(i,8),i.gzhead?(ns(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ns(i,255&i.gzhead.time),ns(i,i.gzhead.time>>8&255),ns(i,i.gzhead.time>>16&255),ns(i,i.gzhead.time>>24&255),ns(i,9===i.level?2:i.strategy>=Qr||i.level<2?4:0),ns(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ns(i,255&i.gzhead.extra.length),ns(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=Dr(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(ns(i,0),ns(i,0),ns(i,0),ns(i,0),ns(i,0),ns(i,9===i.level?2:i.strategy>=Qr||i.level<2?4:0),ns(i,3),i.status=113);else{let e=Jr+(i.w_bits-8<<4)<<8,o=-1;o=i.strategy>=Qr||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=o<<6,0!==i.strstart&&(e|=32),e+=31-e%31,i.status=113,is(i,e),0!==i.strstart&&(is(i,t.adler>>>16),is(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=Dr(t.adler,i.pending_buf,i.pending-o,o)),es(t),o=i.pending,i.pending!==i.pending_buf_size));)ns(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=Dr(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=Dr(t.adler,i.pending_buf,i.pending-o,o)),es(t),o=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ns(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>o&&(t.adler=Dr(t.adler,i.pending_buf,i.pending-o,o)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=Dr(t.adler,i.pending_buf,i.pending-o,o)),es(t),o=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ns(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>o&&(t.adler=Dr(t.adler,i.pending_buf,i.pending-o,o)),0===n&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&es(t),i.pending+2<=i.pending_buf_size&&(ns(i,255&t.adler),ns(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(es(t),0===t.avail_out)return i.last_flush=-1,Ur}else if(0===t.avail_in&&Kr(e)<=Kr(r)&&e!==Lr)return $r(t,Pr);if(666===i.status&&0!==t.avail_in)return $r(t,Pr);if(0!==t.avail_in||0!==i.lookahead||e!==Or&&666!==i.status){let o=i.strategy===Qr?((t,e)=>{let o;for(;;){if(0===t.lookahead&&(as(t),0===t.lookahead)){if(e===Or)return 1;break}if(t.match_length=0,o=Nr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,o&&(os(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Lr?(os(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(os(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===Yr?((t,e)=>{let o,n,i,r;const s=t.window;for(;;){if(t.lookahead<=258){if(as(t),t.lookahead<=258&&e===Or)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){r=t.strstart+258;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<r);t.match_length=258-(r-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(o=Nr(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(o=Nr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),o&&(os(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Lr?(os(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(os(t,!1),0===t.strm.avail_out)?1:2})(i,e):hs[i.level].func(i,e);if(3!==o&&4!==o||(i.status=666),1===o||3===o)return 0===t.avail_out&&(i.last_flush=-1),Ur;if(2===o&&(e===Rr?Ir(i):e!==Tr&&(zr(i,0,0,!1),e===jr&&(Xr(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),es(t),0===t.avail_out))return i.last_flush=-1,Ur}return e!==Lr?Ur:i.wrap<=0?qr:(2===i.wrap?(ns(i,255&t.adler),ns(i,t.adler>>8&255),ns(i,t.adler>>16&255),ns(i,t.adler>>24&255),ns(i,255&t.total_in),ns(i,t.total_in>>8&255),ns(i,t.total_in>>16&255),ns(i,t.total_in>>24&255)):(is(i,t.adler>>>16),is(i,65535&t.adler)),es(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Ur:qr)},deflateEnd:t=>{if(!t||!t.state)return Zr;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?$r(t,Zr):(t.state=null,113===e?$r(t,Br):Ur)},deflateSetDictionary:(t,e)=>{let o=e.length;if(!t||!t.state)return Zr;const n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return Zr;if(1===i&&(t.adler=_r(t.adler,e,o,0)),n.wrap=0,o>=n.w_size){0===i&&(Xr(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(o-n.w_size,o),0),e=t,o=n.w_size}const r=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=o,t.next_in=0,t.input=e,as(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=ts(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,as(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=r,n.wrap=i,Ur},deflateInfo:"pako deflate (from Nodeca project)"};const bs=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ws=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const o=e.shift();if(o){if("object"!=typeof o)throw new TypeError(o+"must be non-object");for(const e in o)bs(o,e)&&(t[e]=o[e])}}return t},xs=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const o=new Uint8Array(e);for(let n=0,i=0,r=t.length;n<r;n++){let e=t[n];o.set(e,i),i+=e.length}return o};let ys=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ja){ys=!1}const ks=new Uint8Array(256);for(let La=0;La<256;La++)ks[La]=La>=252?6:La>=248?5:La>=240?4:La>=224?3:La>=192?2:1;ks[254]=ks[254]=1;var vs=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,o,n,i,r,s=t.length,a=0;for(i=0;i<s;i++)o=t.charCodeAt(i),55296==(64512&o)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(o=65536+(o-55296<<10)+(n-56320),i++)),a+=o<128?1:o<2048?2:o<65536?3:4;for(e=new Uint8Array(a),r=0,i=0;r<a;i++)o=t.charCodeAt(i),55296==(64512&o)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(o=65536+(o-55296<<10)+(n-56320),i++)),o<128?e[r++]=o:o<2048?(e[r++]=192|o>>>6,e[r++]=128|63&o):o<65536?(e[r++]=224|o>>>12,e[r++]=128|o>>>6&63,e[r++]=128|63&o):(e[r++]=240|o>>>18,e[r++]=128|o>>>12&63,e[r++]=128|o>>>6&63,e[r++]=128|63&o);return e},_s=(t,e)=>{const o=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const r=new Array(2*o);for(i=0,n=0;n<o;){let e=t[n++];if(e<128){r[i++]=e;continue}let s=ks[e];if(s>4)r[i++]=65533,n+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&n<o;)e=e<<6|63&t[n++],s--;s>1?r[i++]=65533:e<65536?r[i++]=e:(e-=65536,r[i++]=55296|e>>10&1023,r[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&ys)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let o="";for(let n=0;n<e;n++)o+=String.fromCharCode(t[n]);return o})(r,i)},As=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let o=e-1;for(;o>=0&&128==(192&t[o]);)o--;return o<0||0===o?e:o+ks[t[o]]>e?o:e};var Ds=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ms=Object.prototype.toString,{Z_NO_FLUSH:Cs,Z_SYNC_FLUSH:Es,Z_FULL_FLUSH:zs,Z_FINISH:Ss,Z_OK:Ns,Z_STREAM_END:Is,Z_DEFAULT_COMPRESSION:Os,Z_DEFAULT_STRATEGY:Rs,Z_DEFLATED:js}=Cr;function Ls(t){this.options=ws({level:Os,method:js,chunkSize:16384,windowBits:15,memLevel:8,strategy:Rs},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ds,this.strm.avail_out=0;let o=fs.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(o!==Ns)throw new Error(Mr[o]);if(e.header&&fs.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?vs(e.dictionary):"[object ArrayBuffer]"===Ms.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,o=fs.deflateSetDictionary(this.strm,t),o!==Ns)throw new Error(Mr[o]);this._dict_set=!0}}function Ts(t,e){const o=new Ls(e);if(o.push(t,!0),o.err)throw o.msg||Mr[o.err];return o.result}Ls.prototype.push=function(t,e){const o=this.strm,n=this.options.chunkSize;let i,r;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Ss:Cs,"string"==typeof t?o.input=vs(t):"[object ArrayBuffer]"===Ms.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;;)if(0===o.avail_out&&(o.output=new Uint8Array(n),o.next_out=0,o.avail_out=n),(r===Es||r===zs)&&o.avail_out<=6)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else{if(i=fs.deflate(o,r),i===Is)return o.next_out>0&&this.onData(o.output.subarray(0,o.next_out)),i=fs.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ns;if(0!==o.avail_out){if(r>0&&o.next_out>0)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else if(0===o.avail_in)break}else this.onData(o.output)}return!0},Ls.prototype.onData=function(t){this.chunks.push(t)},Ls.prototype.onEnd=function(t){t===Ns&&(this.result=xs(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Us={Deflate:Ls,deflate:Ts,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Ts(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Ts(t,e)},constants:Cr};var qs=function(t,e){let o,n,i,r,s,a,c,l,d,h,u,p,g,m,f,b,w,x,y,k,v,_,A,D;const M=t.state;o=t.next_in,A=t.input,n=o+(t.avail_in-5),i=t.next_out,D=t.output,r=i-(e-t.avail_out),s=i+(t.avail_out-257),a=M.dmax,c=M.wsize,l=M.whave,d=M.wnext,h=M.window,u=M.hold,p=M.bits,g=M.lencode,m=M.distcode,f=(1<<M.lenbits)-1,b=(1<<M.distbits)-1;t:do{p<15&&(u+=A[o++]<<p,p+=8,u+=A[o++]<<p,p+=8),w=g[u&f];e:for(;;){if(x=w>>>24,u>>>=x,p-=x,x=w>>>16&255,0===x)D[i++]=65535&w;else{if(!(16&x)){if(0==(64&x)){w=g[(65535&w)+(u&(1<<x)-1)];continue e}if(32&x){M.mode=12;break t}t.msg="invalid literal/length code",M.mode=30;break t}y=65535&w,x&=15,x&&(p<x&&(u+=A[o++]<<p,p+=8),y+=u&(1<<x)-1,u>>>=x,p-=x),p<15&&(u+=A[o++]<<p,p+=8,u+=A[o++]<<p,p+=8),w=m[u&b];o:for(;;){if(x=w>>>24,u>>>=x,p-=x,x=w>>>16&255,!(16&x)){if(0==(64&x)){w=m[(65535&w)+(u&(1<<x)-1)];continue o}t.msg="invalid distance code",M.mode=30;break t}if(k=65535&w,x&=15,p<x&&(u+=A[o++]<<p,p+=8,p<x&&(u+=A[o++]<<p,p+=8)),k+=u&(1<<x)-1,k>a){t.msg="invalid distance too far back",M.mode=30;break t}if(u>>>=x,p-=x,x=i-r,k>x){if(x=k-x,x>l&&M.sane){t.msg="invalid distance too far back",M.mode=30;break t}if(v=0,_=h,0===d){if(v+=c-x,x<y){y-=x;do{D[i++]=h[v++]}while(--x);v=i-k,_=D}}else if(d<x){if(v+=c+d-x,x-=d,x<y){y-=x;do{D[i++]=h[v++]}while(--x);if(v=0,d<y){x=d,y-=x;do{D[i++]=h[v++]}while(--x);v=i-k,_=D}}}else if(v+=d-x,x<y){y-=x;do{D[i++]=h[v++]}while(--x);v=i-k,_=D}for(;y>2;)D[i++]=_[v++],D[i++]=_[v++],D[i++]=_[v++],y-=3;y&&(D[i++]=_[v++],y>1&&(D[i++]=_[v++]))}else{v=i-k;do{D[i++]=D[v++],D[i++]=D[v++],D[i++]=D[v++],y-=3}while(y>2);y&&(D[i++]=D[v++],y>1&&(D[i++]=D[v++]))}break}}break}}while(o<n&&i<s);y=p>>3,o-=y,p-=y<<3,u&=(1<<p)-1,t.next_in=o,t.next_out=i,t.avail_in=o<n?n-o+5:5-(o-n),t.avail_out=i<s?s-i+257:257-(i-s),M.hold=u,M.bits=p};const Zs=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Bs=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ps=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Fs=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Vs=(t,e,o,n,i,r,s,a)=>{const c=a.bits;let l,d,h,u,p,g,m=0,f=0,b=0,w=0,x=0,y=0,k=0,v=0,_=0,A=0,D=null,M=0;const C=new Uint16Array(16),E=new Uint16Array(16);let z,S,N,I=null,O=0;for(m=0;m<=15;m++)C[m]=0;for(f=0;f<n;f++)C[e[o+f]]++;for(x=c,w=15;w>=1&&0===C[w];w--);if(x>w&&(x=w),0===w)return i[r++]=20971520,i[r++]=20971520,a.bits=1,0;for(b=1;b<w&&0===C[b];b++);for(x<b&&(x=b),v=1,m=1;m<=15;m++)if(v<<=1,v-=C[m],v<0)return-1;if(v>0&&(0===t||1!==w))return-1;for(E[1]=0,m=1;m<15;m++)E[m+1]=E[m]+C[m];for(f=0;f<n;f++)0!==e[o+f]&&(s[E[e[o+f]]++]=f);if(0===t?(D=I=s,g=19):1===t?(D=Zs,M-=257,I=Bs,O-=257,g=256):(D=Ps,I=Fs,g=-1),A=0,f=0,m=b,p=r,y=x,k=0,h=-1,_=1<<x,u=_-1,1===t&&_>852||2===t&&_>592)return 1;for(;;){z=m-k,s[f]<g?(S=0,N=s[f]):s[f]>g?(S=I[O+s[f]],N=D[M+s[f]]):(S=96,N=0),l=1<<m-k,d=1<<y,b=d;do{d-=l,i[p+(A>>k)+d]=z<<24|S<<16|N|0}while(0!==d);for(l=1<<m-1;A&l;)l>>=1;if(0!==l?(A&=l-1,A+=l):A=0,f++,0==--C[m]){if(m===w)break;m=e[o+s[f]]}if(m>x&&(A&u)!==h){for(0===k&&(k=x),p+=b,y=m-k,v=1<<y;y+k<w&&(v-=C[y+k],!(v<=0));)y++,v<<=1;if(_+=1<<y,1===t&&_>852||2===t&&_>592)return 1;h=A&u,i[h]=x<<24|y<<16|p-r|0}}return 0!==A&&(i[p+A]=m-k<<24|64<<16|0),a.bits=x,0};const{Z_FINISH:Qs,Z_BLOCK:Ys,Z_TREES:Gs,Z_OK:Ws,Z_STREAM_END:Hs,Z_NEED_DICT:Js,Z_STREAM_ERROR:$s,Z_DATA_ERROR:Ks,Z_MEM_ERROR:Xs,Z_BUF_ERROR:ta,Z_DEFLATED:ea}=Cr,oa=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function na(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ia=t=>{if(!t||!t.state)return $s;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Ws},ra=t=>{if(!t||!t.state)return $s;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ia(t)},sa=(t,e)=>{let o;if(!t||!t.state)return $s;const n=t.state;return e<0?(o=0,e=-e):(o=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?$s:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=o,n.wbits=e,ra(t))},aa=(t,e)=>{if(!t)return $s;const o=new na;t.state=o,o.window=null;const n=sa(t,e);return n!==Ws&&(t.state=null),n};let ca,la,da=!0;const ha=t=>{if(da){ca=new Int32Array(512),la=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Vs(1,t.lens,0,288,ca,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Vs(2,t.lens,0,32,la,0,t.work,{bits:5}),da=!1}t.lencode=ca,t.lenbits=9,t.distcode=la,t.distbits=5},ua=(t,e,o,n)=>{let i;const r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(o-r.wsize,o),0),r.wnext=0,r.whave=r.wsize):(i=r.wsize-r.wnext,i>n&&(i=n),r.window.set(e.subarray(o-n,o-n+i),r.wnext),(n-=i)?(r.window.set(e.subarray(o-n,o),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0};var pa={inflateReset:ra,inflateReset2:sa,inflateResetKeep:ia,inflateInit:t=>aa(t,15),inflateInit2:aa,inflate:(t,e)=>{let o,n,i,r,s,a,c,l,d,h,u,p,g,m,f,b,w,x,y,k,v,_,A=0;const D=new Uint8Array(4);let M,C;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return $s;o=t.state,12===o.mode&&(o.mode=13),s=t.next_out,i=t.output,c=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,l=o.hold,d=o.bits,h=a,u=c,_=Ws;t:for(;;)switch(o.mode){case 1:if(0===o.wrap){o.mode=13;break}for(;d<16;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(2&o.wrap&&35615===l){o.check=0,D[0]=255&l,D[1]=l>>>8&255,o.check=Dr(o.check,D,2,0),l=0,d=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",o.mode=30;break}if((15&l)!==ea){t.msg="unknown compression method",o.mode=30;break}if(l>>>=4,d-=4,v=8+(15&l),0===o.wbits)o.wbits=v;else if(v>o.wbits){t.msg="invalid window size",o.mode=30;break}o.dmax=1<<o.wbits,t.adler=o.check=1,o.mode=512&l?10:12,l=0,d=0;break;case 2:for(;d<16;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(o.flags=l,(255&o.flags)!==ea){t.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){t.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=l>>8&1),512&o.flags&&(D[0]=255&l,D[1]=l>>>8&255,o.check=Dr(o.check,D,2,0)),l=0,d=0,o.mode=3;case 3:for(;d<32;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}o.head&&(o.head.time=l),512&o.flags&&(D[0]=255&l,D[1]=l>>>8&255,D[2]=l>>>16&255,D[3]=l>>>24&255,o.check=Dr(o.check,D,4,0)),l=0,d=0,o.mode=4;case 4:for(;d<16;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}o.head&&(o.head.xflags=255&l,o.head.os=l>>8),512&o.flags&&(D[0]=255&l,D[1]=l>>>8&255,o.check=Dr(o.check,D,2,0)),l=0,d=0,o.mode=5;case 5:if(1024&o.flags){for(;d<16;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}o.length=l,o.head&&(o.head.extra_len=l),512&o.flags&&(D[0]=255&l,D[1]=l>>>8&255,o.check=Dr(o.check,D,2,0)),l=0,d=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(p=o.length,p>a&&(p=a),p&&(o.head&&(v=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Uint8Array(o.head.extra_len)),o.head.extra.set(n.subarray(r,r+p),v)),512&o.flags&&(o.check=Dr(o.check,n,p,r)),a-=p,r+=p,o.length-=p),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(0===a)break t;p=0;do{v=n[r+p++],o.head&&v&&o.length<65536&&(o.head.name+=String.fromCharCode(v))}while(v&&p<a);if(512&o.flags&&(o.check=Dr(o.check,n,p,r)),a-=p,r+=p,v)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(0===a)break t;p=0;do{v=n[r+p++],o.head&&v&&o.length<65536&&(o.head.comment+=String.fromCharCode(v))}while(v&&p<a);if(512&o.flags&&(o.check=Dr(o.check,n,p,r)),a-=p,r+=p,v)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;d<16;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(l!==(65535&o.check)){t.msg="header crc mismatch",o.mode=30;break}l=0,d=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),t.adler=o.check=0,o.mode=12;break;case 10:for(;d<32;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}t.adler=o.check=oa(l),l=0,d=0,o.mode=11;case 11:if(0===o.havedict)return t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=a,o.hold=l,o.bits=d,Js;t.adler=o.check=1,o.mode=12;case 12:if(e===Ys||e===Gs)break t;case 13:if(o.last){l>>>=7&d,d-=7&d,o.mode=27;break}for(;d<3;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}switch(o.last=1&l,l>>>=1,d-=1,3&l){case 0:o.mode=14;break;case 1:if(ha(o),o.mode=20,e===Gs){l>>>=2,d-=2;break t}break;case 2:o.mode=17;break;case 3:t.msg="invalid block type",o.mode=30}l>>>=2,d-=2;break;case 14:for(l>>>=7&d,d-=7&d;d<32;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&l,l=0,d=0,o.mode=15,e===Gs)break t;case 15:o.mode=16;case 16:if(p=o.length,p){if(p>a&&(p=a),p>c&&(p=c),0===p)break t;i.set(n.subarray(r,r+p),s),a-=p,r+=p,c-=p,s+=p,o.length-=p;break}o.mode=12;break;case 17:for(;d<14;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(o.nlen=257+(31&l),l>>>=5,d-=5,o.ndist=1+(31&l),l>>>=5,d-=5,o.ncode=4+(15&l),l>>>=4,d-=4,o.nlen>286||o.ndist>30){t.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;d<3;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}o.lens[E[o.have++]]=7&l,l>>>=3,d-=3}for(;o.have<19;)o.lens[E[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,M={bits:o.lenbits},_=Vs(0,o.lens,0,19,o.lencode,0,o.work,M),o.lenbits=M.bits,_){t.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;A=o.lencode[l&(1<<o.lenbits)-1],f=A>>>24,b=A>>>16&255,w=65535&A,!(f<=d);){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(w<16)l>>>=f,d-=f,o.lens[o.have++]=w;else{if(16===w){for(C=f+2;d<C;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(l>>>=f,d-=f,0===o.have){t.msg="invalid bit length repeat",o.mode=30;break}v=o.lens[o.have-1],p=3+(3&l),l>>>=2,d-=2}else if(17===w){for(C=f+3;d<C;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}l>>>=f,d-=f,v=0,p=3+(7&l),l>>>=3,d-=3}else{for(C=f+7;d<C;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}l>>>=f,d-=f,v=0,p=11+(127&l),l>>>=7,d-=7}if(o.have+p>o.nlen+o.ndist){t.msg="invalid bit length repeat",o.mode=30;break}for(;p--;)o.lens[o.have++]=v}}if(30===o.mode)break;if(0===o.lens[256]){t.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,M={bits:o.lenbits},_=Vs(1,o.lens,0,o.nlen,o.lencode,0,o.work,M),o.lenbits=M.bits,_){t.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,M={bits:o.distbits},_=Vs(2,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,M),o.distbits=M.bits,_){t.msg="invalid distances set",o.mode=30;break}if(o.mode=20,e===Gs)break t;case 20:o.mode=21;case 21:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=a,o.hold=l,o.bits=d,qs(t,u),s=t.next_out,i=t.output,c=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,l=o.hold,d=o.bits,12===o.mode&&(o.back=-1);break}for(o.back=0;A=o.lencode[l&(1<<o.lenbits)-1],f=A>>>24,b=A>>>16&255,w=65535&A,!(f<=d);){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(b&&0==(240&b)){for(x=f,y=b,k=w;A=o.lencode[k+((l&(1<<x+y)-1)>>x)],f=A>>>24,b=A>>>16&255,w=65535&A,!(x+f<=d);){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}l>>>=x,d-=x,o.back+=x}if(l>>>=f,d-=f,o.back+=f,o.length=w,0===b){o.mode=26;break}if(32&b){o.back=-1,o.mode=12;break}if(64&b){t.msg="invalid literal/length code",o.mode=30;break}o.extra=15&b,o.mode=22;case 22:if(o.extra){for(C=o.extra;d<C;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}o.length+=l&(1<<o.extra)-1,l>>>=o.extra,d-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;A=o.distcode[l&(1<<o.distbits)-1],f=A>>>24,b=A>>>16&255,w=65535&A,!(f<=d);){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(0==(240&b)){for(x=f,y=b,k=w;A=o.distcode[k+((l&(1<<x+y)-1)>>x)],f=A>>>24,b=A>>>16&255,w=65535&A,!(x+f<=d);){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}l>>>=x,d-=x,o.back+=x}if(l>>>=f,d-=f,o.back+=f,64&b){t.msg="invalid distance code",o.mode=30;break}o.offset=w,o.extra=15&b,o.mode=24;case 24:if(o.extra){for(C=o.extra;d<C;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}o.offset+=l&(1<<o.extra)-1,l>>>=o.extra,d-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){t.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(0===c)break t;if(p=u-c,o.offset>p){if(p=o.offset-p,p>o.whave&&o.sane){t.msg="invalid distance too far back",o.mode=30;break}p>o.wnext?(p-=o.wnext,g=o.wsize-p):g=o.wnext-p,p>o.length&&(p=o.length),m=o.window}else m=i,g=s-o.offset,p=o.length;p>c&&(p=c),c-=p,o.length-=p;do{i[s++]=m[g++]}while(--p);0===o.length&&(o.mode=21);break;case 26:if(0===c)break t;i[s++]=o.length,c--,o.mode=21;break;case 27:if(o.wrap){for(;d<32;){if(0===a)break t;a--,l|=n[r++]<<d,d+=8}if(u-=c,t.total_out+=u,o.total+=u,u&&(t.adler=o.check=o.flags?Dr(o.check,i,u,s-u):_r(o.check,i,u,s-u)),u=c,(o.flags?l:oa(l))!==o.check){t.msg="incorrect data check",o.mode=30;break}l=0,d=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;d<32;){if(0===a)break t;a--,l+=n[r++]<<d,d+=8}if(l!==(4294967295&o.total)){t.msg="incorrect length check",o.mode=30;break}l=0,d=0}o.mode=29;case 29:_=Hs;break t;case 30:_=Ks;break t;case 31:return Xs;case 32:default:return $s}return t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=a,o.hold=l,o.bits=d,(o.wsize||u!==t.avail_out&&o.mode<30&&(o.mode<27||e!==Qs))&&ua(t,t.output,t.next_out,u-t.avail_out),h-=t.avail_in,u-=t.avail_out,t.total_in+=h,t.total_out+=u,o.total+=u,o.wrap&&u&&(t.adler=o.check=o.flags?Dr(o.check,i,u,t.next_out-u):_r(o.check,i,u,t.next_out-u)),t.data_type=o.bits+(o.last?64:0)+(12===o.mode?128:0)+(20===o.mode||15===o.mode?256:0),(0===h&&0===u||e===Qs)&&_===Ws&&(_=ta),_},inflateEnd:t=>{if(!t||!t.state)return $s;let e=t.state;return e.window&&(e.window=null),t.state=null,Ws},inflateGetHeader:(t,e)=>{if(!t||!t.state)return $s;const o=t.state;return 0==(2&o.wrap)?$s:(o.head=e,e.done=!1,Ws)},inflateSetDictionary:(t,e)=>{const o=e.length;let n,i,r;return t&&t.state?(n=t.state,0!==n.wrap&&11!==n.mode?$s:11===n.mode&&(i=1,i=_r(i,e,o,0),i!==n.check)?Ks:(r=ua(t,e,o,o),r?(n.mode=31,Xs):(n.havedict=1,Ws))):$s},inflateInfo:"pako inflate (from Nodeca project)"};var ga=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ma=Object.prototype.toString,{Z_NO_FLUSH:fa,Z_FINISH:ba,Z_OK:wa,Z_STREAM_END:xa,Z_NEED_DICT:ya,Z_STREAM_ERROR:ka,Z_DATA_ERROR:va,Z_MEM_ERROR:_a}=Cr;function Aa(t){this.options=ws({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ds,this.strm.avail_out=0;let o=pa.inflateInit2(this.strm,e.windowBits);if(o!==wa)throw new Error(Mr[o]);if(this.header=new ga,pa.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=vs(e.dictionary):"[object ArrayBuffer]"===ma.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(o=pa.inflateSetDictionary(this.strm,e.dictionary),o!==wa)))throw new Error(Mr[o])}Aa.prototype.push=function(t,e){const o=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let r,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?ba:fa,"[object ArrayBuffer]"===ma.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(n),o.next_out=0,o.avail_out=n),r=pa.inflate(o,s),r===ya&&i&&(r=pa.inflateSetDictionary(o,i),r===wa?r=pa.inflate(o,s):r===va&&(r=ya));o.avail_in>0&&r===xa&&o.state.wrap>0&&0!==t[o.next_in];)pa.inflateReset(o),r=pa.inflate(o,s);switch(r){case ka:case va:case ya:case _a:return this.onEnd(r),this.ended=!0,!1}if(a=o.avail_out,o.next_out&&(0===o.avail_out||r===xa))if("string"===this.options.to){let t=As(o.output,o.next_out),e=o.next_out-t,i=_s(o.output,t);o.next_out=e,o.avail_out=n-e,e&&o.output.set(o.output.subarray(t,t+e),0),this.onData(i)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(r!==wa||0!==a){if(r===xa)return r=pa.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},Aa.prototype.onData=function(t){this.chunks.push(t)},Aa.prototype.onEnd=function(t){t===wa&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=xs(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:Da,deflate:Ma,deflateRaw:Ca,gzip:Ea}=Us;var za=Ca;const Sa=class{hasLanguage(t){return Object.prototype.hasOwnProperty.call(Sa.lanMap,t)}getLanguages(){return Object.keys(Sa.lanMap)}async runCode(t,e){if(!this.hasLanguage(e))return"Language not supported!\n";try{const o=unescape(encodeURIComponent(Sa.lanMap[e])),n=unescape(encodeURIComponent(t)),i=`Vlang\x001\0${o}\0VTIO_OPTIONS\x000\0F.code.tio\0${n.length}\0${n}F.input.tio\x000\0Vargs\x000\0R`,r=await fetch("https://tio.run/cgi-bin/run/api/",{method:"POST",body:new Blob([za(i)])});if(!r.ok)return`${r.status} ${r.statusText}`;const s=(await r.text()).split("\n"),a=s.slice(0,s.length-5).join("\n"),c=a.slice(0,16),[l,d]=a.slice(16).split(c);return d||l}catch(o){return`${o instanceof Error?o.message:String(o)}\n`}}};let Na=Sa;Na.lanMap={clojure:"clojure",coffeescript:"coffeescript",c:"c-gcc",cpp:"cpp-gcc",csharp:"cs-mono",dart:"dart",elixir:"elixir",fsharp:"fs-mono",go:"go",java:"java-jdk",javascript:"javascript-node",julia:"julia",kotlin:"kotlin",lua:"lua","objective-c":"objective-c-gcc",pascal:"pascal-fpc",perl:"perl6",php:"php",powershell:"powershell",python:"python3",r:"r",ruby:"ruby",rust:"rust",scala:"scala",shell:"bash",sql:"spl",swift:"swift4",tcl:"tcl",typescript:"typescript",vb:"vb-core"};class Ia{constructor(t,e,o,n,i){this.context=t,this.attrs=e,this.box=o,this.monaco=n,this.readonly=i,this.compiler=new Na,this.sideEffect=new s,this.terminal=new Fi(t,e,this.compiler),this.yDoc=new Be,this.yText=this.yDoc.getText("monaco"),this.$container=this.renderContainer(),this.box.mountContent(this.$container),this.editor=this.monaco.editor.create(this.$container,{value:"",automaticLayout:!0,readOnly:i,language:this.attrs.lang,fixedOverflowWidgets:!1}),this.$footer=this.renderFooter(),this.box.mountFooter(this.$footer),this.yBinding=new Pi(t,e,o,this.monaco,this.editor,this.yDoc,this.yText,i)}setReadonly(t){t!==this.readonly&&(this.readonly=t,this.$container.classList.toggle(this.wrapClassName("cursor-readonly"),t),this.$footer.classList.toggle(this.wrapClassName("readonly"),t),this.editor.updateOptions({readOnly:t}),this.yBinding.setReadonly(t))}renderContainer(){const t=document.createElement("div");return t.className=this.wrapClassName("editor-container"),this.readonly&&t.classList.add(this.wrapClassName("cursor-readonly")),t}renderFooter(){const t=document.createElement("div");t.className=this.wrapClassName("footer"),this.readonly&&t.classList.add(this.wrapClassName("readonly"));const e=document.createElement("div");e.className=this.wrapClassName("footer-ctrl"),t.appendChild(e);const o=document.createElement("select");o.className=this.wrapClassName("lang-select"),this.monaco.languages.getLanguages().forEach((t=>{const e=document.createElement("option");e.value=t.id,e.textContent=t.id,o.appendChild(e)})),o.value=this.attrs.lang,e.appendChild(o);const n=document.createElement("button");return n.className=this.wrapClassName("run-code"),n.textContent="Run",n.disabled=!this.compiler.hasLanguage(this.attrs.lang),e.appendChild(n),this.sideEffect.addEventListener(o,"change",(()=>{const t=o.value;!this.readonly&&t&&t!==this.attrs.lang&&this.context.updateAttributes(["lang"],t)})),this.sideEffect.add((()=>this.context.mobxUtils.reaction((()=>this.attrs.lang),(t=>{t&&(this.monaco.editor.setModelLanguage(this.yBinding.monacoModel,t),o.value=t,n.disabled=!this.compiler.hasLanguage(t))})))),this.sideEffect.add((()=>this.context.mobxUtils.reaction((()=>this.attrs.codeRunning),(t=>{n.disabled=t})))),this.sideEffect.addEventListener(n,"click",(async()=>{const t=this.editor.getValue();!this.readonly&&t.trim()&&(this.context.updateAttributes(["codeRunning"],!0),await this.terminal.runCode(t,this.attrs.lang),this.context.updateAttributes(["codeRunning"],!1))})),t.appendChild(this.terminal.$content),t}wrapClassName(t){return`netless-app-monaco-${t}`}destroy(){this.editor.dispose()}}const Oa={kind:a,async setup(t){const e=t.getBox(),o=Q(t,{text:"",cursors:{},selections:{},lang:"javascript",terminal:"",codeRunning:!1});e.mountStyles('.netless-app-monaco-editor-container{width:100%;height:100%;overflow:hidden}.netless-app-monaco-cursor-readonly .cursors-layer>.cursor{display:none!important}.netless-app-monaco-selection{background:rgba(250,129,0,.5)}.netless-app-monaco-cursor{--content: "Guest";--bg-color: orange;--text-color: #fff;--label: none;--dot: block;display:none;margin-left:-1px;border-left:2px solid var(--bg-color);transition:top .2s,left .2s;user-select:none}.netless-app-monaco-cursor:before{display:var(--label);content:var(--content);position:absolute;z-index:1;top:-18px;left:-4px;font-size:12px;line-height:20px;height:20px;padding:0 5px;max-width:200px;overflow:hidden;text-overflow:ellipsis;word-break:keep-all;white-space:nowrap;background:var(--bg-color);border-radius:4px;color:var(--text-color)}.netless-app-monaco-cursor-first-line:before{top:16px;left:-2px}.netless-app-monaco-cursor-right:before{left:unset;right:2px}.netless-app-monaco-cursor:after{display:var(--dot);content:" ";position:absolute;left:-4px;top:-4px;width:6px;height:6px;border-radius:4px;background:var(--bg-color)}.netless-app-monaco-footer{box-sizing:border-box;height:100px;display:flex;flex-direction:column;padding:0 16px;border-top:1px solid #eeeef7;color:#191919;font-size:12px}.netless-app-monaco-readonly{pointer-events:none}.netless-app-monaco-readonly .netless-app-monaco-lang-select{pointer-events:none}.netless-app-monaco-footer-ctrl{width:100%;height:26px}.netless-app-monaco-terminal{flex:1;width:100%;overflow:auto;margin:0}\n.monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{display:flex;margin:0 auto;padding:0;height:100%;width:100%;align-items:center}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{display:block;align-items:center;justify-content:center;cursor:pointer;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .codicon,.monaco-action-bar .action-item .icon{display:block}.monaco-action-bar .action-item .codicon{display:flex;align-items:center;width:16px;height:16px}.monaco-action-bar .action-label{font-size:11px;padding:3px;border-radius:5px}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.4}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{display:block;border-bottom:1px solid #bbb;padding-top:1px;margin-left:.8em;margin-right:.8em}.monaco-action-bar .action-item .action-label.separator{width:1px;height:16px;margin:5px 4px!important;cursor:default;min-width:1px;padding:0;background-color:#bbb}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{overflow:hidden;flex:1;max-width:170px;min-width:60px;display:flex;align-items:center;justify-content:center;margin-right:10px}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-label{margin-right:1px}.monaco-aria-container{position:absolute;left:-999em}.monaco-text-button{box-sizing:border-box;display:flex;width:100%;padding:4px;text-align:center;cursor:pointer;justify-content:center;align-items:center}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled,.monaco-button.disabled:focus{opacity:.4!important;cursor:default}.monaco-text-button>.codicon{margin:0 .2em;color:inherit!important}.monaco-button-dropdown{display:flex;cursor:pointer}.monaco-button-dropdown>.monaco-dropdown-button{margin-left:1px}.monaco-description-button{flex-direction:column}.monaco-description-button .monaco-button-label{font-weight:500}.monaco-description-button .monaco-button-description{font-style:italic}.monaco-custom-checkbox{margin-left:2px;float:left;cursor:pointer;overflow:hidden;opacity:.7;width:20px;height:20px;border:1px solid transparent;padding:1px;box-sizing:border-box;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-custom-checkbox.checked,.monaco-custom-checkbox:hover{opacity:1}.hc-black .monaco-custom-checkbox,.hc-black .monaco-custom-checkbox:hover{background:none}.monaco-custom-checkbox.monaco-simple-checkbox{height:18px;width:18px;border:1px solid transparent;border-radius:3px;margin-right:9px;margin-left:0;padding:0;opacity:1;background-size:16px!important}.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked):before{visibility:hidden}@font-face{font-family:codicon;src:url(__VITE_ASSET__6c92101c__) format("truetype")}.codicon[class*=codicon-]{font:normal normal normal 16px/1 codicon;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;user-select:none;-webkit-user-select:none;-ms-user-select:none}.codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(1turn)}}.codicon-gear.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin,.codicon-sync.codicon-modifier-spin{animation:codicon-spin 1.5s steps(30) infinite}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}.context-view{position:absolute;z-index:2500}.context-view.fixed{all:initial;font-family:inherit;font-size:13px;position:fixed;z-index:2500;color:inherit}.monaco-count-badge{padding:3px 6px;border-radius:11px;font-size:11px;min-width:18px;min-height:18px;line-height:11px;font-weight:400;text-align:center;display:inline-block;box-sizing:border-box}.monaco-count-badge.long{padding:2px 3px;border-radius:2px;min-height:auto;line-height:normal}.monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;height:100%;display:flex;align-items:center;justify-content:center}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}.monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{font-size:13px;width:100%}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-0 .1s linear 0s}.monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-1 .1s linear 0s}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-dark-0 .1s linear 0s}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-dark-1 .1s linear 0s}@keyframes monaco-findInput-highlight-0{0%{background:rgba(253,255,0,.8)}to{background:transparent}}@keyframes monaco-findInput-highlight-1{0%{background:rgba(253,255,0,.8)}99%{background:transparent}}@keyframes monaco-findInput-highlight-dark-0{0%{background:hsla(0,0%,100%,.44)}to{background:transparent}}@keyframes monaco-findInput-highlight-dark-1{0%{background:hsla(0,0%,100%,.44)}99%{background:transparent}}.monaco-hover{cursor:default;position:absolute;overflow:hidden;z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;box-sizing:initial;animation:fadein .1s linear;line-height:1.5em}.monaco-hover.hidden{display:none}.monaco-hover .hover-contents{padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:500px;word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover .code,.monaco-hover p,.monaco-hover ul{margin:8px 0}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;margin:4px -8px -4px;height:1px}.monaco-hover .code:first-child,.monaco-hover p:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover .code:last-child,.monaco-hover p:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ol,.monaco-hover ul{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:pre-wrap}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .actions{display:flex;padding:0 8px}.monaco-hover .hover-row.status-bar .actions .action-container{margin-right:16px;cursor:pointer}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link,.monaco-hover .hover-contents a.code-link:hover{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:"("}.monaco-hover .hover-contents a.code-link:after{content:")"}.monaco-hover .hover-contents a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}.monaco-icon-label{display:flex;overflow:hidden;text-overflow:ellipsis}.monaco-icon-label:before{background-size:16px;background-position:0;background-repeat:no-repeat;padding-right:6px;width:16px;height:22px;line-height:inherit!important;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;flex-shrink:0}.monaco-icon-label>.monaco-icon-label-container{min-width:0;overflow:hidden;text-overflow:ellipsis;flex:1}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{margin:0 2px;opacity:.5}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;margin-left:.5em;font-size:.9em;white-space:pre}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{font-style:italic}.monaco-icon-label.deprecated{text-decoration:line-through;opacity:.66}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;font-size:90%;font-weight:600;margin:0 16px 0 5px;text-align:center}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}.monaco-inputbox{position:relative;display:block;padding:0;box-sizing:border-box;font-size:inherit}.monaco-inputbox.idle{border:1px solid transparent}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px}.monaco-inputbox>.ibwrapper{position:relative;width:100%;height:100%}.monaco-inputbox>.ibwrapper>.input{display:inline-block;box-sizing:border-box;width:100%;height:100%;line-height:inherit;border:none;font-family:inherit;font-size:inherit;resize:none;color:inherit}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{display:block;-ms-overflow-style:none;scrollbar-width:none;outline:none}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{position:absolute;display:inline-block;width:100%;top:0;left:0;box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{display:inline-block;overflow:hidden;text-align:left;width:100%;box-sizing:border-box;padding:.4em;font-size:12px;line-height:17px;margin-top:-1px;word-wrap:break-word}.monaco-inputbox .monaco-action-bar{position:absolute;right:2px;top:4px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}.monaco-keybinding{display:flex;align-items:center;line-height:10px}.monaco-keybinding>.monaco-keybinding-key{display:inline-block;border-style:solid;border-width:1px;border-radius:3px;vertical-align:middle;font-size:11px;padding:3px 5px;margin:0 2px}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}.monaco-list{position:relative;height:100%;width:100%;white-space:nowrap}.monaco-list.mouse-support{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{position:relative;width:100%;height:100%}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{position:absolute;box-sizing:border-box;overflow:hidden;width:100%}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-multiple,.monaco-list.selection-single{outline:0!important}.monaco-drag-image{display:inline-block;padding:1px 7px;border-radius:10px;font-size:12px;position:absolute;z-index:1000}.monaco-list-type-filter{display:flex;align-items:center;position:absolute;border-radius:2px;padding:0 3px;max-width:calc(100% - 10px);text-overflow:ellipsis;overflow:hidden;text-align:right;box-sizing:border-box;cursor:all-scroll;font-size:13px;line-height:18px;height:20px;z-index:1;top:4px}.monaco-list-type-filter.dragging{transition:top .2s,left .2s}.monaco-list-type-filter.ne{right:4px}.monaco-list-type-filter.nw{left:4px}.monaco-list-type-filter>.controls{display:flex;align-items:center;box-sizing:border-box;transition:width .2s;width:0}.monaco-list-type-filter.dragging>.controls,.monaco-list-type-filter:hover>.controls{width:36px}.monaco-list-type-filter>.controls>*{border:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;background:none;width:16px;height:16px;flex-shrink:0;margin:0;padding:0;display:flex;align-items:center;justify-content:center;cursor:pointer}.monaco-list-type-filter>.controls>.filter{margin-left:4px}.monaco-list-type-filter-message{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;padding:40px 1em 1em;text-align:center;white-space:normal;opacity:.7;pointer-events:none}.monaco-list-type-filter-message:empty{display:none}.monaco-list-type-filter{cursor:grab}.monaco-list-type-filter.dragging{cursor:grabbing}.monaco-mouse-cursor-text{cursor:text}.hc-black.mac .monaco-mouse-cursor-text,.hc-black .mac .monaco-mouse-cursor-text,.vs-dark.mac .monaco-mouse-cursor-text,.vs-dark .mac .monaco-mouse-cursor-text{cursor:-webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=) 1x,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAz0lEQVRIx2NgYGBY/R8I/vx5eelX3n82IJ9FxGf6tksvf/8FiTMQAcAGQMDvSwu09abffY8QYSAScNk45G198eX//yev73/4///701eh//kZSARckrNBRvz//+8+6ZohwCzjGNjdgQxkAg7B9WADeBjIBqtJCbhRA0YNoIkBSNmaPEMoNmA0FkYNoFKhapJ6FGyAH3nauaSmPfwI0v/3OukVi0CIZ+F25KrtYcx/CTIy0e+rC7R1Z4KMICVTQQ14feVXIbR695u14+Ir4gwAAD49E54wc1kWAAAAAElFTkSuQmCC) 2x) 5 8,text}.monaco-progress-container{width:100%;height:5px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:5px;position:absolute;left:0;display:none}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{left:0;transition:width .1s linear}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:linear;transform:translateZ(0)}@keyframes progress{0%{transform:translate(0) scaleX(1)}50%{transform:translate(2500%) scaleX(3)}to{transform:translate(4900%) scaleX(1)}}:root{--sash-size:4px}.monaco-sash{position:absolute;z-index:35;touch-action:none}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;top:0;width:var(--sash-size);height:100%}.monaco-sash.horizontal{cursor:ns-resize;left:0;width:100%;height:var(--sash-size)}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--sash-size)*2);width:calc(var(--sash-size)*2);z-index:100;display:block;cursor:all-scroll;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--sash-size)*-.5);top:calc(var(--sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--sash-size)*-.5);bottom:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--sash-size)*-.5);left:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--sash-size)*-.5);right:calc(var(--sash-size)*-1)}.monaco-sash:before{content:"";pointer-events:none;position:absolute;width:100%;height:100%;transition:background-color .1s ease-out;background:transparent}.monaco-sash.vertical:before{width:var(--sash-hover-size);left:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.horizontal:before{height:var(--sash-hover-size);top:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:rgba(0,255,255,.2)}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}.monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;background:transparent;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{position:absolute;display:none}.monaco-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%;box-shadow:inset 0 6px 6px -6px #ddd}.monaco-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px;box-shadow:inset 6px 0 6px -6px #ddd}.monaco-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}.monaco-scrollable-element>.shadow.top.left{box-shadow:inset 6px 6px 6px -6px #ddd}.vs .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,39.2%,.4)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,47.5%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider{background:rgba(111,195,223,.6)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:hsla(0,0%,39.2%,.7)}.hc-black .monaco-scrollable-element>.scrollbar>.slider:hover{background:rgba(111,195,223,.8)}.monaco-scrollable-element>.scrollbar>.slider.active{background:rgba(0,0,0,.6)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active{background:hsla(0,0%,74.9%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider.active{background:#6fc3df}.vs-dark .monaco-scrollable-element .shadow.top{box-shadow:none}.vs-dark .monaco-scrollable-element .shadow.left{box-shadow:inset 6px 0 6px -6px #000}.vs-dark .monaco-scrollable-element .shadow.top.left{box-shadow:inset 6px 6px 6px -6px #000}.hc-black .monaco-scrollable-element .shadow.left,.hc-black .monaco-scrollable-element .shadow.top,.hc-black .monaco-scrollable-element .shadow.top.left{box-shadow:none}.monaco-split-view2{position:relative;width:100%;height:100%}.monaco-split-view2>.sash-container{position:absolute;width:100%;height:100%;pointer-events:none}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:auto}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{width:100%;height:100%;white-space:nowrap;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:normal;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";position:absolute;top:0;left:0;z-index:5;pointer-events:none;background-color:var(--separator-border)}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:100%;width:1px}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:1px;width:100%}.monaco-table{display:flex;flex-direction:column;position:relative;height:100%;width:100%;white-space:nowrap}.monaco-table>.monaco-split-view2{border-bottom:1px solid transparent}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{display:flex;height:100%}.monaco-table-th{width:100%;height:100%;font-weight:700;overflow:hidden;text-overflow:ellipsis}.monaco-table-td,.monaco-table-th{box-sizing:border-box;flex-shrink:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";position:absolute;left:calc(var(--sash-size)/2);width:0;border-left:1px solid transparent}.monaco-table>.monaco-split-view2,.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}.monaco-tl-row{display:flex;height:100%;align-items:center;position:relative}.monaco-tl-indent{height:100%;position:absolute;top:0;left:16px;pointer-events:none}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{display:inline-block;box-sizing:border-box;height:100%;border-left:1px solid transparent;transition:border-color .1s linear}.monaco-tl-contents,.monaco-tl-twistie{height:100%}.monaco-tl-twistie{font-size:10px;text-align:right;padding-right:6px;flex-shrink:0;width:16px;display:flex!important;align-items:center;justify-content:center;transform:translate(3px)}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:codicon-spin 1.25s steps(30) infinite}.quick-input-widget{position:absolute;width:600px;z-index:2000;padding:0 1px 6px;left:50%;margin-left:-300px}.quick-input-titlebar{display:flex;align-items:center}.quick-input-left-action-bar{display:flex;margin-left:4px;flex:1}.quick-input-title{padding:3px 0;text-align:center}.quick-input-right-action-bar{display:flex;margin-right:4px;flex:1}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px}.quick-input-header .quick-input-description{margin:4px 2px}.quick-input-header{display:flex;padding:6px 6px 0;margin-bottom:-2px}.quick-input-widget.hidden-input .quick-input-header{padding:0;margin-bottom:0}.quick-input-and-message{display:flex;flex-direction:column;flex-grow:1;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;position:absolute;right:4px;display:flex;align-items:center}.quick-input-count .monaco-count-badge{vertical-align:middle;padding:2px 4px;border-radius:2px;min-height:auto;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{font-size:11px;padding:0 6px;display:flex;height:27.5px;align-items:center}.quick-input-message{margin-top:-1px;padding:5px 5px 2px}.quick-input-message>.codicon{margin:0 .2em;vertical-align:text-bottom}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-progress.monaco-progress-container,.quick-input-progress.monaco-progress-container .progress-bit{height:2px}.quick-input-list{line-height:22px;margin-top:6px}.quick-input-widget.hidden-input .quick-input-list{margin-top:0}.quick-input-list .monaco-list{overflow:hidden;max-height:440px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;overflow:hidden;display:flex;height:100%;padding:0 6px}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-width:1px;border-top-style:solid}.quick-input-list .monaco-list-row[data-index="0"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{overflow:hidden;display:flex;height:100%;flex:1}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-rows{overflow:hidden;text-overflow:ellipsis;display:flex;flex-direction:column;height:100%;flex:1;margin-left:5px}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{display:flex;align-items:center}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;line-height:normal;text-overflow:ellipsis;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:8px}.quick-input-list .quick-input-list-entry-action-bar{display:flex;flex:0;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label,.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:none}.monaco-editor .inputarea{min-width:0;min-height:0;margin:0;padding:0;position:absolute;outline:none!important;resize:none;border:none;overflow:hidden;color:transparent;background-color:transparent}.monaco-editor .inputarea.ime-input{z-index:10}.monaco-editor .margin-view-overlays .current-line,.monaco-editor .view-overlays .current-line{display:block;position:absolute;left:0;top:0;box-sizing:border-box}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}.monaco-editor .lines-content .cdr{position:absolute}.monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .margin-view-overlays .cgmr{position:absolute;display:flex;align-items:center;justify-content:center}.monaco-editor .lines-content .cigr,.monaco-editor .lines-content .cigra{position:absolute}.monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;position:absolute;text-align:right;display:inline-block;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%}.monaco-editor .relative-current-line-number{text-align:left;display:inline-block;width:100%}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{position:absolute;width:100%}.monaco-editor .mtkz{display:inline-block}.monaco-editor .lines-decorations{position:absolute;top:0;background:#fff}.monaco-editor .margin-view-overlays .cldr{position:absolute;height:100%}.monaco-editor .margin-view-overlays .cmdr{position:absolute;left:0;width:100%;height:100%}.monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover .minimap-slider.active,.monaco-editor .minimap.slider-mouseover:hover .minimap-slider{opacity:1}.monaco-editor .minimap-shadow-hidden{position:absolute;width:0}.monaco-editor .minimap-shadow-visible{position:absolute;left:-6px;width:6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{position:absolute;left:-1px;width:1px}.monaco-editor .overlayWidgets{position:absolute;top:0;left:0}.monaco-editor .view-ruler{position:absolute;top:0}.monaco-editor .scroll-decoration{position:absolute;top:0;left:0;height:6px}.monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{box-sizing:border-box;background:transparent!important;border-style:solid;border-width:1px}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-width:2px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-width:1px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:monaco-cursor-smooth .5s ease-in-out 0s 20 alternate}.cursor-phase{animation:monaco-cursor-phase .5s ease-in-out 0s 20 alternate}.cursor-expand>.cursor{animation:monaco-cursor-expand .5s ease-in-out 0s 20 alternate}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:rgba(0,0,0,.03)}.monaco-diff-editor.vs-dark .diffOverview{background:hsla(0,0%,100%,.01)}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar{background:transparent}.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar{background:none}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:hsla(0,0%,67.1%,.4)}.modified-in-monaco-diff-editor.hc-black .slider.active{background:none}.monaco-diff-editor .delete-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-editor .insert-sign{font-size:11px!important;opacity:.7!important;display:flex!important;align-items:center}.monaco-diff-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-editor.hc-black .insert-sign{opacity:1}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .inline-deleted-margin-view-zone{text-align:right}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-diff-editor .diff-review-line-number{text-align:right;display:inline-block}.monaco-diff-editor .diff-review{position:absolute;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{display:table;min-width:100%}.monaco-diff-editor .diff-review-row{display:table-row;width:100%}.monaco-diff-editor .diff-review-spacer{display:inline-block;width:10px;vertical-align:middle}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{display:inline-block;position:absolute;right:10px;top:2px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{position:relative;overflow:visible;-webkit-text-size-adjust:100%}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}.monaco-editor .bracket-match{box-sizing:border-box}.monaco-editor .contentWidgets .codicon-light-bulb,.monaco-editor .contentWidgets .codicon-lightbulb-autofix{display:flex;align-items:center;justify-content:center}.monaco-editor .contentWidgets .codicon-light-bulb:hover,.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover{cursor:pointer}.monaco-editor .codelens-decoration{overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{user-select:none;-webkit-user-select:none;-ms-user-select:none;white-space:nowrap;vertical-align:sub}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration .codicon{vertical-align:middle;color:currentColor!important}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{animation:fadein .1s linear}.colorpicker-widget{height:190px;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .colorpicker-hover:focus{outline:none}.colorpicker-header{display:flex;height:24px;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-header .picked-color{width:216px;line-height:24px;cursor:pointer;color:#fff;flex:1;text-align:center}.colorpicker-header .picked-color.light{color:#000}.colorpicker-header .original-color{width:74px;z-index:inherit;cursor:pointer}.colorpicker-body{display:flex;padding:8px;position:relative}.colorpicker-body .saturation-wrap{overflow:hidden;height:150px;position:relative;min-width:220px;flex:1}.colorpicker-body .saturation-box{height:150px;position:absolute}.colorpicker-body .saturation-selection{width:9px;height:9px;margin:-5px 0 0 -5px;border:1px solid #fff;border-radius:100%;box-shadow:0 0 2px #000c;position:absolute}.colorpicker-body .strip{width:25px;height:150px}.colorpicker-body .hue-strip{position:relative;margin-left:8px;cursor:grab;background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.colorpicker-body .opacity-strip{position:relative;margin-left:8px;cursor:grab;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-body .strip.grabbing{cursor:grabbing}.colorpicker-body .slider{position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:4px;box-sizing:border-box;border:1px solid hsla(0,0%,100%,.71);box-shadow:0 0 1px #000000d9}.colorpicker-body .strip .overlay{height:150px;pointer-events:none}.monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}.monaco-editor .find-widget{position:absolute;z-index:35;height:33px;overflow:hidden;line-height:19px;transition:transform .2s linear;padding:0 4px;box-sizing:border-box;transform:translateY(calc(-100% - 10px))}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{margin:4px 0 0 17px;font-size:12px;display:flex}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-top:2px;padding-bottom:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{height:25px;display:flex;align-items:center}.monaco-editor .find-widget .monaco-findInput{vertical-align:middle;display:flex;flex:1}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{display:flex;flex:initial;margin:0 0 0 3px;padding:2px 0 0 2px;height:25px;vertical-align:middle;box-sizing:border-box;text-align:center;line-height:23px}.monaco-editor .find-widget .button{width:20px;height:20px;flex:initial;margin-left:3px;background-position:50%;background-repeat:no-repeat;cursor:pointer;display:flex;align-items:center;justify-content:center}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{width:auto;padding:1px 6px;top:-1px}.monaco-editor .find-widget .button.toggle{position:absolute;top:0;left:3px;width:18px;height:100%;box-sizing:border-box}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{opacity:.3;cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{position:relative;display:flex;vertical-align:middle;flex:auto;flex-grow:0;flex-shrink:0}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .findMatch{animation-duration:0;animation-name:inherit!important}.monaco-editor .find-widget .monaco-sash{left:0!important}.monaco-editor.hc-black .find-widget .button:before{position:relative;top:1px;left:2px}.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded{cursor:pointer;opacity:0;transition:opacity .5s;display:flex;align-items:center;justify-content:center;font-size:140%;margin-left:2px}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:gray;margin:.1em .2em 0;content:"\\22ef";display:inline;line-height:1em;cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;vertical-align:text-top;margin-right:4px}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{opacity:.6;font-style:italic}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{position:absolute;white-space:pre;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:8px 12px 0 20px}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{opacity:.6;color:inherit}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-editor .marker-widget .descriptioncontainer .filename{cursor:pointer}.monaco-editor .goto-definition-link{text-decoration:underline;cursor:pointer}.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget{border-top-width:1px;border-bottom-width:1px}.monaco-editor .reference-zone-widget .inline{display:inline-block;vertical-align:top}.monaco-editor .reference-zone-widget .messages{height:100%;width:100%;text-align:center;padding:3em 0}.monaco-editor .reference-zone-widget .ref-tree{line-height:23px}.monaco-editor .reference-zone-widget .ref-tree .reference{text-overflow:ellipsis;overflow:hidden}.monaco-editor .reference-zone-widget .ref-tree .reference-file{display:inline-flex;width:100%;height:100%}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file{color:inherit!important}.monaco-editor .reference-zone-widget .ref-tree .reference-file .count{margin-right:12px;margin-left:auto}.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file{font-weight:700}.monaco-editor .suggest-preview-additional-widget{white-space:nowrap}.monaco-editor .suggest-preview-additional-widget .content-spacer{color:transparent;white-space:pre}.monaco-editor .suggest-preview-additional-widget .button{display:inline-block;cursor:pointer;text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-hidden{opacity:0;font-size:0}.monaco-editor .detected-link,.monaco-editor .detected-link-active{text-decoration:underline;text-underline-position:under}.monaco-editor .detected-link-active{cursor:pointer}.monaco-editor .monaco-editor-overlaymessage{padding-bottom:8px;z-index:10000}.monaco-editor .monaco-editor-overlaymessage.below{padding-bottom:0;padding-top:8px;z-index:10000}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.monaco-editor .monaco-editor-overlaymessage.fadeIn{animation:fadeIn .15s ease-out}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.monaco-editor .monaco-editor-overlaymessage.fadeOut{animation:fadeOut .1s ease-out}.monaco-editor .monaco-editor-overlaymessage .message{padding:1px 4px}.monaco-editor .monaco-editor-overlaymessage .anchor{width:0!important;height:0!important;z-index:1000;border:8px solid transparent;position:absolute}.monaco-editor .monaco-editor-overlaymessage.below .anchor.below,.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top{display:none}.monaco-editor .monaco-editor-overlaymessage.below .anchor.top{display:inherit;top:-8px}.monaco-editor .parameter-hints-widget{z-index:10;display:flex;flex-direction:column;line-height:1.5em}.monaco-editor .parameter-hints-widget>.phwrapper{max-width:440px;display:flex;flex-direction:row}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.visible{transition:left .05s ease-in-out}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs .markdown-docs code{font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .docs .code{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs code{border-radius:3px;padding:0 .4em}.monaco-editor .parameter-hints-widget .controls{display:none;flex-direction:column;align-items:center;min-width:22px;justify-content:flex-end}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{width:16px;height:16px;background-repeat:no-repeat;cursor:pointer}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{text-align:center;height:12px;line-height:12px;opacity:.5;font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .signature .parameter.active{font-weight:700;text-decoration:underline}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}.monaco-editor .peekview-widget .head{box-sizing:border-box;display:flex}.monaco-editor .peekview-widget .head .peekview-title{display:flex;align-items:center;font-size:13px;margin-left:20px;cursor:pointer;min-width:0}.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty){font-size:.9em;margin-left:.5em}.monaco-editor .peekview-widget .head .peekview-title .dirname,.monaco-editor .peekview-widget .head .peekview-title .meta{white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .filename{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty):before{content:"-";padding:0 .3em}.monaco-editor .peekview-widget .head .peekview-actions{flex:1;text-align:right;padding-right:2px}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar{display:inline-block}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar,.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar>.actions-container{height:100%}.monaco-editor .peekview-widget>.body{border-top:1px solid;position:relative}.monaco-editor .peekview-widget .head .peekview-title .codicon{margin-right:4px}.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon{color:inherit!important}.monaco-editor .rename-box{z-index:100;color:inherit}.monaco-editor .rename-box.preview{padding:3px 3px 0}.monaco-editor .rename-box .rename-input{padding:3px;width:calc(100% - 6px)}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}.monaco-editor .snippet-placeholder{min-width:2px}.monaco-editor .finish-snippet-placeholder,.monaco-editor .snippet-placeholder{outline-style:solid;outline-width:1px}.monaco-editor .suggest-widget{width:430px;z-index:40;display:flex;flex-direction:column}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-details,.monaco-editor .suggest-widget{flex:0 1 auto;width:100%;border-style:solid;border-width:1px}.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-black .suggest-widget{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;display:none;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:80%;padding:0 4px;border-top:1px solid transparent;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{opacity:.5;color:inherit}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:", ";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{height:100%;width:100%}.monaco-editor .suggest-widget .monaco-list{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{display:flex;-mox-box-sizing:border-box;box-sizing:border-box;padding-right:10px;background-repeat:no-repeat;background-position:2px 2px;white-space:nowrap;cursor:pointer;touch-action:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;overflow:hidden;padding-left:2px}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:pre;justify-content:space-between}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;font-size:14px;cursor:pointer}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{overflow:hidden;text-overflow:ellipsis;opacity:.6}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{margin-left:12px;opacity:.4;font-size:85%;line-height:normal;text-overflow:ellipsis;overflow:hidden;align-self:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{font-size:85%;margin-left:1.1em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-shrink:1;flex-grow:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{overflow:hidden;flex-shrink:4;max-width:70%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:inline-block;position:absolute;right:10px;width:18px;height:18px;visibility:hidden}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{display:block;height:16px;width:16px;margin-left:2px;background-repeat:no-repeat;background-size:80%;background-position:50%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{display:flex;align-items:center;margin-right:4px}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{margin:0 0 0 .3em;border:.1em solid #000;width:.7em;height:.7em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{display:flex;flex-direction:column;cursor:default}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;height:100%;width:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{flex:2;overflow:hidden;text-overflow:ellipsis;opacity:.7;white-space:pre;margin:0 24px 0 0;padding:4px 0 12px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{margin:0;padding:4px 5px;white-space:pre-wrap}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{padding:0;white-space:normal;min-height:calc(1rem + 8px)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ol,.monaco-editor .suggest-details ul{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}.monaco-editor .zone-widget{position:absolute;z-index:10}.monaco-editor .zone-widget .zone-widget-container{border-top-style:solid;border-bottom-style:solid;border-top-width:0;border-bottom-width:0;position:relative}.monaco-editor .accessibilityHelpWidget{padding:10px;vertical-align:middle;overflow:scroll}.monaco-editor .iPadShowKeyboard{width:58px;min-width:0;height:36px;min-height:0;margin:0;padding:0;position:absolute;resize:none;overflow:hidden;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iIzQyNDI0MiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iI0M1QzVDNSIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #252526}.monaco-editor .tokens-inspect-widget{z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:10px}.tokens-inspect-separator{height:1px;border:0}.monaco-editor .tokens-inspect-widget .tm-token{font-family:var(--monaco-monospace-font)}.monaco-editor .tokens-inspect-widget .tm-token-length{font-weight:400;font-size:60%;float:right}.monaco-editor .tokens-inspect-widget .tm-metadata-table{width:100%}.monaco-editor .tokens-inspect-widget .tm-metadata-value{font-family:var(--monaco-monospace-font);text-align:right}.monaco-editor .tokens-inspect-widget .tm-token-type{font-family:var(--monaco-monospace-font)}.quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.monaco-keybinding>.monaco-keybinding-key{background-color:#ddd6;border:1px solid hsla(0,0%,80%,.4);border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6;color:#555}.hc-black .monaco-keybinding>.monaco-keybinding-key{background-color:transparent;border:1px solid #6fc3df;box-shadow:none;color:#fff}.vs-dark .monaco-keybinding>.monaco-keybinding-key{background-color:#8080802b;border:1px solid rgba(51,51,51,.6);border-bottom-color:#4449;box-shadow:inset 0 -1px #4449;color:#ccc}.monaco-editor{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif;--monaco-monospace-font:"SF Mono",Monaco,Menlo,Consolas,"Ubuntu Mono","Liberation Mono","DejaVu Sans Mono","Courier New",monospace}.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{position:absolute!important;top:0;height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;clip:rect(1px,1px,1px,1px);clip-path:inset(50%)}.monaco-editor.hc-black{-ms-high-contrast-adjust:none}@media screen and (-ms-high-contrast:active){.monaco-editor.vs-dark .view-overlays .current-line,.monaco-editor.vs .view-overlays .current-line{border-color:windowtext!important;border-left:0;border-right:0}.monaco-editor.vs-dark .cursor,.monaco-editor.vs .cursor{background-color:windowtext!important}.monaco-editor.vs-dark .dnd-target,.monaco-editor.vs .dnd-target{border-color:windowtext!important}.monaco-editor.vs-dark .selected-text,.monaco-editor.vs .selected-text{background-color:highlight!important}.monaco-editor.vs-dark .view-line,.monaco-editor.vs .view-line{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .view-line span,.monaco-editor.vs .view-line span{color:windowtext!important}.monaco-editor.vs-dark .view-line span.inline-selected-text,.monaco-editor.vs .view-line span.inline-selected-text{color:highlighttext!important}.monaco-editor.vs-dark .view-overlays,.monaco-editor.vs .view-overlays{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .reference-decoration,.monaco-editor.vs-dark .selectionHighlight,.monaco-editor.vs-dark .wordHighlight,.monaco-editor.vs-dark .wordHighlightStrong,.monaco-editor.vs .reference-decoration,.monaco-editor.vs .selectionHighlight,.monaco-editor.vs .wordHighlight,.monaco-editor.vs .wordHighlightStrong{border:2px dotted highlight!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .rangeHighlight,.monaco-editor.vs .rangeHighlight{background:transparent!important;border:1px dotted activeborder!important;box-sizing:border-box}.monaco-editor.vs-dark .bracket-match,.monaco-editor.vs .bracket-match{border-color:windowtext!important;background:transparent!important}.monaco-editor.vs-dark .currentFindMatch,.monaco-editor.vs-dark .findMatch,.monaco-editor.vs .currentFindMatch,.monaco-editor.vs .findMatch{border:2px dotted activeborder!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .find-widget,.monaco-editor.vs .find-widget{border:1px solid windowtext}.monaco-editor.vs-dark .monaco-list .monaco-list-row,.monaco-editor.vs .monaco-list .monaco-list-row{-ms-high-contrast-adjust:none;color:windowtext!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused,.monaco-editor.vs .monaco-list .monaco-list-row.focused{color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover,.monaco-editor.vs .monaco-list .monaco-list-row:hover{background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar,.monaco-editor.vs .monaco-scrollable-element>.scrollbar{-ms-high-contrast-adjust:none;background:background!important;border:1px solid windowtext;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider{background:windowtext!important}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider:hover,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider:hover{background:highlight!important}.monaco-editor.vs-dark .decorationsOverviewRuler,.monaco-editor.vs .decorationsOverviewRuler{opacity:0}.monaco-editor.vs-dark .minimap,.monaco-editor.vs .minimap{display:none}.monaco-editor.vs-dark .squiggly-d-error,.monaco-editor.vs .squiggly-d-error{background:transparent!important;border-bottom:4px double #e47777}.monaco-editor.vs-dark .squiggly-b-info,.monaco-editor.vs-dark .squiggly-c-warning,.monaco-editor.vs .squiggly-b-info,.monaco-editor.vs .squiggly-c-warning{border-bottom:4px double #71b771}.monaco-editor.vs-dark .squiggly-a-hint,.monaco-editor.vs .squiggly-a-hint{border-bottom:4px double #6c6c6c}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{-ms-high-contrast-adjust:none;color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label{-ms-high-contrast-adjust:none;background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-diff-editor.vs-dark .diffOverviewRuler,.monaco-diff-editor.vs .diffOverviewRuler{display:none}.monaco-editor.vs-dark .line-delete,.monaco-editor.vs-dark .line-insert,.monaco-editor.vs .line-delete,.monaco-editor.vs .line-insert{background:transparent!important;border:1px solid highlight!important;box-sizing:border-box}.monaco-editor.vs-dark .char-delete,.monaco-editor.vs-dark .char-insert,.monaco-editor.vs .char-delete,.monaco-editor.vs .char-insert{background:transparent!important}}.monaco-action-bar .action-item.menu-entry .action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-action-bar .action-item.menu-entry .action-label,.vs-dark .monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-dark)}.context-view .monaco-menu{min-width:130px}\n');const n=await V.init(),i=new Ia(t,o,e,n,!t.getIsWritable()),r=new Si(t,o,i.yDoc,i.yText);return t.emitter.on("writableChange",(t=>{i.setReadonly(!t)})),t.emitter.on("destroy",(()=>{r.destroy(),i.destroy()})),i}};export{Oa as default};
